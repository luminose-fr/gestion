(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function i(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=i(f);fetch(f.href,p)}})();function Ac(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Xl={exports:{}},Ba={},Kl={exports:{}},we={};var ic;function dm(){if(ic)return we;ic=1;var s=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),A=Symbol.iterator;function $(v){return v===null||typeof v!="object"?null:(v=A&&v[A]||v["@@iterator"],typeof v=="function"?v:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,ae={};function re(v,E,J){this.props=v,this.context=E,this.refs=ae,this.updater=J||z}re.prototype.isReactComponent={},re.prototype.setState=function(v,E){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,E,"setState")},re.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function ne(){}ne.prototype=re.prototype;function q(v,E,J){this.props=v,this.context=E,this.refs=ae,this.updater=J||z}var se=q.prototype=new ne;se.constructor=q,oe(se,re.prototype),se.isPureReactComponent=!0;var W=Array.isArray,Ne=Object.prototype.hasOwnProperty,xe={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function U(v,E,J){var K,me={},be=null,je=null;if(E!=null)for(K in E.ref!==void 0&&(je=E.ref),E.key!==void 0&&(be=""+E.key),E)Ne.call(E,K)&&!B.hasOwnProperty(K)&&(me[K]=E[K]);var Se=arguments.length-2;if(Se===1)me.children=J;else if(1<Se){for(var ee=Array(Se),ue=0;ue<Se;ue++)ee[ue]=arguments[ue+2];me.children=ee}if(v&&v.defaultProps)for(K in Se=v.defaultProps,Se)me[K]===void 0&&(me[K]=Se[K]);return{$$typeof:s,type:v,key:be,ref:je,props:me,_owner:xe.current}}function ye(v,E){return{$$typeof:s,type:v.type,key:E,ref:v.ref,props:v.props,_owner:v._owner}}function ve(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function ge(v){var E={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(J){return E[J]})}var D=/\/+/g;function C(v,E){return typeof v=="object"&&v!==null&&v.key!=null?ge(""+v.key):E.toString(36)}function V(v,E,J,K,me){var be=typeof v;(be==="undefined"||be==="boolean")&&(v=null);var je=!1;if(v===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(v.$$typeof){case s:case l:je=!0}}if(je)return je=v,me=me(je),v=K===""?"."+C(je,0):K,W(me)?(J="",v!=null&&(J=v.replace(D,"$&/")+"/"),V(me,E,J,"",function(ue){return ue})):me!=null&&(ve(me)&&(me=ye(me,J+(!me.key||je&&je.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+v)),E.push(me)),1;if(je=0,K=K===""?".":K+":",W(v))for(var Se=0;Se<v.length;Se++){be=v[Se];var ee=K+C(be,Se);je+=V(be,E,J,ee,me)}else if(ee=$(v),typeof ee=="function")for(v=ee.call(v),Se=0;!(be=v.next()).done;)be=be.value,ee=K+C(be,Se++),je+=V(be,E,J,ee,me);else if(be==="object")throw E=String(v),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return je}function H(v,E,J){if(v==null)return v;var K=[],me=0;return V(v,K,"","",function(be){return E.call(J,be,me++)}),K}function le(v){if(v._status===-1){var E=v._result;E=E(),E.then(function(J){(v._status===0||v._status===-1)&&(v._status=1,v._result=J)},function(J){(v._status===0||v._status===-1)&&(v._status=2,v._result=J)}),v._status===-1&&(v._status=0,v._result=E)}if(v._status===1)return v._result.default;throw v._result}var he={current:null},R={transition:null},S={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:R,ReactCurrentOwner:xe};function L(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:H,forEach:function(v,E,J){H(v,function(){E.apply(this,arguments)},J)},count:function(v){var E=0;return H(v,function(){E++}),E},toArray:function(v){return H(v,function(E){return E})||[]},only:function(v){if(!ve(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},we.Component=re,we.Fragment=i,we.Profiler=f,we.PureComponent=q,we.StrictMode=u,we.Suspense=N,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S,we.act=L,we.cloneElement=function(v,E,J){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var K=oe({},v.props),me=v.key,be=v.ref,je=v._owner;if(E!=null){if(E.ref!==void 0&&(be=E.ref,je=xe.current),E.key!==void 0&&(me=""+E.key),v.type&&v.type.defaultProps)var Se=v.type.defaultProps;for(ee in E)Ne.call(E,ee)&&!B.hasOwnProperty(ee)&&(K[ee]=E[ee]===void 0&&Se!==void 0?Se[ee]:E[ee])}var ee=arguments.length-2;if(ee===1)K.children=J;else if(1<ee){Se=Array(ee);for(var ue=0;ue<ee;ue++)Se[ue]=arguments[ue+2];K.children=Se}return{$$typeof:s,type:v.type,key:me,ref:be,props:K,_owner:je}},we.createContext=function(v){return v={$$typeof:g,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:p,_context:v},v.Consumer=v},we.createElement=U,we.createFactory=function(v){var E=U.bind(null,v);return E.type=v,E},we.createRef=function(){return{current:null}},we.forwardRef=function(v){return{$$typeof:x,render:v}},we.isValidElement=ve,we.lazy=function(v){return{$$typeof:O,_payload:{_status:-1,_result:v},_init:le}},we.memo=function(v,E){return{$$typeof:y,type:v,compare:E===void 0?null:E}},we.startTransition=function(v){var E=R.transition;R.transition={};try{v()}finally{R.transition=E}},we.unstable_act=L,we.useCallback=function(v,E){return he.current.useCallback(v,E)},we.useContext=function(v){return he.current.useContext(v)},we.useDebugValue=function(){},we.useDeferredValue=function(v){return he.current.useDeferredValue(v)},we.useEffect=function(v,E){return he.current.useEffect(v,E)},we.useId=function(){return he.current.useId()},we.useImperativeHandle=function(v,E,J){return he.current.useImperativeHandle(v,E,J)},we.useInsertionEffect=function(v,E){return he.current.useInsertionEffect(v,E)},we.useLayoutEffect=function(v,E){return he.current.useLayoutEffect(v,E)},we.useMemo=function(v,E){return he.current.useMemo(v,E)},we.useReducer=function(v,E,J){return he.current.useReducer(v,E,J)},we.useRef=function(v){return he.current.useRef(v)},we.useState=function(v){return he.current.useState(v)},we.useSyncExternalStore=function(v,E,J){return he.current.useSyncExternalStore(v,E,J)},we.useTransition=function(){return he.current.useTransition()},we.version="18.3.1",we}var dc;function vi(){return dc||(dc=1,Kl.exports=dm()),Kl.exports}var uc;function um(){if(uc)return Ba;uc=1;var s=vi(),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(x,N,y){var O,A={},$=null,z=null;y!==void 0&&($=""+y),N.key!==void 0&&($=""+N.key),N.ref!==void 0&&(z=N.ref);for(O in N)u.call(N,O)&&!p.hasOwnProperty(O)&&(A[O]=N[O]);if(x&&x.defaultProps)for(O in N=x.defaultProps,N)A[O]===void 0&&(A[O]=N[O]);return{$$typeof:l,type:x,key:$,ref:z,props:A,_owner:f.current}}return Ba.Fragment=i,Ba.jsx=g,Ba.jsxs=g,Ba}var cc;function cm(){return cc||(cc=1,Xl.exports=um()),Xl.exports}var a=cm(),P=vi();const Ya=Ac(P);var to={},Zl={exports:{}},Nt={},ei={exports:{}},ti={};var fc;function fm(){return fc||(fc=1,(function(s){function l(R,S){var L=R.length;R.push(S);e:for(;0<L;){var v=L-1>>>1,E=R[v];if(0<f(E,S))R[v]=S,R[L]=E,L=v;else break e}}function i(R){return R.length===0?null:R[0]}function u(R){if(R.length===0)return null;var S=R[0],L=R.pop();if(L!==S){R[0]=L;e:for(var v=0,E=R.length,J=E>>>1;v<J;){var K=2*(v+1)-1,me=R[K],be=K+1,je=R[be];if(0>f(me,L))be<E&&0>f(je,me)?(R[v]=je,R[be]=L,v=be):(R[v]=me,R[K]=L,v=K);else if(be<E&&0>f(je,L))R[v]=je,R[be]=L,v=be;else break e}}return S}function f(R,S){var L=R.sortIndex-S.sortIndex;return L!==0?L:R.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var g=Date,x=g.now();s.unstable_now=function(){return g.now()-x}}var N=[],y=[],O=1,A=null,$=3,z=!1,oe=!1,ae=!1,re=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(R){for(var S=i(y);S!==null;){if(S.callback===null)u(y);else if(S.startTime<=R)u(y),S.sortIndex=S.expirationTime,l(N,S);else break;S=i(y)}}function W(R){if(ae=!1,se(R),!oe)if(i(N)!==null)oe=!0,le(Ne);else{var S=i(y);S!==null&&he(W,S.startTime-R)}}function Ne(R,S){oe=!1,ae&&(ae=!1,ne(U),U=-1),z=!0;var L=$;try{for(se(S),A=i(N);A!==null&&(!(A.expirationTime>S)||R&&!ge());){var v=A.callback;if(typeof v=="function"){A.callback=null,$=A.priorityLevel;var E=v(A.expirationTime<=S);S=s.unstable_now(),typeof E=="function"?A.callback=E:A===i(N)&&u(N),se(S)}else u(N);A=i(N)}if(A!==null)var J=!0;else{var K=i(y);K!==null&&he(W,K.startTime-S),J=!1}return J}finally{A=null,$=L,z=!1}}var xe=!1,B=null,U=-1,ye=5,ve=-1;function ge(){return!(s.unstable_now()-ve<ye)}function D(){if(B!==null){var R=s.unstable_now();ve=R;var S=!0;try{S=B(!0,R)}finally{S?C():(xe=!1,B=null)}}else xe=!1}var C;if(typeof q=="function")C=function(){q(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=D,C=function(){H.postMessage(null)}}else C=function(){re(D,0)};function le(R){B=R,xe||(xe=!0,C())}function he(R,S){U=re(function(){R(s.unstable_now())},S)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_continueExecution=function(){oe||z||(oe=!0,le(Ne))},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return $},s.unstable_getFirstCallbackNode=function(){return i(N)},s.unstable_next=function(R){switch($){case 1:case 2:case 3:var S=3;break;default:S=$}var L=$;$=S;try{return R()}finally{$=L}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(R,S){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=$;$=R;try{return S()}finally{$=L}},s.unstable_scheduleCallback=function(R,S,L){var v=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?v+L:v):L=v,R){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=L+E,R={id:O++,callback:S,priorityLevel:R,startTime:L,expirationTime:E,sortIndex:-1},L>v?(R.sortIndex=L,l(y,R),i(N)===null&&R===i(y)&&(ae?(ne(U),U=-1):ae=!0,he(W,L-v))):(R.sortIndex=E,l(N,R),oe||z||(oe=!0,le(Ne))),R},s.unstable_shouldYield=ge,s.unstable_wrapCallback=function(R){var S=$;return function(){var L=$;$=S;try{return R.apply(this,arguments)}finally{$=L}}}})(ti)),ti}var pc;function pm(){return pc||(pc=1,ei.exports=fm()),ei.exports}var mc;function mm(){if(mc)return Nt;mc=1;var s=vi(),l=pm();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function p(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O={},A={};function $(e){return N.call(A,e)?!0:N.call(O,e)?!1:y.test(e)?A[e]=!0:(O[e]=!0,!1)}function z(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oe(e,t,r,n){if(t===null||typeof t>"u"||z(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ae(e,t,r,n,o,d,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=c}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){re[e]=new ae(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];re[t]=new ae(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){re[e]=new ae(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){re[e]=new ae(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){re[e]=new ae(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){re[e]=new ae(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){re[e]=new ae(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){re[e]=new ae(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){re[e]=new ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ne,q);re[t]=new ae(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ne,q);re[t]=new ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ne,q);re[t]=new ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){re[e]=new ae(e,1,!1,e.toLowerCase(),null,!1,!1)}),re.xlinkHref=new ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){re[e]=new ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function se(e,t,r,n){var o=re.hasOwnProperty(t)?re[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oe(t,r,o,n)&&(r=null),n||o===null?$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var W=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),xe=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),ge=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),R=Symbol.iterator;function S(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,v;function E(e){if(v===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var J=!1;function K(e,t){if(!e||J)return"";J=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(j){var n=j}Reflect.construct(e,[],t)}else{try{t.call()}catch(j){n=j}e.call(t.prototype)}else{try{throw Error()}catch(j){n=j}e()}}catch(j){if(j&&n&&typeof j.stack=="string"){for(var o=j.stack.split(`
`),d=n.stack.split(`
`),c=o.length-1,m=d.length-1;1<=c&&0<=m&&o[c]!==d[m];)m--;for(;1<=c&&0<=m;c--,m--)if(o[c]!==d[m]){if(c!==1||m!==1)do if(c--,m--,0>m||o[c]!==d[m]){var h=`
`+o[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=m);break}}}finally{J=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?E(e):""}function me(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function be(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case xe:return"Portal";case ye:return"Profiler";case U:return"StrictMode";case C:return"Suspense";case V:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ge:return(e.displayName||"Context")+".Consumer";case ve:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(t);case 8:return t===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Se(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ue(e){var t=ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(c){n=""+c,d.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oe(e){e._valueTracker||(e._valueTracker=ue(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ee(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jt(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function St(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Se(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dt(e,t){t=t.checked,t!=null&&se(e,"checked",t,!1)}function Ft(e,t){Dt(e,t);var r=Se(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xt(e,t.type,r):t.hasOwnProperty("defaultValue")&&xt(e,t.type,Se(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xt(e,t,r){(t!=="number"||tt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pt=Array.isArray;function Mt(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Se(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function $t(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rr(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(pt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Se(r)}}function Ue(e,t){var r=Se(t.value),n=Se(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ge(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cn,Ja=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cn=Cn||document.createElement("div"),Cn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var F={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q=["Webkit","ms","Moz","O"];Object.keys(F).forEach(function(e){Q.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),F[t]=F[e]})});function ce(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||F.hasOwnProperty(e)&&F[e]?(""+t).trim():t+"px"}function ke(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=ce(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var qe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(e,t){if(t){if(qe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Tr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function nr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bt=null,Te=null,gt=null;function ar(e){if(e=Ca(e)){if(typeof Bt!="function")throw Error(i(280));var t=e.stateNode;t&&(t=xs(t),Bt(e.stateNode,e.type,t))}}function sr(e){Te?gt?gt.push(e):gt=[e]:Te=e}function rn(){if(Te){var e=Te,t=gt;if(gt=Te=null,ar(e),t)for(e=0;e<t.length;e++)ar(t[e])}}function nn(e,t){return e(t)}function an(){}var sn=!1;function on(e,t,r){if(sn)return e(t,r);sn=!0;try{return nn(e,t,r)}finally{sn=!1,(Te!==null||gt!==null)&&(an(),rn())}}function hr(e,t){var r=e.stateNode;if(r===null)return null;var n=xs(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Dr=!1;if(x)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Dr=!1}function En(e,t,r,n,o,d,c,m,h){var j=Array.prototype.slice.call(arguments,3);try{t.apply(r,j)}catch(T){this.onError(T)}}var Vt=!1,gr=null,_n=!1,br=null,xf={onError:function(e){Vt=!0,gr=e}};function gf(e,t,r,n,o,d,c,m,h){Vt=!1,gr=null,En.apply(xf,arguments)}function bf(e,t,r,n,o,d,c,m,h){if(gf.apply(this,arguments),Vt){if(Vt){var j=gr;Vt=!1,gr=null}else throw Error(i(198));_n||(_n=!0,br=j)}}function ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Di(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mi(e){if(ln(e)!==e)throw Error(i(188))}function vf(e){var t=e.alternate;if(!t){if(t=ln(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var d=o.alternate;if(d===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===r)return Mi(o),e;if(d===n)return Mi(o),t;d=d.sibling}throw Error(i(188))}if(r.return!==n.return)r=o,n=d;else{for(var c=!1,m=o.child;m;){if(m===r){c=!0,r=o,n=d;break}if(m===n){c=!0,n=o,r=d;break}m=m.sibling}if(!c){for(m=d.child;m;){if(m===r){c=!0,r=d,n=o;break}if(m===n){c=!0,n=d,r=o;break}m=m.sibling}if(!c)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Ii(e){return e=vf(e),e!==null?Pi(e):null}function Pi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pi(e);if(t!==null)return t;e=e.sibling}return null}var Ai=l.unstable_scheduleCallback,Ri=l.unstable_cancelCallback,yf=l.unstable_shouldYield,kf=l.unstable_requestPaint,We=l.unstable_now,wf=l.unstable_getCurrentPriorityLevel,go=l.unstable_ImmediatePriority,Li=l.unstable_UserBlockingPriority,Ga=l.unstable_NormalPriority,Nf=l.unstable_LowPriority,zi=l.unstable_IdlePriority,Xa=null,or=null;function jf(e){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Xa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Ef,Sf=Math.log,Cf=Math.LN2;function Ef(e){return e>>>=0,e===0?32:31-(Sf(e)/Cf|0)|0}var Ka=64,Za=4194304;function ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function es(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,d=e.pingedLanes,c=r&268435455;if(c!==0){var m=c&~o;m!==0?n=ia(m):(d&=c,d!==0&&(n=ia(d)))}else c=r&~o,c!==0?n=ia(c):d!==0&&(n=ia(d));if(n===0)return 0;if(t!==0&&t!==n&&(t&o)===0&&(o=n&-n,d=t&-t,o>=d||o===16&&(d&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ut(t),o=1<<r,n|=e[r],t&=~o;return n}function _f(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes;0<d;){var c=31-Ut(d),m=1<<c,h=o[c];h===-1?((m&r)===0||(m&n)!==0)&&(o[c]=_f(m,t)):h<=t&&(e.expiredLanes|=m),d&=~m}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fi(){var e=Ka;return Ka<<=1,(Ka&4194240)===0&&(Ka=64),e}function vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function da(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=r}function Of(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Ut(r),d=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~d}}function yo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ut(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var De=0;function $i(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Bi,ko,Vi,Ui,Wi,wo=!1,ts=[],Mr=null,Ir=null,Pr=null,ua=new Map,ca=new Map,Ar=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hi(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function fa(e,t,r,n,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Ca(t),t!==null&&ko(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Mf(e,t,r,n,o){switch(t){case"focusin":return Mr=fa(Mr,e,t,r,n,o),!0;case"dragenter":return Ir=fa(Ir,e,t,r,n,o),!0;case"mouseover":return Pr=fa(Pr,e,t,r,n,o),!0;case"pointerover":var d=o.pointerId;return ua.set(d,fa(ua.get(d)||null,e,t,r,n,o)),!0;case"gotpointercapture":return d=o.pointerId,ca.set(d,fa(ca.get(d)||null,e,t,r,n,o)),!0}return!1}function qi(e){var t=dn(e.target);if(t!==null){var r=ln(t);if(r!==null){if(t=r.tag,t===13){if(t=Di(r),t!==null){e.blockedOn=t,Wi(e.priority,function(){Vi(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Or=n,r.target.dispatchEvent(n),Or=null}else return t=Ca(r),t!==null&&ko(t),e.blockedOn=r,!1;t.shift()}return!0}function Yi(e,t,r){rs(e)&&r.delete(t)}function If(){wo=!1,Mr!==null&&rs(Mr)&&(Mr=null),Ir!==null&&rs(Ir)&&(Ir=null),Pr!==null&&rs(Pr)&&(Pr=null),ua.forEach(Yi),ca.forEach(Yi)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,If)))}function ma(e){function t(o){return pa(o,e)}if(0<ts.length){pa(ts[0],e);for(var r=1;r<ts.length;r++){var n=ts[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mr!==null&&pa(Mr,e),Ir!==null&&pa(Ir,e),Pr!==null&&pa(Pr,e),ua.forEach(t),ca.forEach(t),r=0;r<Ar.length;r++)n=Ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)qi(r),r.blockedOn===null&&Ar.shift()}var Tn=W.ReactCurrentBatchConfig,ns=!0;function Pf(e,t,r,n){var o=De,d=Tn.transition;Tn.transition=null;try{De=1,No(e,t,r,n)}finally{De=o,Tn.transition=d}}function Af(e,t,r,n){var o=De,d=Tn.transition;Tn.transition=null;try{De=4,No(e,t,r,n)}finally{De=o,Tn.transition=d}}function No(e,t,r,n){if(ns){var o=jo(e,t,r,n);if(o===null)Bo(e,t,n,as,r),Hi(e,n);else if(Mf(o,e,t,r,n))n.stopPropagation();else if(Hi(e,n),t&4&&-1<Df.indexOf(e)){for(;o!==null;){var d=Ca(o);if(d!==null&&Bi(d),d=jo(e,t,r,n),d===null&&Bo(e,t,n,as,r),d===o)break;o=d}o!==null&&n.stopPropagation()}else Bo(e,t,n,null,r)}}var as=null;function jo(e,t,r,n){if(as=null,e=nr(n),e=dn(e),e!==null)if(t=ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Di(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return as=e,null}function Qi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case go:return 1;case Li:return 4;case Ga:case Nf:return 16;case zi:return 536870912;default:return 16}default:return 16}}var Rr=null,So=null,ss=null;function Ji(){if(ss)return ss;var e,t=So,r=t.length,n,o="value"in Rr?Rr.value:Rr.textContent,d=o.length;for(e=0;e<r&&t[e]===o[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===o[d-n];n++);return ss=o.slice(e,1<n?1-n:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Gi(){return!1}function Ct(e){function t(r,n,o,d,c){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=d,this.target=c,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(d):d[m]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ls:Gi,this.isPropagationStopped=Gi,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Ct(On),ha=L({},On,{view:0,detail:0}),Rf=Ct(ha),Eo,_o,xa,is=L({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xa&&(xa&&e.type==="mousemove"?(Eo=e.screenX-xa.screenX,_o=e.screenY-xa.screenY):_o=Eo=0,xa=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),Xi=Ct(is),Lf=L({},is,{dataTransfer:0}),zf=Ct(Lf),Ff=L({},ha,{relatedTarget:0}),To=Ct(Ff),$f=L({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Bf=Ct($f),Vf=L({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uf=Ct(Vf),Wf=L({},On,{data:0}),Ki=Ct(Wf),Hf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yf[e])?!!t[e]:!1}function Oo(){return Qf}var Jf=L({},ha,{key:function(e){if(e.key){var t=Hf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gf=Ct(Jf),Xf=L({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ct(Xf),Kf=L({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),Zf=Ct(Kf),ep=L({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),tp=Ct(ep),rp=L({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),np=Ct(rp),ap=[9,13,27,32],Do=x&&"CompositionEvent"in window,ga=null;x&&"documentMode"in document&&(ga=document.documentMode);var sp=x&&"TextEvent"in window&&!ga,ed=x&&(!Do||ga&&8<ga&&11>=ga),td=" ",rd=!1;function nd(e,t){switch(e){case"keyup":return ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function op(e,t){switch(e){case"compositionend":return ad(t);case"keypress":return t.which!==32?null:(rd=!0,td);case"textInput":return e=t.data,e===td&&rd?null:e;default:return null}}function lp(e,t){if(Dn)return e==="compositionend"||!Do&&nd(e,t)?(e=Ji(),ss=So=Rr=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ed&&t.locale!=="ko"?null:t.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ip[e.type]:t==="textarea"}function od(e,t,r,n){sr(n),t=ps(t,"onChange"),0<t.length&&(r=new Co("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ba=null,va=null;function dp(e){jd(e,0)}function ds(e){var t=Rn(e);if(ft(t))return e}function up(e,t){if(e==="change")return t}var ld=!1;if(x){var Mo;if(x){var Io="oninput"in document;if(!Io){var id=document.createElement("div");id.setAttribute("oninput","return;"),Io=typeof id.oninput=="function"}Mo=Io}else Mo=!1;ld=Mo&&(!document.documentMode||9<document.documentMode)}function dd(){ba&&(ba.detachEvent("onpropertychange",ud),va=ba=null)}function ud(e){if(e.propertyName==="value"&&ds(va)){var t=[];od(t,va,e,nr(e)),on(dp,t)}}function cp(e,t,r){e==="focusin"?(dd(),ba=t,va=r,ba.attachEvent("onpropertychange",ud)):e==="focusout"&&dd()}function fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ds(va)}function pp(e,t){if(e==="click")return ds(t)}function mp(e,t){if(e==="input"||e==="change")return ds(t)}function hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:hp;function ya(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!N.call(t,o)||!Wt(e[o],t[o]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var r=cd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cd(r)}}function pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=tt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tt(e.document)}return t}function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xp(e){var t=md(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pd(r.ownerDocument.documentElement,r)){if(n!==null&&Po(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,d=Math.min(n.start,o);n=n.end===void 0?d:Math.min(n.end,o),!e.extend&&d>n&&(o=n,n=d,d=o),o=fd(r,d);var c=fd(r,n);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),d>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gp=x&&"documentMode"in document&&11>=document.documentMode,Mn=null,Ao=null,ka=null,Ro=!1;function hd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ro||Mn==null||Mn!==tt(n)||(n=Mn,"selectionStart"in n&&Po(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ka&&ya(ka,n)||(ka=n,n=ps(Ao,"onSelect"),0<n.length&&(t=new Co("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mn)))}function us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var In={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Lo={},xd={};x&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function cs(e){if(Lo[e])return Lo[e];if(!In[e])return e;var t=In[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xd)return Lo[e]=t[r];return e}var gd=cs("animationend"),bd=cs("animationiteration"),vd=cs("animationstart"),yd=cs("transitionend"),kd=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){kd.set(e,t),p(t,[e])}for(var zo=0;zo<wd.length;zo++){var Fo=wd[zo],bp=Fo.toLowerCase(),vp=Fo[0].toUpperCase()+Fo.slice(1);Lr(bp,"on"+vp)}Lr(gd,"onAnimationEnd"),Lr(bd,"onAnimationIteration"),Lr(vd,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(yd,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Nd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bf(n,t,void 0,e),e.currentTarget=null}function jd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var d=void 0;if(t)for(var c=n.length-1;0<=c;c--){var m=n[c],h=m.instance,j=m.currentTarget;if(m=m.listener,h!==d&&o.isPropagationStopped())break e;Nd(o,m,j),d=h}else for(c=0;c<n.length;c++){if(m=n[c],h=m.instance,j=m.currentTarget,m=m.listener,h!==d&&o.isPropagationStopped())break e;Nd(o,m,j),d=h}}}if(_n)throw e=br,_n=!1,br=null,e}function Le(e,t){var r=t[Yo];r===void 0&&(r=t[Yo]=new Set);var n=e+"__bubble";r.has(n)||(Sd(t,e,2,!1),r.add(n))}function $o(e,t,r){var n=0;t&&(n|=4),Sd(r,e,n,t)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[fs]){e[fs]=!0,u.forEach(function(r){r!=="selectionchange"&&(yp.has(r)||$o(r,!1,e),$o(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fs]||(t[fs]=!0,$o("selectionchange",!1,t))}}function Sd(e,t,r,n){switch(Qi(t)){case 1:var o=Pf;break;case 4:o=Af;break;default:o=No}r=o.bind(null,t,r,e),o=void 0,!Dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Bo(e,t,r,n,o){var d=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var m=n.stateNode.containerInfo;if(m===o||m.nodeType===8&&m.parentNode===o)break;if(c===4)for(c=n.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;c=c.return}for(;m!==null;){if(c=dn(m),c===null)return;if(h=c.tag,h===5||h===6){n=d=c;continue e}m=m.parentNode}}n=n.return}on(function(){var j=d,T=nr(r),M=[];e:{var _=kd.get(e);if(_!==void 0){var Y=Co,X=e;switch(e){case"keypress":if(os(r)===0)break e;case"keydown":case"keyup":Y=Gf;break;case"focusin":X="focus",Y=To;break;case"focusout":X="blur",Y=To;break;case"beforeblur":case"afterblur":Y=To;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zf;break;case gd:case bd:case vd:Y=Bf;break;case yd:Y=tp;break;case"scroll":Y=Rf;break;case"wheel":Y=np;break;case"copy":case"cut":case"paste":Y=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zi}var Z=(t&4)!==0,He=!Z&&e==="scroll",k=Z?_!==null?_+"Capture":null:_;Z=[];for(var b=j,w;b!==null;){w=b;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,k!==null&&(I=hr(b,k),I!=null&&Z.push(ja(b,I,w)))),He)break;b=b.return}0<Z.length&&(_=new Y(_,X,null,r,T),M.push({event:_,listeners:Z}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",_&&r!==Or&&(X=r.relatedTarget||r.fromElement)&&(dn(X)||X[vr]))break e;if((Y||_)&&(_=T.window===T?T:(_=T.ownerDocument)?_.defaultView||_.parentWindow:window,Y?(X=r.relatedTarget||r.toElement,Y=j,X=X?dn(X):null,X!==null&&(He=ln(X),X!==He||X.tag!==5&&X.tag!==6)&&(X=null)):(Y=null,X=j),Y!==X)){if(Z=Xi,I="onMouseLeave",k="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Zi,I="onPointerLeave",k="onPointerEnter",b="pointer"),He=Y==null?_:Rn(Y),w=X==null?_:Rn(X),_=new Z(I,b+"leave",Y,r,T),_.target=He,_.relatedTarget=w,I=null,dn(T)===j&&(Z=new Z(k,b+"enter",X,r,T),Z.target=w,Z.relatedTarget=He,I=Z),He=I,Y&&X)t:{for(Z=Y,k=X,b=0,w=Z;w;w=Pn(w))b++;for(w=0,I=k;I;I=Pn(I))w++;for(;0<b-w;)Z=Pn(Z),b--;for(;0<w-b;)k=Pn(k),w--;for(;b--;){if(Z===k||k!==null&&Z===k.alternate)break t;Z=Pn(Z),k=Pn(k)}Z=null}else Z=null;Y!==null&&Cd(M,_,Y,Z,!1),X!==null&&He!==null&&Cd(M,He,X,Z,!0)}}e:{if(_=j?Rn(j):window,Y=_.nodeName&&_.nodeName.toLowerCase(),Y==="select"||Y==="input"&&_.type==="file")var te=up;else if(sd(_))if(ld)te=mp;else{te=fp;var ie=cp}else(Y=_.nodeName)&&Y.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(te=pp);if(te&&(te=te(e,j))){od(M,te,r,T);break e}ie&&ie(e,_,j),e==="focusout"&&(ie=_._wrapperState)&&ie.controlled&&_.type==="number"&&xt(_,"number",_.value)}switch(ie=j?Rn(j):window,e){case"focusin":(sd(ie)||ie.contentEditable==="true")&&(Mn=ie,Ao=j,ka=null);break;case"focusout":ka=Ao=Mn=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,hd(M,r,T);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":hd(M,r,T)}var de;if(Do)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Dn?nd(e,r)&&(pe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(pe="onCompositionStart");pe&&(ed&&r.locale!=="ko"&&(Dn||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Dn&&(de=Ji()):(Rr=T,So="value"in Rr?Rr.value:Rr.textContent,Dn=!0)),ie=ps(j,pe),0<ie.length&&(pe=new Ki(pe,e,null,r,T),M.push({event:pe,listeners:ie}),de?pe.data=de:(de=ad(r),de!==null&&(pe.data=de)))),(de=sp?op(e,r):lp(e,r))&&(j=ps(j,"onBeforeInput"),0<j.length&&(T=new Ki("onBeforeInput","beforeinput",null,r,T),M.push({event:T,listeners:j}),T.data=de))}jd(M,t)})}function ja(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ps(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,d=o.stateNode;o.tag===5&&d!==null&&(o=d,d=hr(e,r),d!=null&&n.unshift(ja(e,d,o)),d=hr(e,t),d!=null&&n.push(ja(e,d,o))),e=e.return}return n}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cd(e,t,r,n,o){for(var d=t._reactName,c=[];r!==null&&r!==n;){var m=r,h=m.alternate,j=m.stateNode;if(h!==null&&h===n)break;m.tag===5&&j!==null&&(m=j,o?(h=hr(r,d),h!=null&&c.unshift(ja(r,h,m))):o||(h=hr(r,d),h!=null&&c.push(ja(r,h,m)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var kp=/\r\n?/g,wp=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(kp,`
`).replace(wp,"")}function ms(e,t,r){if(t=Ed(t),Ed(e)!==t&&r)throw Error(i(425))}function hs(){}var Vo=null,Uo=null;function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,_d=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof _d<"u"?function(e){return _d.resolve(null).then(e).catch(Sp)}:Ho;function Sp(e){setTimeout(function(){throw e})}function qo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),ma(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);ma(t)}function zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),lr="__reactFiber$"+An,Sa="__reactProps$"+An,vr="__reactContainer$"+An,Yo="__reactEvents$"+An,Cp="__reactListeners$"+An,Ep="__reactHandles$"+An;function dn(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vr]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Td(e);e!==null;){if(r=e[lr])return r;e=Td(e)}return t}e=r,r=e.parentNode}return null}function Ca(e){return e=e[lr]||e[vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function xs(e){return e[Sa]||null}var Qo=[],Ln=-1;function Fr(e){return{current:e}}function ze(e){0>Ln||(e.current=Qo[Ln],Qo[Ln]=null,Ln--)}function Re(e,t){Ln++,Qo[Ln]=e.current,e.current=t}var $r={},ot=Fr($r),bt=Fr(!1),un=$r;function zn(e,t){var r=e.type.contextTypes;if(!r)return $r;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},d;for(d in r)o[d]=t[d];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vt(e){return e=e.childContextTypes,e!=null}function gs(){ze(bt),ze(ot)}function Od(e,t,r){if(ot.current!==$r)throw Error(i(168));Re(ot,t),Re(bt,r)}function Dd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(i(108,je(e)||"Unknown",o));return L({},r,n)}function bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,un=ot.current,Re(ot,e),Re(bt,bt.current),!0}function Md(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Dd(e,t,un),n.__reactInternalMemoizedMergedChildContext=e,ze(bt),ze(ot),Re(ot,e)):ze(bt),Re(bt,r)}var yr=null,vs=!1,Jo=!1;function Id(e){yr===null?yr=[e]:yr.push(e)}function _p(e){vs=!0,Id(e)}function Br(){if(!Jo&&yr!==null){Jo=!0;var e=0,t=De;try{var r=yr;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yr=null,vs=!1}catch(o){throw yr!==null&&(yr=yr.slice(e+1)),Ai(go,Br),o}finally{De=t,Jo=!1}}return null}var Fn=[],$n=0,ys=null,ks=0,It=[],Pt=0,cn=null,kr=1,wr="";function fn(e,t){Fn[$n++]=ks,Fn[$n++]=ys,ys=e,ks=t}function Pd(e,t,r){It[Pt++]=kr,It[Pt++]=wr,It[Pt++]=cn,cn=e;var n=kr;e=wr;var o=32-Ut(n)-1;n&=~(1<<o),r+=1;var d=32-Ut(t)+o;if(30<d){var c=o-o%5;d=(n&(1<<c)-1).toString(32),n>>=c,o-=c,kr=1<<32-Ut(t)+o|r<<o|n,wr=d+e}else kr=1<<d|r<<o|n,wr=e}function Go(e){e.return!==null&&(fn(e,1),Pd(e,1,0))}function Xo(e){for(;e===ys;)ys=Fn[--$n],Fn[$n]=null,ks=Fn[--$n],Fn[$n]=null;for(;e===cn;)cn=It[--Pt],It[Pt]=null,wr=It[--Pt],It[Pt]=null,kr=It[--Pt],It[Pt]=null}var Et=null,_t=null,Fe=!1,Ht=null;function Ad(e,t){var r=zt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,_t=zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cn!==null?{id:kr,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Et=e,_t=null,!0):!1;default:return!1}}function Ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(Fe){var t=_t;if(t){var r=t;if(!Rd(e,t)){if(Ko(e))throw Error(i(418));t=zr(r.nextSibling);var n=Et;t&&Rd(e,t)?Ad(n,r):(e.flags=e.flags&-4097|2,Fe=!1,Et=e)}}else{if(Ko(e))throw Error(i(418));e.flags=e.flags&-4097|2,Fe=!1,Et=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function ws(e){if(e!==Et)return!1;if(!Fe)return Ld(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wo(e.type,e.memoizedProps)),t&&(t=_t)){if(Ko(e))throw zd(),Error(i(418));for(;t;)Ad(e,t),t=zr(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_t=zr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Et?zr(e.stateNode.nextSibling):null;return!0}function zd(){for(var e=_t;e;)e=zr(e.nextSibling)}function Bn(){_t=Et=null,Fe=!1}function el(e){Ht===null?Ht=[e]:Ht.push(e)}var Tp=W.ReactCurrentBatchConfig;function Ea(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var o=n,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(c){var m=o.refs;c===null?delete m[d]:m[d]=c},t._stringRef=d,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fd(e){var t=e._init;return t(e._payload)}function $d(e){function t(k,b){if(e){var w=k.deletions;w===null?(k.deletions=[b],k.flags|=16):w.push(b)}}function r(k,b){if(!e)return null;for(;b!==null;)t(k,b),b=b.sibling;return null}function n(k,b){for(k=new Map;b!==null;)b.key!==null?k.set(b.key,b):k.set(b.index,b),b=b.sibling;return k}function o(k,b){return k=Jr(k,b),k.index=0,k.sibling=null,k}function d(k,b,w){return k.index=w,e?(w=k.alternate,w!==null?(w=w.index,w<b?(k.flags|=2,b):w):(k.flags|=2,b)):(k.flags|=1048576,b)}function c(k){return e&&k.alternate===null&&(k.flags|=2),k}function m(k,b,w,I){return b===null||b.tag!==6?(b=Hl(w,k.mode,I),b.return=k,b):(b=o(b,w),b.return=k,b)}function h(k,b,w,I){var te=w.type;return te===B?T(k,b,w.props.children,I,w.key):b!==null&&(b.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===le&&Fd(te)===b.type)?(I=o(b,w.props),I.ref=Ea(k,b,w),I.return=k,I):(I=Ys(w.type,w.key,w.props,null,k.mode,I),I.ref=Ea(k,b,w),I.return=k,I)}function j(k,b,w,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ql(w,k.mode,I),b.return=k,b):(b=o(b,w.children||[]),b.return=k,b)}function T(k,b,w,I,te){return b===null||b.tag!==7?(b=yn(w,k.mode,I,te),b.return=k,b):(b=o(b,w),b.return=k,b)}function M(k,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Hl(""+b,k.mode,w),b.return=k,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ne:return w=Ys(b.type,b.key,b.props,null,k.mode,w),w.ref=Ea(k,null,b),w.return=k,w;case xe:return b=ql(b,k.mode,w),b.return=k,b;case le:var I=b._init;return M(k,I(b._payload),w)}if(pt(b)||S(b))return b=yn(b,k.mode,w,null),b.return=k,b;Ns(k,b)}return null}function _(k,b,w,I){var te=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return te!==null?null:m(k,b,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ne:return w.key===te?h(k,b,w,I):null;case xe:return w.key===te?j(k,b,w,I):null;case le:return te=w._init,_(k,b,te(w._payload),I)}if(pt(w)||S(w))return te!==null?null:T(k,b,w,I,null);Ns(k,w)}return null}function Y(k,b,w,I,te){if(typeof I=="string"&&I!==""||typeof I=="number")return k=k.get(w)||null,m(b,k,""+I,te);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ne:return k=k.get(I.key===null?w:I.key)||null,h(b,k,I,te);case xe:return k=k.get(I.key===null?w:I.key)||null,j(b,k,I,te);case le:var ie=I._init;return Y(k,b,w,ie(I._payload),te)}if(pt(I)||S(I))return k=k.get(w)||null,T(b,k,I,te,null);Ns(b,I)}return null}function X(k,b,w,I){for(var te=null,ie=null,de=b,pe=b=0,Ze=null;de!==null&&pe<w.length;pe++){de.index>pe?(Ze=de,de=null):Ze=de.sibling;var Ee=_(k,de,w[pe],I);if(Ee===null){de===null&&(de=Ze);break}e&&de&&Ee.alternate===null&&t(k,de),b=d(Ee,b,pe),ie===null?te=Ee:ie.sibling=Ee,ie=Ee,de=Ze}if(pe===w.length)return r(k,de),Fe&&fn(k,pe),te;if(de===null){for(;pe<w.length;pe++)de=M(k,w[pe],I),de!==null&&(b=d(de,b,pe),ie===null?te=de:ie.sibling=de,ie=de);return Fe&&fn(k,pe),te}for(de=n(k,de);pe<w.length;pe++)Ze=Y(de,k,pe,w[pe],I),Ze!==null&&(e&&Ze.alternate!==null&&de.delete(Ze.key===null?pe:Ze.key),b=d(Ze,b,pe),ie===null?te=Ze:ie.sibling=Ze,ie=Ze);return e&&de.forEach(function(Gr){return t(k,Gr)}),Fe&&fn(k,pe),te}function Z(k,b,w,I){var te=S(w);if(typeof te!="function")throw Error(i(150));if(w=te.call(w),w==null)throw Error(i(151));for(var ie=te=null,de=b,pe=b=0,Ze=null,Ee=w.next();de!==null&&!Ee.done;pe++,Ee=w.next()){de.index>pe?(Ze=de,de=null):Ze=de.sibling;var Gr=_(k,de,Ee.value,I);if(Gr===null){de===null&&(de=Ze);break}e&&de&&Gr.alternate===null&&t(k,de),b=d(Gr,b,pe),ie===null?te=Gr:ie.sibling=Gr,ie=Gr,de=Ze}if(Ee.done)return r(k,de),Fe&&fn(k,pe),te;if(de===null){for(;!Ee.done;pe++,Ee=w.next())Ee=M(k,Ee.value,I),Ee!==null&&(b=d(Ee,b,pe),ie===null?te=Ee:ie.sibling=Ee,ie=Ee);return Fe&&fn(k,pe),te}for(de=n(k,de);!Ee.done;pe++,Ee=w.next())Ee=Y(de,k,pe,Ee.value,I),Ee!==null&&(e&&Ee.alternate!==null&&de.delete(Ee.key===null?pe:Ee.key),b=d(Ee,b,pe),ie===null?te=Ee:ie.sibling=Ee,ie=Ee);return e&&de.forEach(function(im){return t(k,im)}),Fe&&fn(k,pe),te}function He(k,b,w,I){if(typeof w=="object"&&w!==null&&w.type===B&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ne:e:{for(var te=w.key,ie=b;ie!==null;){if(ie.key===te){if(te=w.type,te===B){if(ie.tag===7){r(k,ie.sibling),b=o(ie,w.props.children),b.return=k,k=b;break e}}else if(ie.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===le&&Fd(te)===ie.type){r(k,ie.sibling),b=o(ie,w.props),b.ref=Ea(k,ie,w),b.return=k,k=b;break e}r(k,ie);break}else t(k,ie);ie=ie.sibling}w.type===B?(b=yn(w.props.children,k.mode,I,w.key),b.return=k,k=b):(I=Ys(w.type,w.key,w.props,null,k.mode,I),I.ref=Ea(k,b,w),I.return=k,k=I)}return c(k);case xe:e:{for(ie=w.key;b!==null;){if(b.key===ie)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(k,b.sibling),b=o(b,w.children||[]),b.return=k,k=b;break e}else{r(k,b);break}else t(k,b);b=b.sibling}b=ql(w,k.mode,I),b.return=k,k=b}return c(k);case le:return ie=w._init,He(k,b,ie(w._payload),I)}if(pt(w))return X(k,b,w,I);if(S(w))return Z(k,b,w,I);Ns(k,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(k,b.sibling),b=o(b,w),b.return=k,k=b):(r(k,b),b=Hl(w,k.mode,I),b.return=k,k=b),c(k)):r(k,b)}return He}var Vn=$d(!0),Bd=$d(!1),js=Fr(null),Ss=null,Un=null,tl=null;function rl(){tl=Un=Ss=null}function nl(e){var t=js.current;ze(js),e._currentValue=t}function al(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wn(e,t){Ss=e,tl=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(yt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(Ss===null)throw Error(i(308));Un=e,Ss.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var pn=null;function sl(e){pn===null?pn=[e]:pn.push(e)}function Vd(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,sl(t)):(r.next=o.next,o.next=r),t.interleaved=r,Nr(e,n)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vr=!1;function ol(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ce&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Nr(e,r)}return o=n.interleaved,o===null?(t.next=t,sl(n)):(t.next=o.next,o.next=t),n.interleaved=t,Nr(e,r)}function Cs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yo(e,r)}}function Wd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?o=d=c:d=d.next=c,r=r.next}while(r!==null);d===null?o=d=t:d=d.next=t}else o=d=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Es(e,t,r,n){var o=e.updateQueue;Vr=!1;var d=o.firstBaseUpdate,c=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var h=m,j=h.next;h.next=null,c===null?d=j:c.next=j,c=h;var T=e.alternate;T!==null&&(T=T.updateQueue,m=T.lastBaseUpdate,m!==c&&(m===null?T.firstBaseUpdate=j:m.next=j,T.lastBaseUpdate=h))}if(d!==null){var M=o.baseState;c=0,T=j=h=null,m=d;do{var _=m.lane,Y=m.eventTime;if((n&_)===_){T!==null&&(T=T.next={eventTime:Y,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var X=e,Z=m;switch(_=t,Y=r,Z.tag){case 1:if(X=Z.payload,typeof X=="function"){M=X.call(Y,M,_);break e}M=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Z.payload,_=typeof X=="function"?X.call(Y,M,_):X,_==null)break e;M=L({},M,_);break e;case 2:Vr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,_=o.effects,_===null?o.effects=[m]:_.push(m))}else Y={eventTime:Y,lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},T===null?(j=T=Y,h=M):T=T.next=Y,c|=_;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;_=m,m=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(T===null&&(h=M),o.baseState=h,o.firstBaseUpdate=j,o.lastBaseUpdate=T,t=o.shared.interleaved,t!==null){o=t;do c|=o.lane,o=o.next;while(o!==t)}else d===null&&(o.shared.lanes=0);xn|=c,e.lanes=c,e.memoizedState=M}}function Hd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(i(191,o));o.call(n)}}}var _a={},ir=Fr(_a),Ta=Fr(_a),Oa=Fr(_a);function mn(e){if(e===_a)throw Error(i(174));return e}function ll(e,t){switch(Re(Oa,t),Re(Ta,e),Re(ir,_a),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:la(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=la(t,e)}ze(ir),Re(ir,t)}function Hn(){ze(ir),ze(Ta),ze(Oa)}function qd(e){mn(Oa.current);var t=mn(ir.current),r=la(t,e.type);t!==r&&(Re(Ta,e),Re(ir,r))}function il(e){Ta.current===e&&(ze(ir),ze(Ta))}var $e=Fr(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function ul(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var Ts=W.ReactCurrentDispatcher,cl=W.ReactCurrentBatchConfig,hn=0,Be=null,Qe=null,Xe=null,Os=!1,Da=!1,Ma=0,Op=0;function lt(){throw Error(i(321))}function fl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wt(e[r],t[r]))return!1;return!0}function pl(e,t,r,n,o,d){if(hn=d,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?Pp:Ap,e=r(n,o),Da){d=0;do{if(Da=!1,Ma=0,25<=d)throw Error(i(301));d+=1,Xe=Qe=null,t.updateQueue=null,Ts.current=Rp,e=r(n,o)}while(Da)}if(Ts.current=Is,t=Qe!==null&&Qe.next!==null,hn=0,Xe=Qe=Be=null,Os=!1,t)throw Error(i(300));return e}function ml(){var e=Ma!==0;return Ma=0,e}function dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Be.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Rt(){if(Qe===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Xe===null?Be.memoizedState:Xe.next;if(t!==null)Xe=t,Qe=e;else{if(e===null)throw Error(i(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Xe===null?Be.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ia(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var n=Qe,o=n.baseQueue,d=r.pending;if(d!==null){if(o!==null){var c=o.next;o.next=d.next,d.next=c}n.baseQueue=o=d,r.pending=null}if(o!==null){d=o.next,n=n.baseState;var m=c=null,h=null,j=d;do{var T=j.lane;if((hn&T)===T)h!==null&&(h=h.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),n=j.hasEagerState?j.eagerState:e(n,j.action);else{var M={lane:T,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};h===null?(m=h=M,c=n):h=h.next=M,Be.lanes|=T,xn|=T}j=j.next}while(j!==null&&j!==d);h===null?c=n:h.next=m,Wt(n,t.memoizedState)||(yt=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=h,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do d=o.lane,Be.lanes|=d,xn|=d,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,d=t.memoizedState;if(o!==null){r.pending=null;var c=o=o.next;do d=e(d,c.action),c=c.next;while(c!==o);Wt(d,t.memoizedState)||(yt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,n]}function Yd(){}function Qd(e,t){var r=Be,n=Rt(),o=t(),d=!Wt(n.memoizedState,o);if(d&&(n.memoizedState=o,yt=!0),n=n.queue,gl(Xd.bind(null,r,n,e),[e]),n.getSnapshot!==t||d||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Pa(9,Gd.bind(null,r,n,o,t),void 0,null),Ke===null)throw Error(i(349));(hn&30)!==0||Jd(r,t,o)}return o}function Jd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Gd(e,t,r,n){t.value=r,t.getSnapshot=n,Kd(t)&&Zd(e)}function Xd(e,t,r){return r(function(){Kd(t)&&Zd(e)})}function Kd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wt(e,r)}catch{return!0}}function Zd(e){var t=Nr(e,1);t!==null&&Jt(t,e,1,-1)}function eu(e){var t=dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=Ip.bind(null,Be,e),[t.memoizedState,e]}function Pa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tu(){return Rt().memoizedState}function Ds(e,t,r,n){var o=dr();Be.flags|=e,o.memoizedState=Pa(1|t,r,void 0,n===void 0?null:n)}function Ms(e,t,r,n){var o=Rt();n=n===void 0?null:n;var d=void 0;if(Qe!==null){var c=Qe.memoizedState;if(d=c.destroy,n!==null&&fl(n,c.deps)){o.memoizedState=Pa(t,r,d,n);return}}Be.flags|=e,o.memoizedState=Pa(1|t,r,d,n)}function ru(e,t){return Ds(8390656,8,e,t)}function gl(e,t){return Ms(2048,8,e,t)}function nu(e,t){return Ms(4,2,e,t)}function au(e,t){return Ms(4,4,e,t)}function su(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ou(e,t,r){return r=r!=null?r.concat([e]):null,Ms(4,4,su.bind(null,t,e),r)}function bl(){}function lu(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iu(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function du(e,t,r){return(hn&21)===0?(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r):(Wt(r,t)||(r=Fi(),Be.lanes|=r,xn|=r,e.baseState=!0),t)}function Dp(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=cl.transition;cl.transition={};try{e(!1),t()}finally{De=r,cl.transition=n}}function uu(){return Rt().memoizedState}function Mp(e,t,r){var n=Yr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cu(e))fu(t,r);else if(r=Vd(e,t,r,n),r!==null){var o=ht();Jt(r,e,n,o),pu(r,t,n)}}function Ip(e,t,r){var n=Yr(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cu(e))fu(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var c=t.lastRenderedState,m=d(c,r);if(o.hasEagerState=!0,o.eagerState=m,Wt(m,c)){var h=t.interleaved;h===null?(o.next=o,sl(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}r=Vd(e,t,o,n),r!==null&&(o=ht(),Jt(r,e,n,o),pu(r,t,n))}}function cu(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function fu(e,t){Da=Os=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pu(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yo(e,r)}}var Is={readContext:At,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Pp={readContext:At,useCallback:function(e,t){return dr().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ds(4194308,4,su.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var r=dr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Mp.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=dr();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:bl,useDeferredValue:function(e){return dr().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=Dp.bind(null,e[1]),dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,o=dr();if(Fe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ke===null)throw Error(i(349));(hn&30)!==0||Jd(n,t,r)}o.memoizedState=r;var d={value:r,getSnapshot:t};return o.queue=d,ru(Xd.bind(null,n,d,e),[e]),n.flags|=2048,Pa(9,Gd.bind(null,n,d,r,t),void 0,null),r},useId:function(){var e=dr(),t=Ke.identifierPrefix;if(Fe){var r=wr,n=kr;r=(n&~(1<<32-Ut(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ma++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Op++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ap={readContext:At,useCallback:lu,useContext:At,useEffect:gl,useImperativeHandle:ou,useInsertionEffect:nu,useLayoutEffect:au,useMemo:iu,useReducer:hl,useRef:tu,useState:function(){return hl(Ia)},useDebugValue:bl,useDeferredValue:function(e){var t=Rt();return du(t,Qe.memoizedState,e)},useTransition:function(){var e=hl(Ia)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Qd,useId:uu,unstable_isNewReconciler:!1},Rp={readContext:At,useCallback:lu,useContext:At,useEffect:gl,useImperativeHandle:ou,useInsertionEffect:nu,useLayoutEffect:au,useMemo:iu,useReducer:xl,useRef:tu,useState:function(){return xl(Ia)},useDebugValue:bl,useDeferredValue:function(e){var t=Rt();return Qe===null?t.memoizedState=e:du(t,Qe.memoizedState,e)},useTransition:function(){var e=xl(Ia)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Qd,useId:uu,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=L({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:L({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ps={isMounted:function(e){return(e=e._reactInternals)?ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ht(),o=Yr(e),d=jr(n,o);d.payload=t,r!=null&&(d.callback=r),t=Ur(e,d,o),t!==null&&(Jt(t,e,o,n),Cs(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ht(),o=Yr(e),d=jr(n,o);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Ur(e,d,o),t!==null&&(Jt(t,e,o,n),Cs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ht(),n=Yr(e),o=jr(r,n);o.tag=2,t!=null&&(o.callback=t),t=Ur(e,o,n),t!==null&&(Jt(t,e,n,r),Cs(t,e,n))}};function mu(e,t,r,n,o,d,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,d,c):t.prototype&&t.prototype.isPureReactComponent?!ya(r,n)||!ya(o,d):!0}function hu(e,t,r){var n=!1,o=$r,d=t.contextType;return typeof d=="object"&&d!==null?d=At(d):(o=vt(t)?un:ot.current,n=t.contextTypes,d=(n=n!=null)?zn(e,o):$r),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=d),t}function xu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function yl(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},ol(e);var d=t.contextType;typeof d=="object"&&d!==null?o.context=At(d):(d=vt(t)?un:ot.current,o.context=zn(e,d)),o.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(vl(e,t,d,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ps.enqueueReplaceState(o,o.state,null),Es(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var r="",n=t;do r+=me(n),n=n.return;while(n);var o=r}catch(d){o=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:o,digest:null}}function kl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Lp=typeof WeakMap=="function"?WeakMap:Map;function gu(e,t,r){r=jr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bs||(Bs=!0,Ll=n),wl(e,t)},r}function bu(e,t,r){r=jr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){wl(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){wl(e,t),typeof n!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function vu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Lp;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Xp.bind(null,e,t,r),t.then(e,e))}function yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ku(e,t,r,n,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jr(-1,1),t.tag=2,Ur(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var zp=W.ReactCurrentOwner,yt=!1;function mt(e,t,r,n){t.child=e===null?Bd(t,null,r,n):Vn(t,e.child,r,n)}function wu(e,t,r,n,o){r=r.render;var d=t.ref;return Wn(t,o),n=pl(e,t,r,n,d,o),r=ml(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Sr(e,t,o)):(Fe&&r&&Go(t),t.flags|=1,mt(e,t,n,o),t.child)}function Nu(e,t,r,n,o){if(e===null){var d=r.type;return typeof d=="function"&&!Wl(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,ju(e,t,d,n,o)):(e=Ys(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&o)===0){var c=d.memoizedProps;if(r=r.compare,r=r!==null?r:ya,r(c,n)&&e.ref===t.ref)return Sr(e,t,o)}return t.flags|=1,e=Jr(d,n),e.ref=t.ref,e.return=t,t.child=e}function ju(e,t,r,n,o){if(e!==null){var d=e.memoizedProps;if(ya(d,n)&&e.ref===t.ref)if(yt=!1,t.pendingProps=n=d,(e.lanes&o)!==0)(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,Sr(e,t,o)}return Nl(e,t,r,n,o)}function Su(e,t,r){var n=t.pendingProps,o=n.children,d=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Qn,Tt),Tt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Qn,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=d!==null?d.baseLanes:r,Re(Qn,Tt),Tt|=n}else d!==null?(n=d.baseLanes|r,t.memoizedState=null):n=r,Re(Qn,Tt),Tt|=n;return mt(e,t,o,r),t.child}function Cu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,r,n,o){var d=vt(r)?un:ot.current;return d=zn(t,d),Wn(t,o),r=pl(e,t,r,n,d,o),n=ml(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Sr(e,t,o)):(Fe&&n&&Go(t),t.flags|=1,mt(e,t,r,o),t.child)}function Eu(e,t,r,n,o){if(vt(r)){var d=!0;bs(t)}else d=!1;if(Wn(t,o),t.stateNode===null)Rs(e,t),hu(t,r,n),yl(t,r,n,o),n=!0;else if(e===null){var c=t.stateNode,m=t.memoizedProps;c.props=m;var h=c.context,j=r.contextType;typeof j=="object"&&j!==null?j=At(j):(j=vt(r)?un:ot.current,j=zn(t,j));var T=r.getDerivedStateFromProps,M=typeof T=="function"||typeof c.getSnapshotBeforeUpdate=="function";M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==n||h!==j)&&xu(t,c,n,j),Vr=!1;var _=t.memoizedState;c.state=_,Es(t,n,c,o),h=t.memoizedState,m!==n||_!==h||bt.current||Vr?(typeof T=="function"&&(vl(t,r,T,n),h=t.memoizedState),(m=Vr||mu(t,r,m,n,_,h,j))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=h),c.props=n,c.state=h,c.context=j,n=m):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Ud(e,t),m=t.memoizedProps,j=t.type===t.elementType?m:qt(t.type,m),c.props=j,M=t.pendingProps,_=c.context,h=r.contextType,typeof h=="object"&&h!==null?h=At(h):(h=vt(r)?un:ot.current,h=zn(t,h));var Y=r.getDerivedStateFromProps;(T=typeof Y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==M||_!==h)&&xu(t,c,n,h),Vr=!1,_=t.memoizedState,c.state=_,Es(t,n,c,o);var X=t.memoizedState;m!==M||_!==X||bt.current||Vr?(typeof Y=="function"&&(vl(t,r,Y,n),X=t.memoizedState),(j=Vr||mu(t,r,j,n,_,X,h)||!1)?(T||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,X,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,X,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=X),c.props=n,c.state=X,c.context=h,n=j):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),n=!1)}return jl(e,t,r,n,d,o)}function jl(e,t,r,n,o,d){Cu(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return o&&Md(t,r,!1),Sr(e,t,d);n=t.stateNode,zp.current=t;var m=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=Vn(t,e.child,null,d),t.child=Vn(t,null,m,d)):mt(e,t,m,d),t.memoizedState=n.state,o&&Md(t,r,!0),t.child}function _u(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),ll(e,t.containerInfo)}function Tu(e,t,r,n,o){return Bn(),el(o),t.flags|=256,mt(e,t,r,n),t.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ou(e,t,r){var n=t.pendingProps,o=$e.current,d=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(o&2)!==0),m?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Re($e,o&1),e===null)return Zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(c=n.children,e=n.fallback,d?(n=t.mode,d=t.child,c={mode:"hidden",children:c},(n&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=c):d=Qs(c,n,0,null),e=yn(e,n,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Cl(r),t.memoizedState=Sl,e):El(t,c));if(o=e.memoizedState,o!==null&&(m=o.dehydrated,m!==null))return Fp(e,t,c,n,m,o,r);if(d){d=n.fallback,c=t.mode,o=e.child,m=o.sibling;var h={mode:"hidden",children:n.children};return(c&1)===0&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=h,t.deletions=null):(n=Jr(o,h),n.subtreeFlags=o.subtreeFlags&14680064),m!==null?d=Jr(m,d):(d=yn(d,c,r,null),d.flags|=2),d.return=t,n.return=t,n.sibling=d,t.child=n,n=d,d=t.child,c=e.child.memoizedState,c=c===null?Cl(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},d.memoizedState=c,d.childLanes=e.childLanes&~r,t.memoizedState=Sl,n}return d=e.child,e=d.sibling,n=Jr(d,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function El(e,t){return t=Qs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,n){return n!==null&&el(n),Vn(t,e.child,null,r),e=El(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fp(e,t,r,n,o,d,c){if(r)return t.flags&256?(t.flags&=-257,n=kl(Error(i(422))),As(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=n.fallback,o=t.mode,n=Qs({mode:"visible",children:n.children},o,0,null),d=yn(d,o,c,null),d.flags|=2,n.return=t,d.return=t,n.sibling=d,t.child=n,(t.mode&1)!==0&&Vn(t,e.child,null,c),t.child.memoizedState=Cl(c),t.memoizedState=Sl,d);if((t.mode&1)===0)return As(e,t,c,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var m=n.dgst;return n=m,d=Error(i(419)),n=kl(d,n,void 0),As(e,t,c,n)}if(m=(c&e.childLanes)!==0,yt||m){if(n=Ke,n!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(n.suspendedLanes|c))!==0?0:o,o!==0&&o!==d.retryLane&&(d.retryLane=o,Nr(e,o),Jt(n,e,o,-1))}return Ul(),n=kl(Error(i(421))),As(e,t,c,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Kp.bind(null,e),o._reactRetry=t,null):(e=d.treeContext,_t=zr(o.nextSibling),Et=t,Fe=!0,Ht=null,e!==null&&(It[Pt++]=kr,It[Pt++]=wr,It[Pt++]=cn,kr=e.id,wr=e.overflow,cn=t),t=El(t,n.children),t.flags|=4096,t)}function Du(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),al(e.return,t,r)}function _l(e,t,r,n,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=r,d.tailMode=o)}function Mu(e,t,r){var n=t.pendingProps,o=n.revealOrder,d=n.tail;if(mt(e,t,n.children,r),n=$e.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Du(e,r,t);else if(e.tag===19)Du(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re($e,n),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&_s(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),_l(t,!1,o,r,d);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_s(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}_l(t,!0,r,null,d);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $p(e,t,r){switch(t.tag){case 3:_u(t),Bn();break;case 5:qd(t);break;case 1:vt(t.type)&&bs(t);break;case 4:ll(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Re(js,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re($e,$e.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Ou(e,t,r):(Re($e,$e.current&1),e=Sr(e,t,r),e!==null?e.sibling:null);Re($e,$e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return Mu(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Re($e,$e.current),n)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,r)}return Sr(e,t,r)}var Iu,Tl,Pu,Au;Iu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Tl=function(){},Pu=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,mn(ir.current);var d=null;switch(r){case"input":o=jt(e,o),n=jt(e,n),d=[];break;case"select":o=L({},o,{value:void 0}),n=L({},n,{value:void 0}),d=[];break;case"textarea":o=$t(e,o),n=$t(e,n),d=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hs)}_r(r,n);var c;r=null;for(j in o)if(!n.hasOwnProperty(j)&&o.hasOwnProperty(j)&&o[j]!=null)if(j==="style"){var m=o[j];for(c in m)m.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(f.hasOwnProperty(j)?d||(d=[]):(d=d||[]).push(j,null));for(j in n){var h=n[j];if(m=o?.[j],n.hasOwnProperty(j)&&h!==m&&(h!=null||m!=null))if(j==="style")if(m){for(c in m)!m.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in h)h.hasOwnProperty(c)&&m[c]!==h[c]&&(r||(r={}),r[c]=h[c])}else r||(d||(d=[]),d.push(j,r)),r=h;else j==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,m=m?m.__html:void 0,h!=null&&m!==h&&(d=d||[]).push(j,h)):j==="children"?typeof h!="string"&&typeof h!="number"||(d=d||[]).push(j,""+h):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(f.hasOwnProperty(j)?(h!=null&&j==="onScroll"&&Le("scroll",e),d||m===h||(d=[])):(d=d||[]).push(j,h))}r&&(d=d||[]).push("style",r);var j=d;(t.updateQueue=j)&&(t.flags|=4)}},Au=function(e,t,r,n){r!==n&&(t.flags|=4)};function Aa(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Bp(e,t,r){var n=t.pendingProps;switch(Xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return vt(t.type)&&gs(),it(t),null;case 3:return n=t.stateNode,Hn(),ze(bt),ze(ot),ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ht!==null&&($l(Ht),Ht=null))),Tl(e,t),it(t),null;case 5:il(t);var o=mn(Oa.current);if(r=t.type,e!==null&&t.stateNode!=null)Pu(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(i(166));return it(t),null}if(e=mn(ir.current),ws(t)){n=t.stateNode,r=t.type;var d=t.memoizedProps;switch(n[lr]=t,n[Sa]=d,e=(t.mode&1)!==0,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(o=0;o<wa.length;o++)Le(wa[o],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":St(n,d),Le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!d.multiple},Le("invalid",n);break;case"textarea":rr(n,d),Le("invalid",n)}_r(r,d),o=null;for(var c in d)if(d.hasOwnProperty(c)){var m=d[c];c==="children"?typeof m=="string"?n.textContent!==m&&(d.suppressHydrationWarning!==!0&&ms(n.textContent,m,e),o=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(d.suppressHydrationWarning!==!0&&ms(n.textContent,m,e),o=["children",""+m]):f.hasOwnProperty(c)&&m!=null&&c==="onScroll"&&Le("scroll",n)}switch(r){case"input":Oe(n),rt(n,d,!0);break;case"textarea":Oe(n),Ge(n);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(n.onclick=hs)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sn(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[lr]=t,e[Sa]=n,Iu(e,t,!1,!1),t.stateNode=e;e:{switch(c=Tr(r,n),r){case"dialog":Le("cancel",e),Le("close",e),o=n;break;case"iframe":case"object":case"embed":Le("load",e),o=n;break;case"video":case"audio":for(o=0;o<wa.length;o++)Le(wa[o],e);o=n;break;case"source":Le("error",e),o=n;break;case"img":case"image":case"link":Le("error",e),Le("load",e),o=n;break;case"details":Le("toggle",e),o=n;break;case"input":St(e,n),o=jt(e,n),Le("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=L({},n,{value:void 0}),Le("invalid",e);break;case"textarea":rr(e,n),o=$t(e,n),Le("invalid",e);break;default:o=n}_r(r,o),m=o;for(d in m)if(m.hasOwnProperty(d)){var h=m[d];d==="style"?ke(e,h):d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Ja(e,h)):d==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&tn(e,h):typeof h=="number"&&tn(e,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(f.hasOwnProperty(d)?h!=null&&d==="onScroll"&&Le("scroll",e):h!=null&&se(e,d,h,c))}switch(r){case"input":Oe(e),rt(e,n,!1);break;case"textarea":Oe(e),Ge(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Se(n.value));break;case"select":e.multiple=!!n.multiple,d=n.value,d!=null?Mt(e,!!n.multiple,d,!1):n.defaultValue!=null&&Mt(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Au(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(i(166));if(r=mn(Oa.current),mn(ir.current),ws(t)){if(n=t.stateNode,r=t.memoizedProps,n[lr]=t,(d=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:ms(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(n.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return it(t),null;case 13:if(ze($e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&_t!==null&&(t.mode&1)!==0&&(t.flags&128)===0)zd(),Bn(),t.flags|=98560,d=!1;else if(d=ws(t),n!==null&&n.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[lr]=t}else Bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),d=!1}else Ht!==null&&($l(Ht),Ht=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||($e.current&1)!==0?Je===0&&(Je=3):Ul())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Hn(),Tl(e,t),e===null&&Na(t.stateNode.containerInfo),it(t),null;case 10:return nl(t.type._context),it(t),null;case 17:return vt(t.type)&&gs(),it(t),null;case 19:if(ze($e),d=t.memoizedState,d===null)return it(t),null;if(n=(t.flags&128)!==0,c=d.rendering,c===null)if(n)Aa(d,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=_s(e),c!==null){for(t.flags|=128,Aa(d,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)d=r,e=n,d.flags&=14680066,c=d.alternate,c===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=c.childLanes,d.lanes=c.lanes,d.child=c.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=c.memoizedProps,d.memoizedState=c.memoizedState,d.updateQueue=c.updateQueue,d.type=c.type,e=c.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re($e,$e.current&1|2),t.child}e=e.sibling}d.tail!==null&&We()>Jn&&(t.flags|=128,n=!0,Aa(d,!1),t.lanes=4194304)}else{if(!n)if(e=_s(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Aa(d,!0),d.tail===null&&d.tailMode==="hidden"&&!c.alternate&&!Fe)return it(t),null}else 2*We()-d.renderingStartTime>Jn&&r!==1073741824&&(t.flags|=128,n=!0,Aa(d,!1),t.lanes=4194304);d.isBackwards?(c.sibling=t.child,t.child=c):(r=d.last,r!==null?r.sibling=c:t.child=c,d.last=c)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=We(),t.sibling=null,r=$e.current,Re($e,n?r&1|2:r&1),t):(it(t),null);case 22:case 23:return Vl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Tt&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Vp(e,t){switch(Xo(t),t.tag){case 1:return vt(t.type)&&gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),ze(bt),ze(ot),ul(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return il(t),null;case 13:if(ze($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze($e),null;case 4:return Hn(),null;case 10:return nl(t.type._context),null;case 22:case 23:return Vl(),null;case 24:return null;default:return null}}var Ls=!1,dt=!1,Up=typeof WeakSet=="function"?WeakSet:Set,G=null;function Yn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Ol(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var Ru=!1;function Wp(e,t){if(Vo=ns,e=md(),Po(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var c=0,m=-1,h=-1,j=0,T=0,M=e,_=null;t:for(;;){for(var Y;M!==r||o!==0&&M.nodeType!==3||(m=c+o),M!==d||n!==0&&M.nodeType!==3||(h=c+n),M.nodeType===3&&(c+=M.nodeValue.length),(Y=M.firstChild)!==null;)_=M,M=Y;for(;;){if(M===e)break t;if(_===r&&++j===o&&(m=c),_===d&&++T===n&&(h=c),(Y=M.nextSibling)!==null)break;M=_,_=M.parentNode}M=Y}r=m===-1||h===-1?null:{start:m,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uo={focusedElem:e,selectionRange:r},ns=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Z=X.memoizedProps,He=X.memoizedState,k=t.stateNode,b=k.getSnapshotBeforeUpdate(t.elementType===t.type?Z:qt(t.type,Z),He);k.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(I){Ve(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return X=Ru,Ru=!1,X}function Ra(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var d=o.destroy;o.destroy=void 0,d!==void 0&&Ol(t,r,d)}o=o.next}while(o!==n)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dl(e){var t=e.ref;if(t!==null){var r=e.stateNode;e.tag,e=r,typeof t=="function"?t(e):t.current=e}}function Lu(e){var t=e.alternate;t!==null&&(e.alternate=null,Lu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Sa],delete t[Yo],delete t[Cp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zu(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hs));else if(n!==4&&(e=e.child,e!==null))for(Ml(e,t,r),e=e.sibling;e!==null;)Ml(e,t,r),e=e.sibling}function Il(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Il(e,t,r),e=e.sibling;e!==null;)Il(e,t,r),e=e.sibling}var nt=null,Yt=!1;function Wr(e,t,r){for(r=r.child;r!==null;)$u(e,t,r),r=r.sibling}function $u(e,t,r){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Xa,r)}catch{}switch(r.tag){case 5:dt||Yn(r,t);case 6:var n=nt,o=Yt;nt=null,Wr(e,t,r),nt=n,Yt=o,nt!==null&&(Yt?(e=nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(Yt?(e=nt,r=r.stateNode,e.nodeType===8?qo(e.parentNode,r):e.nodeType===1&&qo(e,r),ma(e)):qo(nt,r.stateNode));break;case 4:n=nt,o=Yt,nt=r.stateNode.containerInfo,Yt=!0,Wr(e,t,r),nt=n,Yt=o;break;case 0:case 11:case 14:case 15:if(!dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var d=o,c=d.destroy;d=d.tag,c!==void 0&&((d&2)!==0||(d&4)!==0)&&Ol(r,t,c),o=o.next}while(o!==n)}Wr(e,t,r);break;case 1:if(!dt&&(Yn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(m){Ve(r,t,m)}Wr(e,t,r);break;case 21:Wr(e,t,r);break;case 22:r.mode&1?(dt=(n=dt)||r.memoizedState!==null,Wr(e,t,r),dt=n):Wr(e,t,r);break;default:Wr(e,t,r)}}function Bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Up),t.forEach(function(n){var o=Zp.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var d=e,c=t,m=c;e:for(;m!==null;){switch(m.tag){case 5:nt=m.stateNode,Yt=!1;break e;case 3:nt=m.stateNode.containerInfo,Yt=!0;break e;case 4:nt=m.stateNode.containerInfo,Yt=!0;break e}m=m.return}if(nt===null)throw Error(i(160));$u(d,c,o),nt=null,Yt=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(j){Ve(o,t,j)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vu(t,e),t=t.sibling}function Vu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),ur(e),n&4){try{Ra(3,e,e.return),zs(3,e)}catch(Z){Ve(e,e.return,Z)}try{Ra(5,e,e.return)}catch(Z){Ve(e,e.return,Z)}}break;case 1:Qt(t,e),ur(e),n&512&&r!==null&&Yn(r,r.return);break;case 5:if(Qt(t,e),ur(e),n&512&&r!==null&&Yn(r,r.return),e.flags&32){var o=e.stateNode;try{tn(o,"")}catch(Z){Ve(e,e.return,Z)}}if(n&4&&(o=e.stateNode,o!=null)){var d=e.memoizedProps,c=r!==null?r.memoizedProps:d,m=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{m==="input"&&d.type==="radio"&&d.name!=null&&Dt(o,d),Tr(m,c);var j=Tr(m,d);for(c=0;c<h.length;c+=2){var T=h[c],M=h[c+1];T==="style"?ke(o,M):T==="dangerouslySetInnerHTML"?Ja(o,M):T==="children"?tn(o,M):se(o,T,M,j)}switch(m){case"input":Ft(o,d);break;case"textarea":Ue(o,d);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Mt(o,!!d.multiple,Y,!1):_!==!!d.multiple&&(d.defaultValue!=null?Mt(o,!!d.multiple,d.defaultValue,!0):Mt(o,!!d.multiple,d.multiple?[]:"",!1))}o[Sa]=d}catch(Z){Ve(e,e.return,Z)}}break;case 6:if(Qt(t,e),ur(e),n&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,d=e.memoizedProps;try{o.nodeValue=d}catch(Z){Ve(e,e.return,Z)}}break;case 3:if(Qt(t,e),ur(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(Z){Ve(e,e.return,Z)}break;case 4:Qt(t,e),ur(e);break;case 13:Qt(t,e),ur(e),o=e.child,o.flags&8192&&(d=o.memoizedState!==null,o.stateNode.isHidden=d,!d||o.alternate!==null&&o.alternate.memoizedState!==null||(Rl=We())),n&4&&Bu(e);break;case 22:if(T=r!==null&&r.memoizedState!==null,e.mode&1?(dt=(j=dt)||T,Qt(t,e),dt=j):Qt(t,e),ur(e),n&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!T&&(e.mode&1)!==0)for(G=e,T=e.child;T!==null;){for(M=G=T;G!==null;){switch(_=G,Y=_.child,_.tag){case 0:case 11:case 14:case 15:Ra(4,_,_.return);break;case 1:Yn(_,_.return);var X=_.stateNode;if(typeof X.componentWillUnmount=="function"){n=_,r=_.return;try{t=n,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(Z){Ve(n,r,Z)}}break;case 5:Yn(_,_.return);break;case 22:if(_.memoizedState!==null){Hu(M);continue}}Y!==null?(Y.return=_,G=Y):Hu(M)}T=T.sibling}e:for(T=null,M=e;;){if(M.tag===5){if(T===null){T=M;try{o=M.stateNode,j?(d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(m=M.stateNode,h=M.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,m.style.display=ce("display",c))}catch(Z){Ve(e,e.return,Z)}}}else if(M.tag===6){if(T===null)try{M.stateNode.nodeValue=j?"":M.memoizedProps}catch(Z){Ve(e,e.return,Z)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;T===M&&(T=null),M=M.return}T===M&&(T=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Qt(t,e),ur(e),n&4&&Bu(e);break;case 21:break;default:Qt(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zu(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(tn(o,""),n.flags&=-33);var d=Fu(e);Il(e,d,o);break;case 3:case 4:var c=n.stateNode.containerInfo,m=Fu(e);Ml(e,m,c);break;default:throw Error(i(161))}}catch(h){Ve(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e,t,r){G=e,Uu(e)}function Uu(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var o=G,d=o.child;if(o.tag===22&&n){var c=o.memoizedState!==null||Ls;if(!c){var m=o.alternate,h=m!==null&&m.memoizedState!==null||dt;m=Ls;var j=dt;if(Ls=c,(dt=h)&&!j)for(G=o;G!==null;)c=G,h=c.child,c.tag===22&&c.memoizedState!==null?qu(o):h!==null?(h.return=c,G=h):qu(o);for(;d!==null;)G=d,Uu(d),d=d.sibling;G=o,Ls=m,dt=j}Wu(e)}else(o.subtreeFlags&8772)!==0&&d!==null?(d.return=o,G=d):Wu(e)}}function Wu(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dt||zs(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Hd(t,d,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hd(t,c,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var j=t.alternate;if(j!==null){var T=j.memoizedState;if(T!==null){var M=T.dehydrated;M!==null&&ma(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}dt||t.flags&512&&Dl(t)}catch(_){Ve(t,t.return,_)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function Hu(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function qu(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zs(4,t)}catch(h){Ve(t,r,h)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(h){Ve(t,o,h)}}var d=t.return;try{Dl(t)}catch(h){Ve(t,d,h)}break;case 5:var c=t.return;try{Dl(t)}catch(h){Ve(t,c,h)}}}catch(h){Ve(t,t.return,h)}if(t===e){G=null;break}var m=t.sibling;if(m!==null){m.return=t.return,G=m;break}G=t.return}}var qp=Math.ceil,Fs=W.ReactCurrentDispatcher,Pl=W.ReactCurrentOwner,Lt=W.ReactCurrentBatchConfig,Ce=0,Ke=null,Ye=null,at=0,Tt=0,Qn=Fr(0),Je=0,La=null,xn=0,$s=0,Al=0,za=null,kt=null,Rl=0,Jn=1/0,Cr=null,Bs=!1,Ll=null,Hr=null,Vs=!1,qr=null,Us=0,Fa=0,zl=null,Ws=-1,Hs=0;function ht(){return(Ce&6)!==0?We():Ws!==-1?Ws:Ws=We()}function Yr(e){return(e.mode&1)===0?1:(Ce&2)!==0&&at!==0?at&-at:Tp.transition!==null?(Hs===0&&(Hs=Fi()),Hs):(e=De,e!==0||(e=window.event,e=e===void 0?16:Qi(e.type)),e)}function Jt(e,t,r,n){if(50<Fa)throw Fa=0,zl=null,Error(i(185));da(e,r,n),((Ce&2)===0||e!==Ke)&&(e===Ke&&((Ce&2)===0&&($s|=r),Je===4&&Qr(e,at)),wt(e,n),r===1&&Ce===0&&(t.mode&1)===0&&(Jn=We()+500,vs&&Br()))}function wt(e,t){var r=e.callbackNode;Tf(e,t);var n=es(e,e===Ke?at:0);if(n===0)r!==null&&Ri(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ri(r),t===1)e.tag===0?_p(Qu.bind(null,e)):Id(Qu.bind(null,e)),jp(function(){(Ce&6)===0&&Br()}),r=null;else{switch($i(n)){case 1:r=go;break;case 4:r=Li;break;case 16:r=Ga;break;case 536870912:r=zi;break;default:r=Ga}r=rc(r,Yu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yu(e,t){if(Ws=-1,Hs=0,(Ce&6)!==0)throw Error(i(327));var r=e.callbackNode;if(Gn()&&e.callbackNode!==r)return null;var n=es(e,e===Ke?at:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=qs(e,n);else{t=n;var o=Ce;Ce|=2;var d=Gu();(Ke!==e||at!==t)&&(Cr=null,Jn=We()+500,bn(e,t));do try{Jp();break}catch(m){Ju(e,m)}while(!0);rl(),Fs.current=d,Ce=o,Ye!==null?t=0:(Ke=null,at=0,t=Je)}if(t!==0){if(t===2&&(o=bo(e),o!==0&&(n=o,t=Fl(e,o))),t===1)throw r=La,bn(e,0),Qr(e,n),wt(e,We()),r;if(t===6)Qr(e,n);else{if(o=e.current.alternate,(n&30)===0&&!Yp(o)&&(t=qs(e,n),t===2&&(d=bo(e),d!==0&&(n=d,t=Fl(e,d))),t===1))throw r=La,bn(e,0),Qr(e,n),wt(e,We()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:vn(e,kt,Cr);break;case 3:if(Qr(e,n),(n&130023424)===n&&(t=Rl+500-We(),10<t)){if(es(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){ht(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ho(vn.bind(null,e,kt,Cr),t);break}vn(e,kt,Cr);break;case 4:if(Qr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var c=31-Ut(n);d=1<<c,c=t[c],c>o&&(o=c),n&=~d}if(n=o,n=We()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qp(n/1960))-n,10<n){e.timeoutHandle=Ho(vn.bind(null,e,kt,Cr),n);break}vn(e,kt,Cr);break;case 5:vn(e,kt,Cr);break;default:throw Error(i(329))}}}return wt(e,We()),e.callbackNode===r?Yu.bind(null,e):null}function Fl(e,t){var r=za;return e.current.memoizedState.isDehydrated&&(bn(e,t).flags|=256),e=qs(e,t),e!==2&&(t=kt,kt=r,t!==null&&$l(t)),e}function $l(e){kt===null?kt=e:kt.push.apply(kt,e)}function Yp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],d=o.getSnapshot;o=o.value;try{if(!Wt(d(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~Al,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ut(t),n=1<<r;e[r]=-1,t&=~n}}function Qu(e){if((Ce&6)!==0)throw Error(i(327));Gn();var t=es(e,0);if((t&1)===0)return wt(e,We()),null;var r=qs(e,t);if(e.tag!==0&&r===2){var n=bo(e);n!==0&&(t=n,r=Fl(e,n))}if(r===1)throw r=La,bn(e,0),Qr(e,t),wt(e,We()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,kt,Cr),wt(e,We()),null}function Bl(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Jn=We()+500,vs&&Br())}}function gn(e){qr!==null&&qr.tag===0&&(Ce&6)===0&&Gn();var t=Ce;Ce|=1;var r=Lt.transition,n=De;try{if(Lt.transition=null,De=1,e)return e()}finally{De=n,Lt.transition=r,Ce=t,(Ce&6)===0&&Br()}}function Vl(){Tt=Qn.current,ze(Qn)}function bn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Np(r)),Ye!==null)for(r=Ye.return;r!==null;){var n=r;switch(Xo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gs();break;case 3:Hn(),ze(bt),ze(ot),ul();break;case 5:il(n);break;case 4:Hn();break;case 13:ze($e);break;case 19:ze($e);break;case 10:nl(n.type._context);break;case 22:case 23:Vl()}r=r.return}if(Ke=e,Ye=e=Jr(e.current,null),at=Tt=t,Je=0,La=null,Al=$s=xn=0,kt=za=null,pn!==null){for(t=0;t<pn.length;t++)if(r=pn[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,d=r.pending;if(d!==null){var c=d.next;d.next=o,n.next=c}r.pending=n}pn=null}return e}function Ju(e,t){do{var r=Ye;try{if(rl(),Ts.current=Is,Os){for(var n=Be.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Os=!1}if(hn=0,Xe=Qe=Be=null,Da=!1,Ma=0,Pl.current=null,r===null||r.return===null){Je=1,La=t,Ye=null;break}e:{var d=e,c=r.return,m=r,h=t;if(t=at,m.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var j=h,T=m,M=T.tag;if((T.mode&1)===0&&(M===0||M===11||M===15)){var _=T.alternate;_?(T.updateQueue=_.updateQueue,T.memoizedState=_.memoizedState,T.lanes=_.lanes):(T.updateQueue=null,T.memoizedState=null)}var Y=yu(c);if(Y!==null){Y.flags&=-257,ku(Y,c,m,d,t),Y.mode&1&&vu(d,j,t),t=Y,h=j;var X=t.updateQueue;if(X===null){var Z=new Set;Z.add(h),t.updateQueue=Z}else X.add(h);break e}else{if((t&1)===0){vu(d,j,t),Ul();break e}h=Error(i(426))}}else if(Fe&&m.mode&1){var He=yu(c);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),ku(He,c,m,d,t),el(qn(h,m));break e}}d=h=qn(h,m),Je!==4&&(Je=2),za===null?za=[d]:za.push(d),d=c;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var k=gu(d,h,t);Wd(d,k);break e;case 1:m=h;var b=d.type,w=d.stateNode;if((d.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hr===null||!Hr.has(w)))){d.flags|=65536,t&=-t,d.lanes|=t;var I=bu(d,m,t);Wd(d,I);break e}}d=d.return}while(d!==null)}Ku(r)}catch(te){t=te,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function Gu(){var e=Fs.current;return Fs.current=Is,e===null?Is:e}function Ul(){(Je===0||Je===3||Je===2)&&(Je=4),Ke===null||(xn&268435455)===0&&($s&268435455)===0||Qr(Ke,at)}function qs(e,t){var r=Ce;Ce|=2;var n=Gu();(Ke!==e||at!==t)&&(Cr=null,bn(e,t));do try{Qp();break}catch(o){Ju(e,o)}while(!0);if(rl(),Ce=r,Fs.current=n,Ye!==null)throw Error(i(261));return Ke=null,at=0,Je}function Qp(){for(;Ye!==null;)Xu(Ye)}function Jp(){for(;Ye!==null&&!yf();)Xu(Ye)}function Xu(e){var t=tc(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?Ku(e):Ye=t,Pl.current=null}function Ku(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Bp(r,t,Tt),r!==null){Ye=r;return}}else{if(r=Vp(r,t),r!==null){r.flags&=32767,Ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ye=null;return}}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Je===0&&(Je=5)}function vn(e,t,r){var n=De,o=Lt.transition;try{Lt.transition=null,De=1,Gp(e,t,r,n)}finally{Lt.transition=o,De=n}return null}function Gp(e,t,r,n){do Gn();while(qr!==null);if((Ce&6)!==0)throw Error(i(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Of(e,d),e===Ke&&(Ye=Ke=null,at=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Vs||(Vs=!0,rc(Ga,function(){return Gn(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=Lt.transition,Lt.transition=null;var c=De;De=1;var m=Ce;Ce|=4,Pl.current=null,Wp(e,r),Vu(r,e),xp(Uo),ns=!!Vo,Uo=Vo=null,e.current=r,Hp(r),kf(),Ce=m,De=c,Lt.transition=d}else e.current=r;if(Vs&&(Vs=!1,qr=e,Us=o),d=e.pendingLanes,d===0&&(Hr=null),jf(r.stateNode),wt(e,We()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Bs)throw Bs=!1,e=Ll,Ll=null,e;return(Us&1)!==0&&e.tag!==0&&Gn(),d=e.pendingLanes,(d&1)!==0?e===zl?Fa++:(Fa=0,zl=e):Fa=0,Br(),null}function Gn(){if(qr!==null){var e=$i(Us),t=Lt.transition,r=De;try{if(Lt.transition=null,De=16>e?16:e,qr===null)var n=!1;else{if(e=qr,qr=null,Us=0,(Ce&6)!==0)throw Error(i(331));var o=Ce;for(Ce|=4,G=e.current;G!==null;){var d=G,c=d.child;if((G.flags&16)!==0){var m=d.deletions;if(m!==null){for(var h=0;h<m.length;h++){var j=m[h];for(G=j;G!==null;){var T=G;switch(T.tag){case 0:case 11:case 15:Ra(8,T,d)}var M=T.child;if(M!==null)M.return=T,G=M;else for(;G!==null;){T=G;var _=T.sibling,Y=T.return;if(Lu(T),T===j){G=null;break}if(_!==null){_.return=Y,G=_;break}G=Y}}}var X=d.alternate;if(X!==null){var Z=X.child;if(Z!==null){X.child=null;do{var He=Z.sibling;Z.sibling=null,Z=He}while(Z!==null)}}G=d}}if((d.subtreeFlags&2064)!==0&&c!==null)c.return=d,G=c;else e:for(;G!==null;){if(d=G,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ra(9,d,d.return)}var k=d.sibling;if(k!==null){k.return=d.return,G=k;break e}G=d.return}}var b=e.current;for(G=b;G!==null;){c=G;var w=c.child;if((c.subtreeFlags&2064)!==0&&w!==null)w.return=c,G=w;else e:for(c=b;G!==null;){if(m=G,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:zs(9,m)}}catch(te){Ve(m,m.return,te)}if(m===c){G=null;break e}var I=m.sibling;if(I!==null){I.return=m.return,G=I;break e}G=m.return}}if(Ce=o,Br(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Xa,e)}catch{}n=!0}return n}finally{De=r,Lt.transition=t}}return!1}function Zu(e,t,r){t=qn(r,t),t=gu(e,t,1),e=Ur(e,t,1),t=ht(),e!==null&&(da(e,1,t),wt(e,t))}function Ve(e,t,r){if(e.tag===3)Zu(e,e,r);else for(;t!==null;){if(t.tag===3){Zu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hr===null||!Hr.has(n))){e=qn(r,e),e=bu(t,e,1),t=Ur(t,e,1),e=ht(),t!==null&&(da(t,1,e),wt(t,e));break}}t=t.return}}function Xp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(at&r)===r&&(Je===4||Je===3&&(at&130023424)===at&&500>We()-Rl?bn(e,0):Al|=r),wt(e,t)}function ec(e,t){t===0&&((e.mode&1)===0?t=1:(t=Za,Za<<=1,(Za&130023424)===0&&(Za=4194304)));var r=ht();e=Nr(e,t),e!==null&&(da(e,t,r),wt(e,r))}function Kp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ec(e,r)}function Zp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}n!==null&&n.delete(t),ec(e,r)}var tc;tc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)yt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return yt=!1,$p(e,t,r);yt=(e.flags&131072)!==0}else yt=!1,Fe&&(t.flags&1048576)!==0&&Pd(t,ks,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rs(e,t),e=t.pendingProps;var o=zn(t,ot.current);Wn(t,r),o=pl(null,t,n,e,o,r);var d=ml();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(n)?(d=!0,bs(t)):d=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ol(t),o.updater=Ps,t.stateNode=o,o._reactInternals=t,yl(t,n,e,r),t=jl(null,t,n,!0,d,r)):(t.tag=0,Fe&&d&&Go(t),mt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rs(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=tm(n),e=qt(n,e),o){case 0:t=Nl(null,t,n,e,r);break e;case 1:t=Eu(null,t,n,e,r);break e;case 11:t=wu(null,t,n,e,r);break e;case 14:t=Nu(null,t,n,qt(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:qt(n,o),Nl(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:qt(n,o),Eu(e,t,n,o,r);case 3:e:{if(_u(t),e===null)throw Error(i(387));n=t.pendingProps,d=t.memoizedState,o=d.element,Ud(e,t),Es(t,n,null,r);var c=t.memoizedState;if(n=c.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){o=qn(Error(i(423)),t),t=Tu(e,t,n,r,o);break e}else if(n!==o){o=qn(Error(i(424)),t),t=Tu(e,t,n,r,o);break e}else for(_t=zr(t.stateNode.containerInfo.firstChild),Et=t,Fe=!0,Ht=null,r=Bd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bn(),n===o){t=Sr(e,t,r);break e}mt(e,t,n,r)}t=t.child}return t;case 5:return qd(t),e===null&&Zo(t),n=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,c=o.children,Wo(n,o)?c=null:d!==null&&Wo(n,d)&&(t.flags|=32),Cu(e,t),mt(e,t,c,r),t.child;case 6:return e===null&&Zo(t),null;case 13:return Ou(e,t,r);case 4:return ll(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vn(t,null,n,r):mt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:qt(n,o),wu(e,t,n,o,r);case 7:return mt(e,t,t.pendingProps,r),t.child;case 8:return mt(e,t,t.pendingProps.children,r),t.child;case 12:return mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,d=t.memoizedProps,c=o.value,Re(js,n._currentValue),n._currentValue=c,d!==null)if(Wt(d.value,c)){if(d.children===o.children&&!bt.current){t=Sr(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){c=d.child;for(var h=m.firstContext;h!==null;){if(h.context===n){if(d.tag===1){h=jr(-1,r&-r),h.tag=2;var j=d.updateQueue;if(j!==null){j=j.shared;var T=j.pending;T===null?h.next=h:(h.next=T.next,T.next=h),j.pending=h}}d.lanes|=r,h=d.alternate,h!==null&&(h.lanes|=r),al(d.return,r,t),m.lanes|=r;break}h=h.next}}else if(d.tag===10)c=d.type===t.type?null:d.child;else if(d.tag===18){if(c=d.return,c===null)throw Error(i(341));c.lanes|=r,m=c.alternate,m!==null&&(m.lanes|=r),al(c,r,t),c=d.sibling}else c=d.child;if(c!==null)c.return=d;else for(c=d;c!==null;){if(c===t){c=null;break}if(d=c.sibling,d!==null){d.return=c.return,c=d;break}c=c.return}d=c}mt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Wn(t,r),o=At(o),n=n(o),t.flags|=1,mt(e,t,n,r),t.child;case 14:return n=t.type,o=qt(n,t.pendingProps),o=qt(n.type,o),Nu(e,t,n,o,r);case 15:return ju(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:qt(n,o),Rs(e,t),t.tag=1,vt(n)?(e=!0,bs(t)):e=!1,Wn(t,r),hu(t,n,o),yl(t,n,o,r),jl(null,t,n,!0,e,r);case 19:return Mu(e,t,r);case 22:return Su(e,t,r)}throw Error(i(156,t.tag))};function rc(e,t){return Ai(e,t)}function em(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,r,n){return new em(e,t,r,n)}function Wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tm(e){if(typeof e=="function")return Wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===D)return 11;if(e===H)return 14}return 2}function Jr(e,t){var r=e.alternate;return r===null?(r=zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ys(e,t,r,n,o,d){var c=2;if(n=e,typeof e=="function")Wl(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case B:return yn(r.children,o,d,t);case U:c=8,o|=8;break;case ye:return e=zt(12,r,t,o|2),e.elementType=ye,e.lanes=d,e;case C:return e=zt(13,r,t,o),e.elementType=C,e.lanes=d,e;case V:return e=zt(19,r,t,o),e.elementType=V,e.lanes=d,e;case he:return Qs(r,o,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:c=10;break e;case ge:c=9;break e;case D:c=11;break e;case H:c=14;break e;case le:c=16,n=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=zt(c,r,t,o),t.elementType=e,t.type=n,t.lanes=d,t}function yn(e,t,r,n){return e=zt(7,e,n,t),e.lanes=r,e}function Qs(e,t,r,n){return e=zt(22,e,n,t),e.elementType=he,e.lanes=r,e.stateNode={isHidden:!1},e}function Hl(e,t,r){return e=zt(6,e,null,t),e.lanes=r,e}function ql(e,t,r){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rm(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yl(e,t,r,n,o,d,c,m,h){return e=new rm(e,t,r,m,h),t===1?(t=1,d===!0&&(t|=8)):t=0,d=zt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ol(d),e}function nm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function nc(e){if(!e)return $r;e=e._reactInternals;e:{if(ln(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(vt(r))return Dd(e,r,t)}return t}function ac(e,t,r,n,o,d,c,m,h){return e=Yl(r,n,!0,e,o,d,c,m,h),e.context=nc(null),r=e.current,n=ht(),o=Yr(r),d=jr(n,o),d.callback=t??null,Ur(r,d,o),e.current.lanes=o,da(e,o,n),wt(e,n),e}function Js(e,t,r,n){var o=t.current,d=ht(),c=Yr(o);return r=nc(r),t.context===null?t.context=r:t.pendingContext=r,t=jr(d,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ur(o,t,c),e!==null&&(Jt(e,o,c,d),Cs(e,o,c)),c}function Gs(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ql(e,t){sc(e,t),(e=e.alternate)&&sc(e,t)}function am(){return null}var oc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}Xs.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Js(e,t,null,null)},Xs.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){Js(null,e,null,null)}),t[vr]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ui();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ar.length&&t!==0&&t<Ar[r].priority;r++);Ar.splice(r,0,e),r===0&&qi(e)}};function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lc(){}function sm(e,t,r,n,o){if(o){if(typeof n=="function"){var d=n;n=function(){var j=Gs(c);d.call(j)}}var c=ac(t,n,e,0,null,!1,!1,"",lc);return e._reactRootContainer=c,e[vr]=c.current,Na(e.nodeType===8?e.parentNode:e),gn(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var m=n;n=function(){var j=Gs(h);m.call(j)}}var h=Yl(e,0,!1,null,null,!1,!1,"",lc);return e._reactRootContainer=h,e[vr]=h.current,Na(e.nodeType===8?e.parentNode:e),gn(function(){Js(t,h,r,n)}),h}function Zs(e,t,r,n,o){var d=r._reactRootContainer;if(d){var c=d;if(typeof o=="function"){var m=o;o=function(){var h=Gs(c);m.call(h)}}Js(t,c,e,o)}else c=sm(r,t,e,o,n);return Gs(c)}Bi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ia(t.pendingLanes);r!==0&&(yo(t,r|1),wt(t,We()),(Ce&6)===0&&(Jn=We()+500,Br()))}break;case 13:gn(function(){var n=Nr(e,1);if(n!==null){var o=ht();Jt(n,e,1,o)}}),Ql(e,1)}},ko=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=ht();Jt(t,e,134217728,r)}Ql(e,134217728)}},Vi=function(e){if(e.tag===13){var t=Yr(e),r=Nr(e,t);if(r!==null){var n=ht();Jt(r,e,t,n)}Ql(e,t)}},Ui=function(){return De},Wi=function(e,t){var r=De;try{return De=e,t()}finally{De=r}},Bt=function(e,t,r){switch(t){case"input":if(Ft(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=xs(n);if(!o)throw Error(i(90));ft(n),Ft(n,o)}}}break;case"textarea":Ue(e,r);break;case"select":t=r.value,t!=null&&Mt(e,!!r.multiple,t,!1)}},nn=Bl,an=gn;var om={usingClientEntryPoint:!1,Events:[Ca,Rn,xs,sr,rn,Bl]},$a={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lm={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ii(e),e===null?null:e.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Xa=eo.inject(lm),or=eo}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om,Nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gl(t))throw Error(i(200));return nm(e,t,null,r)},Nt.createRoot=function(e,t){if(!Gl(e))throw Error(i(299));var r=!1,n="",o=oc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Yl(e,1,!1,null,null,r,!1,n,o),e[vr]=t.current,Na(e.nodeType===8?e.parentNode:e),new Jl(t)},Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ii(t),e=e===null?null:e.stateNode,e},Nt.flushSync=function(e){return gn(e)},Nt.hydrate=function(e,t,r){if(!Ks(t))throw Error(i(200));return Zs(null,e,t,!0,r)},Nt.hydrateRoot=function(e,t,r){if(!Gl(e))throw Error(i(405));var n=r!=null&&r.hydratedSources||null,o=!1,d="",c=oc;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=ac(t,null,e,1,r??null,o,!1,d,c),e[vr]=t.current,Na(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Xs(t)},Nt.render=function(e,t,r){if(!Ks(t))throw Error(i(200));return Zs(null,e,t,!1,r)},Nt.unmountComponentAtNode=function(e){if(!Ks(e))throw Error(i(40));return e._reactRootContainer?(gn(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[vr]=null})}),!0):!1},Nt.unstable_batchedUpdates=Bl,Nt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ks(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Zs(e,t,r,!1,n)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var hc;function hm(){if(hc)return Zl.exports;hc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),Zl.exports=mm(),Zl.exports}var xc;function xm(){if(xc)return to;xc=1;var s=hm();return to.createRoot=s.createRoot,to.hydrateRoot=s.hydrateRoot,to}var gm=xm();const bm=Ac(gm);var vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ym=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(s,l)=>{const i=P.forwardRef(({color:u="currentColor",size:f=24,strokeWidth:p=2,absoluteStrokeWidth:g,className:x="",children:N,...y},O)=>P.createElement("svg",{ref:O,...vm,width:f,height:f,stroke:u,strokeWidth:g?Number(p)*24/Number(f):p,className:["lucide",`lucide-${ym(s)}`,x].join(" "),...y},[...l.map(([A,$])=>P.createElement(A,$)),...Array.isArray(N)?N:[N]]));return i.displayName=`${s}`,i};const ea=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const km=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Rc=fe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const wm=fe("ArrowRightFromLine",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M21 12H7",key:"13ipq5"}],["path",{d:"m15 18 6-6-6-6",key:"6tx3qv"}]]);const Nm=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const jm=fe("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);const Nn=fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const fi=fe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const Lc=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const pr=fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Sm=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const zc=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const pi=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ro=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const lo=fe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Gt=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Cm=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const mi=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Fc=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Em=fe("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);const _m=fe("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);const no=fe("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);const Tm=fe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const gc=fe("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);const $c=fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const Om=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const st=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Dm=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Mm=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const hi=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Bc=fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const bc=fe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Vc=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const xi=fe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);const Im=fe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);const Kn=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Pm=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const fo=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Am=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Rm=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const gi=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const wn=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Lm=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const yi=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const zm=fe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);const Uc=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const io=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ri=fe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);const aa=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Kr=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var ki=(s=>(s.FACEBOOK="Facebook",s.INSTAGRAM="Instagram",s.LINKEDIN="LinkedIn",s.GMB="Google My Business",s.YOUTUBE="Youtube",s.BLOG="Blog",s.NEWSLETTER="Newsletter",s))(ki||{}),_e=(s=>(s.IDEA="Ide",s.DRAFTING="Brouillon",s.READY="Prt",s.PUBLISHED="Publi",s))(_e||{}),Ie=(s=>(s.VALID="Valide",s.TOO_BLAND="Trop lisse",s.NEEDS_WORK=" revoir",s))(Ie||{}),Pe=(s=>(s.POST_TEXTE_COURT="Post Texte (Court)",s.ARTICLE_LONG_SEO="Article (Long/SEO)",s.SCRIPT_VIDEO_REEL_SHORT="Script Vido (Reel/Short)",s.SCRIPT_VIDEO_YOUTUBE="Script Vido (Youtube)",s.CARROUSEL_SLIDE="Carrousel (Slide par Slide)",s.PROMPT_IMAGE="Prompt Image",s))(Pe||{});const Fm=Object.values(Pe),wi=s=>typeof s=="string"&&Fm.includes(s);var Ot=(s=>(s.REDACTEUR="Rdacteur",s.ANALYSTE="Analyste",s.INTERVIEWER="Interviewer",s.ARTISTE="Artiste",s))(Ot||{});const $m=Object.values(Ot),Bm=s=>typeof s=="string"&&$m.includes(s);var Wc=(s=>(s.STANDARD="Standard",s.TRANSVERSE="Transverse",s.SEUIL="Seuil",s))(Wc||{});const Vm=Object.values(Wc),Ni=s=>typeof s=="string"&&Vm.includes(s);var ut=(s=>(s.DIRECT="Direct",s.LEGERE="Lgre",s.COMPLETE="Complte",s))(ut||{});const Um=Object.values(ut),ji=s=>typeof s=="string"&&Um.includes(s),vc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_NOTION_CONTENT_DB_ID:"2fcda7314e848079a5e5e4020a0c0f03",VITE_NOTION_CONTEXT_DB_ID:"2fcda7314e8480e9b1dbcc221ee3dcc3",VITE_NOTION_MODELS_DB_ID:"300da7314e84805e9421dfe2448333c3"},ni=s=>{try{if(typeof import.meta<"u"&&vc)return vc[s]||""}catch(l){console.warn("Erreur d'accs aux variables d'environnement:",l)}return""},Er={NOTION_CONTENT_DB_ID:ni("VITE_NOTION_CONTENT_DB_ID"),NOTION_CONTEXT_DB_ID:ni("VITE_NOTION_CONTEXT_DB_ID"),NOTION_MODELS_DB_ID:ni("VITE_NOTION_MODELS_DB_ID")};const po="https://gestion-luminose-worker.luminose.workers.dev",Hc={[_e.IDEA]:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700",[_e.DRAFTING]:"bg-brand-light text-brand-main border-brand-border dark:bg-dark-sec-bg dark:text-white dark:border-dark-sec-border",[_e.READY]:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",[_e.PUBLISHED]:"bg-purple-50 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800"},Wm=async(s,l)=>{try{const i=await fetch(`${po}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:l})});if(!i.ok)return!1;const{sessionToken:u}=await i.json();return localStorage.setItem("session_token",u),!0}catch(i){return console.error("Erreur login:",i),!1}},Hm=()=>{localStorage.removeItem("session_token")},qm=()=>{const s=localStorage.getItem("session_token");if(!s)return!1;try{const l=JSON.parse(atob(s));return Date.now()<l.expiresAt}catch{return!1}},Si=()=>localStorage.getItem("session_token"),Ym="2025-09-03",Kt=()=>({"Notion-Version":Ym,"Content-Type":"application/json","X-Session-Token":Si()||""}),Zt=s=>`${po}/v1${s}`,Qm=new Set([429,500,502,503,504]),Jm=3,Gm=8e3,yc=s=>new Promise(l=>setTimeout(l,s)),Xm=s=>{const l=s.headers.get("Retry-After");if(!l)return null;const i=Number(l);if(!Number.isNaN(i))return Math.max(0,i*1e3);const u=Date.parse(l);return Number.isNaN(u)?null:Math.max(0,u-Date.now())},kc=(s,l)=>{if(l!==null)return l;const i=Math.min(1e3*2**(s-1),Gm),u=.75+Math.random()*.5;return Math.round(i*u)},er=async(s,l,i,u=Jm)=>{let f,p=null;for(let g=1;g<=u;g++)try{const x=await fetch(s,l);if(x.ok||(p=x,!Qm.has(x.status)||g===u))return x;const N=kc(g,Xm(x));await yc(N)}catch(x){if(f=x,g===u)throw x;const N=kc(g,null);await yc(N)}if(p)return p;throw f??new Error(`Erreur rseau (${i})`)},wc={},Va={},sa=async(s,l,i)=>{if(!s)throw new Error("Database ID manquant");const u=wc[l];if(u)return u;if(Va[l])return Va[l];Va[l]=(async()=>{const f=await er(Zt(`/databases/${s}`),{method:"GET",headers:Kt()},`${i} DB`),g=(await tr(f,`${i} DB`)).data_sources?.[0]?.id;if(!g)throw new Error("Aucun data source trouv pour ce database");return wc[l]=g,g})();try{return await Va[l]}finally{delete Va[l]}},Ci=async(s,l,i)=>{const u=[];let f=null,p=!0;for(;p;){const g={page_size:100,...l};f&&(g.start_cursor=f);const x=await er(Zt(`/data_sources/${s}/query`),{method:"POST",headers:Kt(),body:JSON.stringify(g)},i),N=await tr(x,i);u.push(...N.results||[]),p=!!N.has_more,f=N.next_cursor||null}return u},tr=async(s,l)=>{if(!s.ok){let i={},u=`Erreur ${s.status}`;try{i=await s.json(),u=i.message||u}catch{const p=await s.text().catch(()=>"");console.error(`Erreur brute Notion (${l}):`,p)}throw console.error(`Erreur structure Notion (${l}):`,i),new Error(u)}return s.json()},et=s=>{if(!s)return"";const l=s.rich_text||s.title||[];return Array.isArray(l)?l.map(i=>{let u=i.plain_text||"";const{annotations:f}=i;return u?i.text&&i.text.link?`[${u}](${i.text.link.url})`:(f&&(f.code&&(u=`\`${u}\``),f.bold&&(u=`**${u}**`),f.italic&&(u=`_${u}_`),f.strikethrough&&(u=`~${u}~`)),u):""}).join(""):""},Ae=s=>{if(!s)return[];const l=[],i=/(\*\*.+?\*\*)|(_.+?_)|(`.+?`)|(~.+?~)|(\[.+?\]\(.+?\))/g;let u=0,f;for(;(f=i.exec(s))!==null;){f.index>u&&l.push(oo(s.substring(u,f.index)));const p=f[0];if(p.startsWith("**"))l.push(ao(p.slice(2,-2),{bold:!0}));else if(p.startsWith("_"))l.push(ao(p.slice(1,-1),{italic:!0}));else if(p.startsWith("`"))l.push(ao(p.slice(1,-1),{code:!0}));else if(p.startsWith("~"))l.push(ao(p.slice(1,-1),{strikethrough:!0}));else if(p.startsWith("[")){const g=p.match(/^\[(.+?)\]\((.+?)\)$/);g?l.push(Km(g[1],g[2])):l.push(oo(p))}u=i.lastIndex}return u<s.length&&l.push(oo(s.substring(u))),eh(Zm(l))},oo=s=>({type:"text",text:{content:s}}),ao=(s,l)=>({type:"text",text:{content:s},annotations:l}),Km=(s,l)=>({type:"text",text:{content:s,link:{url:l}}}),Zm=s=>{const i=[];for(const u of s){const f=u.text.content;if(f.length<=2e3){i.push(u);continue}let p=0;for(;p<f.length;){const x={type:"text",text:{content:f.substring(p,p+2e3)},annotations:u.annotations};u.text.link&&(x.text.link=u.text.link),i.push(x),p+=2e3}}return i},eh=s=>{if(s.length<=100)return s;console.warn("Rich text trop long (>100 segments). Fallback en texte brut.");const i=s.map(x=>x?.text?.content||"").join(""),u=2e3,f=100*u,p=i.length>f?i.slice(0,f):i,g=[];for(let x=0;x<p.length;x+=u)g.push(oo(p.substring(x,x+u)));return g},qc=s=>{const l=s.properties,i=et(l.Titre)||"Sans titre",f=l.Statut?.select?.name||l.Statut?.status?.name||_e.IDEA,p=l.Plateforme?.multi_select?.map(ve=>ve.name)||[],g=et(l.Contenu),x=l["Date de publication"]?.date?.start||null,N=et(l.Notes),y=l.Analys?.checkbox||!1,A=l.Verdict?.select?.name||void 0,z=l["Format cible"]?.select?.name||void 0,oe=l["Cible Offre"]?.select?.name,ae=Ni(oe)?oe:void 0,re=et(l.Justification),ne=et(l["Mtaphore Suggre"]),q=et(l["Angle stratgique"]),se=l.Profondeur?.select?.name,W=ji(se)?se:void 0,Ne=et(l["Rponses interview"]),xe=et(l["Questions interview"]),B=et(l.Slides),U=et(l["Post Court"]),ye=et(l["Script vido"]);return{id:s.id,title:i,status:f,platforms:p,body:g,scheduledDate:x,notes:N,lastEdited:s.last_edited_time,analyzed:y,verdict:A,targetFormat:z,targetOffer:ae,justification:re,suggestedMetaphor:ne,strategicAngle:q,depth:W,interviewAnswers:Ne,interviewQuestions:xe,slides:B,postCourt:U,scriptVideo:ye}},Yc=s=>{const l=s.properties,i=l.Usage?.select?.name,u=Bm(i)?i:void 0;return{id:s.id,name:et(l.Nom)||"Contexte sans nom",description:et(l.Description)||"",usage:u}},Qc=s=>{const l=s.properties,i=l.Cout?.select?.name||"medium";return{id:s.id,name:et(l.Nom)||"Modle sans nom",apiCode:et(l["Code API"])||"",provider:et(l.Fournisseur)||"",cost:i,strengths:et(l.Forces)||"",bestUseCases:et(l["Cas d'usage"])||"",textQuality:l["Qualit Rdaction"]?.number||3}},th=async s=>{if(!Er.NOTION_CONTENT_DB_ID)throw new Error("Database ID manquant");try{const l=await sa(Er.NOTION_CONTENT_DB_ID,"content","fetchContent"),i={sorts:[{timestamp:"last_edited_time",direction:"descending"}]};return s&&(i.filter={timestamp:"last_edited_time",last_edited_time:{after:s}}),(await Ci(l,i,"fetchContent Query")).filter(f=>!f.archived&&!f.in_trash).map(qc)}catch(l){throw console.error("EXCEPTION fetchContent:",l),l}},rh=async(s,l)=>{try{const i=await sa(Er.NOTION_CONTENT_DB_ID,"content","createContent"),u={Titre:{title:Ae(s)},Statut:{select:{name:_e.IDEA}}};l&&(u.Notes={rich_text:Ae(l)});const f=await er(Zt("/pages"),{method:"POST",headers:Kt(),body:JSON.stringify({parent:{type:"data_source_id",data_source_id:i},properties:u})}),p=await tr(f,"createContent Page");return qc(p)}catch(i){throw console.error(i),i}},Jc=async s=>{const l={Titre:{title:Ae(s.title)}};s.body!==void 0&&(l.Contenu={rich_text:Ae(s.body)}),s.notes!==void 0&&(l.Notes={rich_text:Ae(s.notes)}),s.status&&(l.Statut={select:{name:s.status}}),s.scheduledDate!==void 0&&(l["Date de publication"]=s.scheduledDate?{date:{start:s.scheduledDate}}:{date:null}),s.platforms&&(l.Plateforme={multi_select:s.platforms.map(u=>({name:u}))}),s.analyzed!==void 0&&(l.Analys={checkbox:s.analyzed}),s.verdict&&(l.Verdict={select:{name:s.verdict}}),s.targetFormat!==void 0&&(l["Format cible"]=s.targetFormat?{select:{name:s.targetFormat}}:{select:null}),s.targetOffer!==void 0&&(l["Cible Offre"]=s.targetOffer?{select:{name:s.targetOffer}}:{select:null}),s.justification!==void 0&&(l.Justification={rich_text:Ae(s.justification||"")}),s.suggestedMetaphor!==void 0&&(l["Mtaphore Suggre"]={rich_text:Ae(s.suggestedMetaphor||"")}),s.strategicAngle!==void 0&&(l["Angle stratgique"]={rich_text:Ae(s.strategicAngle||"")}),s.interviewAnswers!==void 0&&(l["Rponses interview"]={rich_text:Ae(s.interviewAnswers||"")}),s.interviewQuestions!==void 0&&(l["Questions interview"]={rich_text:Ae(s.interviewQuestions||"")}),s.depth!==void 0&&(l.Profondeur=s.depth?{select:{name:s.depth}}:{select:null}),s.slides!==void 0&&(l.Slides={rich_text:Ae(s.slides||"")}),s.postCourt!==void 0&&(l["Post Court"]={rich_text:Ae(s.postCourt||"")}),s.scriptVideo!==void 0&&(l["Script vido"]={rich_text:Ae(s.scriptVideo||"")});const i=await er(Zt(`/pages/${s.id}`),{method:"PATCH",headers:Kt(),body:JSON.stringify({properties:l})});await tr(i,"updateContent")},nh=async s=>{const l=await er(Zt(`/pages/${s}`),{method:"PATCH",headers:Kt(),body:JSON.stringify({archived:!0})});await tr(l,"deleteContent")},ah=async s=>{try{if(!Er.NOTION_CONTEXT_DB_ID)return console.warn("NOTION_CONTEXT_DB_ID manquant"),[];const l=await sa(Er.NOTION_CONTEXT_DB_ID,"contexts","fetchContexts"),i={};return s&&(i.filter={timestamp:"last_edited_time",last_edited_time:{after:s}}),(await Ci(l,i,"fetchContexts Query")).filter(f=>!f.archived&&!f.in_trash).map(Yc)}catch(l){return console.error("Erreur fetchContexts:",l),[]}},sh=async(s,l,i)=>{const u=await sa(Er.NOTION_CONTEXT_DB_ID,"contexts","createContext"),f={Nom:{title:Ae(s)},Description:{rich_text:Ae(l)}};i&&(f.Usage={select:{name:i}});const p=await er(Zt("/pages"),{method:"POST",headers:Kt(),body:JSON.stringify({parent:{type:"data_source_id",data_source_id:u},properties:f})}),g=await tr(p,"createContext Page");return Yc(g)},oh=async s=>{const l={Nom:{title:Ae(s.name)},Description:{rich_text:Ae(s.description)}};s.usage!==void 0&&(l.Usage=s.usage?{select:{name:s.usage}}:{select:null});const i=await er(Zt(`/pages/${s.id}`),{method:"PATCH",headers:Kt(),body:JSON.stringify({properties:l})});await tr(i,"updateContext")},lh=async s=>{const l=await er(Zt(`/pages/${s}`),{method:"PATCH",headers:Kt(),body:JSON.stringify({archived:!0})});await tr(l,"deleteContext")},ih=async s=>{if(!Er.NOTION_MODELS_DB_ID)return console.warn("NOTION_MODELS_DB_ID manquant"),[];try{const l=await sa(Er.NOTION_MODELS_DB_ID,"models","fetchModels"),i={};return s&&(i.filter={timestamp:"last_edited_time",last_edited_time:{after:s}}),(await Ci(l,i,"fetchModels Query")).filter(f=>!f.archived&&!f.in_trash).map(Qc)}catch(l){return console.error("Erreur fetchModels:",l),[]}},dh=async s=>{const l=await sa(Er.NOTION_MODELS_DB_ID,"models","createModel"),i=await er(Zt("/pages"),{method:"POST",headers:Kt(),body:JSON.stringify({parent:{type:"data_source_id",data_source_id:l},properties:{Nom:{title:Ae(s.name||"")},"Code API":{rich_text:Ae(s.apiCode||"")},Fournisseur:{rich_text:Ae(s.provider||"Autre")},Cout:{select:{name:s.cost||"medium"}},Forces:{rich_text:Ae(s.strengths||"")},"Cas d'usage":{rich_text:Ae(s.bestUseCases||"")},"Qualit Rdaction":{number:s.textQuality||3}}})}),u=await tr(i,"createModel Page");return Qc(u)},uh=async s=>{const l=await er(Zt(`/pages/${s.id}`),{method:"PATCH",headers:Kt(),body:JSON.stringify({properties:{Nom:{title:Ae(s.name)},"Code API":{rich_text:Ae(s.apiCode)},Fournisseur:{rich_text:Ae(s.provider)},Cout:{select:{name:s.cost}},Forces:{rich_text:Ae(s.strengths)},"Cas d'usage":{rich_text:Ae(s.bestUseCases)},"Qualit Rdaction":{number:s.textQuality}}})});await tr(l,"updateModel")},ch=async s=>{const l=await er(Zt(`/pages/${s}`),{method:"PATCH",headers:Kt(),body:JSON.stringify({archived:!0})});await tr(l,"deleteModel")},fh="LuminoseDB",ph=3,en="content",ta="contexts",ra="models",Gc="luminose_sync_",Xc="luminose_full_sync_",mh=()=>new Promise((s,l)=>{const i=indexedDB.open(fh,ph);i.onupgradeneeded=u=>{const f=u.target.result;f.objectStoreNames.contains(en)||f.createObjectStore(en,{keyPath:"id"}),f.objectStoreNames.contains(ta)||f.createObjectStore(ta,{keyPath:"id"}),f.objectStoreNames.contains(ra)||f.createObjectStore(ra,{keyPath:"id"})},i.onsuccess=u=>s(u.target.result),i.onerror=u=>l(u.target.error)}),jn=async s=>{const l=await mh();try{return await s(l)}finally{l.close()}},hh=()=>jn(s=>new Promise((l,i)=>{try{const p=s.transaction(en,"readonly").objectStore(en).getAll();p.onsuccess=()=>l(p.result||[]),p.onerror=()=>i(p.error)}catch{l([])}})),ai=s=>jn(l=>new Promise((i,u)=>{const f=l.transaction(en,"readwrite"),p=f.objectStore(en);p.clear(),s.forEach(g=>p.put(g)),f.oncomplete=()=>i(),f.onerror=()=>u(f.error)})),xh=s=>jn(l=>new Promise((i,u)=>{const f=l.transaction(en,"readwrite");f.objectStore(en).put(s),f.oncomplete=()=>i(),f.onerror=()=>u(f.error)})),gh=()=>jn(s=>new Promise((l,i)=>{try{const p=s.transaction(ta,"readonly").objectStore(ta).getAll();p.onsuccess=()=>l(p.result||[]),p.onerror=()=>i(p.error)}catch{l([])}})),Nc=s=>jn(l=>new Promise((i,u)=>{const f=l.transaction(ta,"readwrite"),p=f.objectStore(ta);p.clear(),s.forEach(g=>p.put(g)),f.oncomplete=()=>i(),f.onerror=()=>u(f.error)})),bh=()=>jn(s=>new Promise((l,i)=>{try{const p=s.transaction(ra,"readonly").objectStore(ra).getAll();p.onsuccess=()=>l(p.result||[]),p.onerror=()=>i(p.error)}catch(u){console.warn("Store models introuvable, retour tableau vide",u),l([])}})),jc=s=>jn(l=>new Promise((i,u)=>{const f=l.transaction(ra,"readwrite"),p=f.objectStore(ra);p.clear(),s.forEach(g=>p.put(g)),f.oncomplete=()=>i(),f.onerror=()=>u(f.error)})),Kc=s=>{try{return localStorage.getItem(s)}catch(l){return console.warn("LocalStorage inaccessible:",l),null}},Zc=(s,l)=>{try{localStorage.setItem(s,l)}catch(i){console.warn("LocalStorage inaccessible:",i)}},si=s=>Kc(`${Gc}${s}`),oi=(s,l)=>{Zc(`${Gc}${s}`,l)},li=s=>Kc(`${Xc}${s}`),ii=(s,l)=>{Zc(`${Xc}${s}`,l)},Ei=async s=>{const l=Si(),i=await fetch(`${po}/gemini/generate-content`,{method:"POST",headers:{"Content-Type":"application/json","X-Session-Token":l||""},body:JSON.stringify(s)});if(!i.ok){const p=await i.json(),g=p.details?.error;if(i.status===429||g?.code===429||g?.status==="RESOURCE_EXHAUSTED"){let x="quelques instants";if(g?.message){const N=g.message.match(/Please retry in ([0-9.]+)s/);N&&N[1]&&(x=`${Math.ceil(parseFloat(N[1]))} secondes`)}if(x==="quelques instants"&&g?.details){const N=g.details.find(y=>y["@type"]?.includes("RetryInfo"));N&&N.retryDelay&&(x=N.retryDelay)}throw new Error(` Quota IA dpass (Free Tier). Veuillez patienter ${x} avant de ressayer.`)}throw new Error(g?.message||p.error||"Erreur Gemini API")}return(await i.json()).candidates?.[0]?.content?.parts?.[0]?.text||""},Xt={FAST:"gemini-3-flash-preview"},_i=(s,l=[])=>s===Xt.FAST?!1:l.some(i=>i.apiCode===s)||!0,qa={ANALYZE_BATCH:{model:Xt.FAST,generationConfig:{responseMimeType:"application/json"},getSystemInstruction:s=>`
${s}

---

RGLES DE SORTIE (FIXE) :
Tu dois traiter la liste d'ides fournie.
Pour chaque ide, retourne un objet JSON avec exactement ces champs :
1. 'id' : l'identifiant exact de l'ide tel que fourni dans l'entre (OBLIGATOIRE).
2. 'titre' : Titre de travail propos.
3. 'verdict' : uniquement une des valeurs suivantes : 'Valide', 'Trop lisse', ' revoir'.
4. 'justification' : 2-3 phrases maximum expliquant le verdict.
5. 'cible_offre' : "Standard" | "Seuil" | "Transverse".
6. 'format_cible' : "Post Texte (Court)" | "Carrousel (Slide par Slide)" | "Script Vido (Reel/Short)" | "Script Vido (Youtube)" | "Article (Long/SEO)" | "Prompt Image".
7. 'plateformes' : un tableau contenant uniquement les noms exacts des plateformes autorises (Facebook, Instagram, LinkedIn, Google My Business, Youtube, Blog, Newsletter).
8. 'angle_strategique' : L'angle prcis, le brief pour l'Intervieweur puis l'diteur. 3-5 phrases qui 'durcissent' le propos et prcisent la direction.
9. 'metaphore_suggeree' : Si une piste mtaphorique merge, la noter ici. Sinon : null.
10. 'profondeur' : "Direct" | "Lgre" | "Complte". Direct = les notes sont suffisantes, pas besoin d'interview. Lgre = 1 question par axe. Complte = 3 questions par axe.
Tu dois retourner UNIQUEMENT un tableau JSON d'objets sans aucun texte superflu ni balises markdown (pas de \`\`\`json).
        `},GENERATE_INTERVIEW:{model:Xt.FAST,generationConfig:{responseMimeType:"application/json"},getSystemInstruction:(s,l)=>`
${s}

---

RGLES DE SORTIE (FORMAT JSON STRICT) :
Tu dois rpondre EXCLUSIVEMENT sous la forme d'un objet JSON valide. Aucun texte avant ou aprs le JSON.

La profondeur demande est : "${l}"

Si profondeur = "Direct" (Mode Passe-plat) :
{"mode": "direct", "skip": true, "raison": "Les notes sont suffisantes pour ce format."}

Si profondeur = "Lgre" ou "Complte" (Mode Maeutique ractionnelle) :
{"mode": "reactionnel", "skip": false, "draft_zero": "Ton paragraphe de 5-6 lignes (le Draft 0) qui tente de rsumer l'ide avec audace, en incarnant la voix de Florent.", "questions": ["Question 1 (Vrit clinique)", "Question 2 (Incarnation)"]}

DISCIPLINE :
- Le champ "draft_zero" est un premier jet : imparfait mais vivant. Il utilise l'angle stratgique et tente la mtaphore suggre.
- Le champ "questions" contient EXACTEMENT 2 chanes de caractres.
- Q1 cible la vrit clinique : ce qui est faux, imprcis ou trop thorique dans le Draft 0.
- Q2 cible l'incarnation : une image, une sensation physique ou une anecdote anonymise.
- Chaque question est formule au "tu", comme si tu parlais directement  Florent.
- Chaque question est spcifique au sujet trait (pas de question gnrique rutilisable d'un sujet  l'autre).
        `},GENERATE_CARROUSEL_SLIDES:{model:Xt.FAST,generationConfig:{responseMimeType:"application/json"},getSystemInstruction:(s,l,i,u)=>`
${s}
Cible offre : ${l}
Mtaphore centrale : ${i}
Contenu carrousel : ${u}

FORMAT DE SORTIE (STRICT) :
json{
  "direction_globale": {
    "style": "Le style visuel unifi pour tout le carrousel.",
    "palette": "Les 3-4 couleurs dominantes.",
    "eclairage": "Le type de lumire constant.",
    "ambiance": "Le ressenti motionnel global en quelques mots."
  },
  "slides": [
    {
      "numero": 1,
      "type": "ILLUSTRE ou TYPO",
      "titre": "Le titre ou accroche  afficher sur la slide. 6 mots max.",
      "texte": "Le corps de texte court  afficher sur la slide. 2-3 phrases max.",
      "prompt_dzine": "Le prompt complet en anglais, prt  coller dans Dzine. 50-80 mots max. Null si type TYPO.",
      "indication_typo": "Si TYPO : couleur de fond suggre et style de mise en page. Null si type ILLUSTRE.",
      "note_composition": "O placer le texte sur l'image (ex: espace libre en haut, tiers gauche dgag)."
    }
  ]
}
        `},DRAFT_CONTENT:{model:Xt.FAST,generationConfig:{responseMimeType:"application/json"},getSystemInstruction:s=>`

${s}

---

Tu vas recevoir un objet JSON contenant :
- titre
- format_cible
- cible_offre
- angle_strategique
- metaphore_suggeree
- profondeur ("Direct", "Lgre" ou "Complte")
- notes (les notes brutes de Florent)
- draft_zero (le Draft 0 gnr par l'Intervieweur, si disponible  un premier jet provocateur  corriger)
- questions_interview (les questions poses par l'Intervieweur, si disponible)
- reponses_interview (les rponses de Florent aux questions, si disponible)

LOGIQUE DE SOURCES :
- Si profondeur = "Direct" : utilise uniquement les notes. Il n'y a ni draft_zero, ni questions, ni rponses.
- Si profondeur = "Lgre" ou "Complte" : le draft_zero est ton point de dpart. Les rponses de Florent contiennent la vrit clinique et l'incarnation. Fusionne le tout pour produire un contenu qui sonne comme Florent.

RGLES DE SORTIE (FIXE) :
GRILLE DE PRODUCTION PAR FORMAT :
1. Post Texte (Court)  LinkedIn, FB, Insta
json{
  "format": "Post Texte",
  "hook": "1 phrase isole, percutante. Question, affirmation paradoxale ou image choc.",
  "corps": "Paragraphes ultra-courts (1-2 phrases). Alternance prose/listes (). Monte en tension. La mtaphore file structure le texte.",
  "baffe": "Conclusion tranchante  la vrit que le lecteur ne voulait pas entendre, dite avec tendresse.",
  "cta": "Appel  l'action (question ouverte, invitation  commenter, lien vers offre). JAMAIS d'emoji."
}
Ton : Direct, oralis, percutant. On entend la voix.
Contrainte de longueur : 150 mots max pour le corps (hors hook et CTA).
2. Article (Long/SEO)  Blog, Newsletter
json{
  "format": "Article",
  "titre_h1": "Titre accrocheur incluant le mot-cl principal.",
  "introduction": "Structure PAS (Problme  Agitation  Solution). 3-4 paragraphes. Pose la mtaphore centrale ds l'intro.",
  "sections": [
    {
      "sous_titre_h2": "Titre structurant",
      "contenu": "Dveloppement. Alterner rigueur clinique et images concrtes. Chaque section fait progresser vers le seuil."
    }
  ],
  "conclusion": "Rcapitulatif + angle de rupture. Pas de rsum plat  une ouverture qui laisse le lecteur face  son choix.",
  "cta": "Bloc d'appel  l'action contextuel."
}
Ton : Expert, pos, pdagogique, mais garde la radicalit du Seuil et l'oralit de Florent.
3. Script Vido (Reel/Short)  Insta, TikTok, Shorts
json{
  "format": "Script Reel",
  "contrainte": "150 mots max (60 secondes)",
  "hook": "[0-3s] Hook visuel ou verbal. La phrase qui arrte le scroll.",
  "corps": "[3-50s] Corps rythm. Style parl. Intentions visuelles entre crochets : [Plan serr], [Texte  l'cran], [Changement d'angle].",
  "cta": "[50-60s] CTA rapide. Question ou invitation."
}
Ton : Parl, naturel, comme le transcript sur l'injustice. L'humour et le paradoxe sont les moteurs.
4. Script Vido (Youtube)
json{
  "format": "Script Youtube",
  "intro": "Hook + Promesse claire. Pourquoi rester jusqu'au bout.",
  "developpement": [
    {
      "point": "Titre du point",
      "contenu": "Dveloppement narratif. Mtaphores files. Anecdotes de cabinet."
    }
  ],
  "conclusion": "Ouverture + angle de rupture. Pas de rsum mcanique."
}
Ton : Narratif, profond, utilisant des mtaphores files. Plus long, plus contemplatif, mais toujours incarn.
5. Carrousel (Slide par Slide)  LinkedIn, Insta
json{
  "format": "Carrousel",
  "slides": [
    {
      "numero": 1,
      "titre": "6 mots max",
      "texte": "Texte court",
      "visuel": "Description de l'image ou du schma suggr"
    }
  ],
  "slide_finale": {
    "titre": "Interaction",
    "texte": "CTA : partage, commentaire, lien."
  }
}
5  10 slides. Slide 1 = hook visuel. Dernire slide = interaction.
6. Prompt Image (IA Gnrative)
json{
  "format": "Prompt Image",
  "prompt": "Prompt dtaill et artistique en anglais pour Midjourney/DALL-E illustrant la mtaphore centrale.",
  "legende": "2 phrases max pour accompagner l'image sur les rseaux."
}
Interdiction absolue : Aucun autre texte.
        `}},Sc=async(s,l)=>{const i=Si(),u=await fetch(`${po}/1min/${s}`,{method:"POST",headers:{"Content-Type":"application/json","X-Session-Token":i||""},body:JSON.stringify(l)}),f=await u.text();let p;try{p=JSON.parse(f)}catch{throw console.error(`1min.AI ${s}: rponse non-JSON:`,f.substring(0,300)),new Error(`L'API 1min.AI a renvoy une rponse invalide (${u.status}). Ressayez dans quelques instants.`)}if(!u.ok)throw new Error(p.error||p.message||`Erreur 1min.AI (${u.status})`);return p},Ti=async s=>{try{const l=s.systemInstruction?`${s.systemInstruction}

---

${s.prompt}`:s.prompt,u=(await Sc("create-conversation",{type:"CHAT_WITH_AI",title:`Generation ${new Date().toISOString()}`,model:s.model})).conversation?.uuid;if(!u)throw new Error("Impossible de crer une conversation 1min.AI");const f=await Sc("send-message",{type:"CHAT_WITH_AI",conversationId:u,model:s.model,promptObject:{prompt:l,isMixed:!1,webSearch:!1}});let p="";const g=f.aiRecord,x=g?.aiRecordDetail?.resultObject;return x&&Array.isArray(x)&&x.length>0?p=x[0]:p=f.response||f.text||f.output||g?.response||JSON.stringify(f),p=p.replace(/```json\s?/g,"").replace(/```\s?/g,""),p.trim()}catch(l){throw console.error("1min.AI Service Error:",l),new Error(`Erreur 1min.AI: ${l.message}`)}},oa=(s,l,i=!1)=>{P.useEffect(()=>{if(!s||i)return;const u=f=>{f.key==="Escape"&&(f.preventDefault(),l())};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[s,l,i])},ef=({isOpen:s,onClose:l,title:i,message:u,type:f="info"})=>{if(oa(s,l),!s)return null;const p=()=>{switch(f){case"error":return a.jsx(ea,{className:"w-6 h-6 text-red-500"});case"success":return a.jsx(pr,{className:"w-6 h-6 text-green-500"});default:return a.jsx(ea,{className:"w-6 h-6 text-brand-main"})}};return a.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",onClick:l,children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface w-full max-w-sm rounded-xl shadow-2xl border border-brand-border dark:border-dark-sec-border p-6 relative",onClick:g=>g.stopPropagation(),children:[a.jsx("button",{onClick:l,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:a.jsx(aa,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-4 p-3 bg-brand-light dark:bg-dark-bg rounded-full",children:p()}),a.jsx("h3",{className:"text-lg font-bold text-brand-main dark:text-white mb-2",children:i}),a.jsx("p",{className:"text-sm text-brand-main/70 dark:text-dark-text/70 mb-6",children:u}),a.jsx("button",{onClick:l,className:"w-full py-2.5 bg-brand-main hover:bg-brand-hover text-white rounded-lg font-medium transition-colors",children:"Compris"})]})]})})},Oi=({isOpen:s,onClose:l,onConfirm:i,title:u,message:f,confirmLabel:p="Confirmer",isDestructive:g=!1,isLoading:x=!1,autoClose:N=!0})=>{if(oa(s,l,x),!s)return null;const y=()=>{i(),N&&l()};return a.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",onClick:x?void 0:l,children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface w-full max-w-sm rounded-xl shadow-2xl border border-brand-border dark:border-dark-sec-border p-6",onClick:O=>O.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 text-brand-main dark:text-white",children:[a.jsx(km,{className:`w-6 h-6 ${g?"text-red-500":"text-yellow-500"}`}),a.jsx("h3",{className:"text-lg font-bold",children:u})]}),a.jsx("p",{className:"text-sm text-brand-main/70 dark:text-dark-text/70 mb-6 leading-relaxed",children:f}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:l,disabled:x,className:"px-4 py-2 text-sm font-medium text-brand-main dark:text-dark-text hover:bg-brand-light dark:hover:bg-dark-bg rounded-lg transition-colors disabled:opacity-50",children:"Annuler"}),a.jsxs("button",{onClick:y,disabled:x,className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors shadow-sm flex items-center gap-2
              ${g?"bg-red-500 hover:bg-red-600":"bg-brand-main hover:bg-brand-hover"}
              ${x?"opacity-70 cursor-not-allowed":""}
            `,children:[x&&a.jsx(st,{className:"w-4 h-4 animate-spin"}),x?"...":p]})]})]})})},tf=({current:s,max:l})=>{const i=s>l*.9,u=s>l;return a.jsxs("div",{className:`text-[10px] text-right mt-1 font-medium transition-colors ${u?"text-red-500":i?"text-orange-500":"text-gray-400"}`,children:[s,"/",l]})},mo=({className:s=""})=>{const l=(u,f)=>{document.execCommand(u,!1,f)},i=({command:u,value:f,icon:p,title:g})=>a.jsx("button",{onMouseDown:x=>{x.preventDefault(),l(u,f)},className:"p-1.5 rounded hover:bg-brand-border dark:hover:bg-dark-sec-border text-brand-main dark:text-dark-text transition-colors",title:g,children:a.jsx(p,{className:"w-4 h-4"})});return a.jsxs("div",{className:`flex items-center gap-1 p-2 border-b border-brand-border dark:border-dark-sec-border bg-brand-light/50 dark:bg-dark-bg/50 ${s}`,children:[a.jsx(i,{command:"bold",icon:jm,title:"Gras"}),a.jsx(i,{command:"italic",icon:Tm,title:"Italique"}),a.jsx("div",{className:"w-px h-4 bg-brand-border dark:bg-dark-sec-border mx-1"}),a.jsx(i,{command:"formatBlock",value:"H1",icon:Em,title:"Grand Titre"}),a.jsx(i,{command:"formatBlock",value:"H2",icon:_m,title:"Titre Moyen"}),a.jsx("div",{className:"w-px h-4 bg-brand-border dark:bg-dark-sec-border mx-1"}),a.jsx(i,{command:"insertUnorderedList",icon:Om,title:"Liste  puces"}),a.jsx(i,{command:"formatBlock",value:"BLOCKQUOTE",icon:xi,title:"Citation"}),a.jsx("div",{className:"flex-1"}),a.jsx(i,{command:"undo",icon:zm,title:"Annuler"}),a.jsx(i,{command:"redo",icon:Im,title:"Rtablir"})]})},vh=s=>{if(!s)return"";let l=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");l=l.replace(/^# (.*$)/gim,"<h1>$1</h1>"),l=l.replace(/^## (.*$)/gim,"<h2>$1</h2>"),l=l.replace(/^> (.*$)/gim,"<blockquote>$1</blockquote>");const i=l.split(`
`);let u=!1,f=[];for(let p of i)p.trim().startsWith("- ")?(u||(f.push("<ul>"),u=!0),f.push(`<li>${p.trim().substring(2)}</li>`)):(u&&(f.push("</ul>"),u=!1),p.match(/<\/?(h1|h2|blockquote)>/)?f.push(p):p.trim()===""?f.push("<br>"):f.push(`<div>${p}</div>`));return u&&f.push("</ul>"),l=f.join(""),l=l.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/_(.*?)_/g,"<i>$1</i>").replace(/~(.*?)~/g,"<s>$1</s>").replace(/`([^`]*)`/g,"<code>$1</code>"),l},Cc=s=>{let l="";const i=u=>{if(u.nodeType===Node.TEXT_NODE)l+=u.textContent;else if(u.nodeType===Node.ELEMENT_NODE){const f=u;switch(f.tagName.toLowerCase()){case"b":case"strong":l+="**",f.childNodes.forEach(i),l+="**";break;case"i":case"em":l+="_",f.childNodes.forEach(i),l+="_";break;case"s":case"strike":l+="~",f.childNodes.forEach(i),l+="~";break;case"code":l+="`",f.childNodes.forEach(i),l+="`";break;case"h1":l+=`
# `,f.childNodes.forEach(i),l+=`
`;break;case"h2":l+=`
## `,f.childNodes.forEach(i),l+=`
`;break;case"blockquote":l+=`
> `,f.childNodes.forEach(i),l+=`
`;break;case"ul":l+=`
`,f.childNodes.forEach(i),l+=`
`;break;case"li":l+="- ",f.childNodes.forEach(i),l+=`
`;break;case"div":case"p":l.length>0&&!l.endsWith(`
`)&&(l+=`
`),f.childNodes.forEach(i);break;case"br":l+=`
`;break;default:f.childNodes.forEach(i)}}};return s.childNodes.forEach(i),l.replace(/\n{3,}/g,`

`)},Qa=({value:s,onChange:l,className:i="",placeholder:u})=>{const f=P.useRef(null);P.useEffect(()=>{if(f.current){const g=Cc(f.current),x=document.activeElement===f.current;s!==g&&!x&&(f.current.innerHTML=vh(s))}},[s]);const p=()=>{if(f.current){const g=Cc(f.current);l(g)}};return a.jsx("div",{ref:f,contentEditable:!0,onInput:p,className:`
                outline-none overflow-y-auto whitespace-pre-wrap break-words 
                text-base md:text-lg leading-relaxed text-brand-main dark:text-white
                empty:before:content-[attr(data-placeholder)] empty:before:text-gray-400
                [&_h1]:text-2xl [&_h1]:font-bold [&_h1]:mt-4 [&_h1]:mb-2 [&_h1]:border-b [&_h1]:border-brand-border/50
                [&_h2]:text-xl [&_h2]:font-bold [&_h2]:mt-3 [&_h2]:mb-1
                [&_blockquote]:border-l-4 [&_blockquote]:border-gray-300 [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-gray-500
                [&_ul]:list-disc [&_ul]:pl-5 [&_li]:mb-1
                ${i}
            `,"data-placeholder":u,spellCheck:!1})},yh=({isOpen:s,onClose:l,contexts:i,onContextsChange:u,aiModels:f=[],onModelsChange:p})=>{const[g,x]=P.useState(null),[N,y]=P.useState(null),[O,A]=P.useState(!1),[$,z]=P.useState(!1),[oe,ae]=P.useState(null),[re,ne]=P.useState(!1),[q,se]=P.useState(""),[W,Ne]=P.useState(""),[xe,B]=P.useState(Ot.REDACTEUR),[U,ye]=P.useState({name:"",apiCode:"",cost:"medium",provider:"",strengths:"",bestUseCases:"",textQuality:3});if(P.useEffect(()=>{s||(x(null),y(null),A(!1))},[s]),oa(s,l,$||re||!!oe),!s)return null;const ve=S=>{x(S),y(null),A(!1)},ge=()=>{x(null),y(null),A(!1)},D=S=>{y(S.id),se(S.name),Ne(S.description),B(S.usage||Ot.REDACTEUR),A(!1)},C=()=>{y(null),se(""),Ne(""),B(Ot.REDACTEUR),A(!0)},V=S=>{y(S.id),ye(S),A(!1)},H=()=>{y(null),A(!0),ye({name:"",apiCode:"",cost:"medium",provider:"",strengths:"",bestUseCases:"",textQuality:3})},le=async()=>{z(!0);try{if(O){const S=await sh(q,W,xe);u([...i,S]),y(S.id),A(!1)}else if(N){const S={id:N,name:q,description:W,usage:xe};await oh(S),u(i.map(L=>L.id===N?S:L))}}catch(S){console.error(S)}finally{z(!1)}},he=async()=>{z(!0);try{if(O){const S=await dh(U);p([...f,S]),y(S.id),A(!1)}else if(N){const S={...U,id:N};await uh(S),p(f.map(L=>L.id===N?S:L))}}catch(S){console.error(S)}finally{z(!1)}},R=async()=>{if(oe){ne(!0);try{g==="contexts"?(await lh(oe),u(i.filter(S=>S.id!==oe))):(await ch(oe),p(f.filter(S=>S.id!==oe))),N===oe&&(y(null),A(!1))}catch(S){console.error(S)}finally{ne(!1),ae(null)}}};return a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-brand-main/20 dark:bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:l,children:[a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-2xl shadow-2xl w-full max-w-5xl h-[85vh] min-h-[500px] max-h-[900px] flex flex-col border border-brand-border dark:border-dark-sec-border overflow-hidden transition-all",onClick:S=>S.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-brand-border dark:border-dark-sec-border flex-shrink-0 bg-white dark:bg-dark-surface z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-brand-light dark:bg-dark-sec-bg p-2 rounded-xl",children:a.jsx(gi,{className:"w-5 h-5 text-brand-main dark:text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-brand-main dark:text-white leading-tight",children:"Configuration"}),a.jsx("p",{className:"text-xs text-brand-main/60 dark:text-dark-text/60",children:"Grez vos personas et vos modles"})]})]}),a.jsx("button",{onClick:l,className:"p-2 hover:bg-brand-light dark:hover:bg-dark-sec-bg rounded-full transition-colors text-brand-main dark:text-white",children:a.jsx(aa,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[a.jsx("div",{className:"w-full md:w-80 border-b md:border-b-0 md:border-r border-brand-border dark:border-dark-sec-border bg-brand-light dark:bg-dark-bg flex flex-col overflow-hidden relative",children:a.jsxs("div",{className:"flex w-[200%] h-full transition-transform duration-300 ease-[cubic-bezier(0.25,1,0.5,1)]",style:{transform:g?"translateX(-50%)":"translateX(0)"},children:[a.jsxs("div",{className:"w-1/2 h-full p-4 space-y-2 overflow-y-auto",children:[a.jsx("div",{className:"text-xs font-bold text-brand-main/40 dark:text-dark-text/40 uppercase tracking-widest px-2 mb-2",children:"Menu Principal"}),a.jsxs("button",{onClick:()=>ve("contexts"),className:"w-full flex items-center justify-between p-4 bg-white dark:bg-dark-surface hover:bg-white/80 dark:hover:bg-dark-surface/80 rounded-xl shadow-sm border border-brand-border dark:border-dark-sec-border transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg text-blue-600 dark:text-blue-300",children:a.jsx(Nn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"block font-bold text-brand-main dark:text-white",children:"Contextes"}),a.jsx("span",{className:"text-xs text-brand-main/50 dark:text-dark-text/50",children:"Personas & Voix"})]})]}),a.jsx(pi,{className:"w-5 h-5 text-brand-main/30 group-hover:text-brand-main/60 transition-colors"})]}),a.jsxs("button",{onClick:()=>ve("models"),className:"w-full flex items-center justify-between p-4 bg-white dark:bg-dark-surface hover:bg-white/80 dark:hover:bg-dark-surface/80 rounded-xl shadow-sm border border-brand-border dark:border-dark-sec-border transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-2 rounded-lg text-purple-600 dark:text-purple-300",children:a.jsx(lo,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"block font-bold text-brand-main dark:text-white",children:"Modles IA (1min.ai)"}),a.jsx("span",{className:"text-xs text-brand-main/50 dark:text-dark-text/50",children:"Cls API & Configs"})]})]}),a.jsx(pi,{className:"w-5 h-5 text-brand-main/30 group-hover:text-brand-main/60 transition-colors"})]})]}),a.jsxs("div",{className:"w-1/2 h-full flex flex-col bg-brand-light dark:bg-dark-bg",children:[a.jsxs("div",{className:"p-4 border-b border-brand-border dark:border-dark-sec-border flex items-center gap-3 bg-brand-light/95 dark:bg-dark-bg/95 backdrop-blur-sm z-10 sticky top-0",children:[a.jsxs("button",{onClick:ge,className:"flex items-center gap-1 text-sm font-medium text-brand-main/60 hover:text-brand-main dark:text-dark-text/60 dark:hover:text-white transition-colors",children:[a.jsx(zc,{className:"w-4 h-4"})," Retour"]}),a.jsx("div",{className:"flex-1 text-center font-bold text-brand-main dark:text-white",children:g==="contexts"?"Contextes":"Modles"}),a.jsx("div",{className:"w-16"})," "]}),a.jsx("div",{className:"p-4 pb-2",children:a.jsxs("button",{onClick:g==="contexts"?C:H,className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl border-2 border-dashed font-bold transition-all
                                    ${O?"border-brand-main bg-brand-main/5 text-brand-main":"border-brand-border dark:border-dark-sec-border text-brand-main/60 hover:border-brand-main hover:text-brand-main dark:text-dark-text/60 dark:hover:text-white"}
                                `,children:[a.jsx(Vc,{className:"w-4 h-4"}),g==="contexts"?"Crer un Persona":"Ajouter un Modle"]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pt-0 space-y-2",children:[g==="contexts"?(i||[]).map(S=>a.jsxs("div",{onClick:()=>D(S),className:`p-3 rounded-lg cursor-pointer transition-all border relative
                                            ${N===S.id&&!O?"bg-white dark:bg-dark-surface border-brand-main shadow-md":"bg-white/50 dark:bg-dark-surface/50 border-transparent hover:bg-white dark:hover:bg-dark-surface"}
                                        `,children:[a.jsx("h3",{className:"font-semibold text-sm truncate text-brand-main dark:text-white",children:S.name}),a.jsx("p",{className:"text-xs text-brand-main/60 dark:text-dark-text/60 line-clamp-1 mt-0.5",children:S.description}),N===S.id&&!O&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-brand-main"})]},S.id)):(f||[]).map(S=>a.jsxs("div",{onClick:()=>V(S),className:`p-3 rounded-lg cursor-pointer transition-all border relative
                                            ${N===S.id&&!O?"bg-white dark:bg-dark-surface border-brand-main shadow-md":"bg-white/50 dark:bg-dark-surface/50 border-transparent hover:bg-white dark:hover:bg-dark-surface"}
                                        `,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"font-semibold text-sm truncate text-brand-main dark:text-white",children:S.name}),a.jsx("span",{className:"text-[10px] bg-brand-light dark:bg-dark-bg text-brand-main dark:text-dark-text border border-brand-border dark:border-dark-sec-border px-1.5 rounded-full font-bold",children:S.provider})]}),a.jsx("p",{className:"text-xs text-brand-main/60 dark:text-dark-text/60 font-mono mt-1 truncate opacity-70",children:S.apiCode}),N===S.id&&!O&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-brand-main"})]},S.id)),(g==="contexts"&&i.length===0||g==="models"&&f.length===0)&&a.jsx("div",{className:"text-center py-8 text-brand-main/40 dark:text-dark-text/40 text-sm italic",children:"Aucun lment."})]})]})]})}),a.jsx("div",{className:"flex-1 flex flex-col bg-white dark:bg-dark-surface overflow-hidden",children:O||N?a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"px-8 py-6 border-b border-brand-border dark:border-dark-sec-border flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-brand-main dark:text-white",children:O?g==="contexts"?"Nouveau Persona":"Nouveau Modle":g==="contexts"?"Modifier Persona":"Modifier Modle"}),N&&a.jsx("button",{onClick:()=>ae(N),className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition-colors",title:"Supprimer",children:a.jsx(yi,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:g==="contexts"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-widest mb-2",children:"Nom du Persona"}),a.jsx("input",{type:"text",value:q,onChange:S=>se(S.target.value),className:"w-full text-xl font-bold border-b-2 border-brand-border dark:border-dark-sec-border py-2 bg-transparent focus:border-brand-main dark:focus:border-brand-light outline-none text-brand-main dark:text-white placeholder-brand-main/30",placeholder:"Ex: Rdacteur LinkedIn Pro"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-widest mb-2",children:"Usage"}),a.jsxs("select",{value:xe,onChange:S=>B(S.target.value),className:"w-full p-3 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg text-sm text-brand-main dark:text-white outline-none",children:[a.jsx("option",{value:Ot.REDACTEUR,children:"Rdacteur"}),a.jsx("option",{value:Ot.ANALYSTE,children:"Analyste"}),a.jsx("option",{value:Ot.INTERVIEWER,children:"Interviewer"}),a.jsx("option",{value:Ot.ARTISTE,children:"Artiste"})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-widest mb-2",children:"Prompt Systme"}),a.jsxs("div",{className:"flex-1 border border-brand-border dark:border-dark-sec-border rounded-xl bg-brand-light dark:bg-dark-bg focus-within:ring-2 focus-within:ring-brand-main overflow-hidden flex flex-col min-h-[300px]",children:[a.jsx(mo,{}),a.jsx(Qa,{value:W,onChange:Ne,className:"w-full flex-1 p-6",placeholder:"Dcrivez comment l'IA doit se comporter, son ton, son style..."})]})]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-widest mb-2",children:"Nom commercial"}),a.jsx("input",{type:"text",value:U.name,onChange:S=>ye({...U,name:S.target.value}),className:"w-full text-xl font-bold border-b-2 border-brand-border dark:border-dark-sec-border py-2 bg-transparent focus:border-brand-main outline-none text-brand-main dark:text-white",placeholder:"Ex: GPT-5.2 Pro"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase mb-2",children:"Code API 1min.AI"}),a.jsx("input",{type:"text",value:U.apiCode,onChange:S=>ye({...U,apiCode:S.target.value}),className:"w-full p-3 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg font-mono text-sm text-brand-main dark:text-white",placeholder:"ex: gpt-5.2-pro"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase mb-2",children:"Fournisseur"}),a.jsx("input",{type:"text",value:U.provider,onChange:S=>ye({...U,provider:S.target.value}),className:"w-full p-3 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg text-sm text-brand-main dark:text-white",placeholder:"ex: OpenAI"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase mb-2",children:"Cot / Crdits"}),a.jsxs("select",{value:U.cost,onChange:S=>ye({...U,cost:S.target.value}),className:"w-full p-3 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg text-sm text-brand-main dark:text-white outline-none",children:[a.jsx("option",{value:"low",children:"Faible"}),a.jsx("option",{value:"low_medium",children:"Moyen-Faible"}),a.jsx("option",{value:"medium",children:"Moyen"}),a.jsx("option",{value:"high",children:"lev"}),a.jsx("option",{value:"very_high",children:"Trs lev (Premium)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase mb-2",children:"Qualit Rdaction (1-5)"}),a.jsx("div",{className:"flex gap-2 p-3 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg",children:[1,2,3,4,5].map(S=>a.jsx("button",{onClick:()=>ye({...U,textQuality:S}),className:`w-8 h-8 rounded flex items-center justify-center transition-all font-bold ${U.textQuality===S?"bg-brand-main text-white":"hover:bg-brand-border dark:hover:bg-white/10 text-brand-main dark:text-white"}`,children:S},S))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase mb-2",children:"Forces & Cas d'usage"}),a.jsx("textarea",{value:U.strengths,onChange:S=>ye({...U,strengths:S.target.value}),className:"w-full p-4 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg text-sm min-h-[120px] text-brand-main dark:text-white",placeholder:"Ex: Excelle dans la structure longue et l'analyse..."})]})]})}),a.jsx("div",{className:"p-6 border-t border-brand-border dark:border-dark-sec-border flex justify-end bg-brand-light/30 dark:bg-dark-bg/30",children:a.jsxs("button",{onClick:g==="contexts"?le:he,disabled:$,className:"flex items-center gap-2 bg-brand-main hover:bg-brand-hover text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-brand-main/20 transition-all disabled:opacity-50",children:[$?a.jsx(st,{className:"w-5 h-5 animate-spin"}):a.jsx(fo,{className:"w-5 h-5"}),a.jsx("span",{children:O?"Crer":"Enregistrer les modifications"})]})})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-brand-main/30 dark:text-dark-text/30 space-y-6 animate-in fade-in zoom-in duration-300",children:[g==="contexts"?a.jsx("div",{className:"w-24 h-24 rounded-full bg-brand-light dark:bg-dark-bg flex items-center justify-center",children:a.jsx(Nn,{className:"w-12 h-12 opacity-50"})}):g==="models"?a.jsx("div",{className:"w-24 h-24 rounded-full bg-brand-light dark:bg-dark-bg flex items-center justify-center",children:a.jsx(lo,{className:"w-12 h-12 opacity-50"})}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-brand-light dark:bg-dark-bg flex items-center justify-center",children:a.jsx(gi,{className:"w-12 h-12 opacity-50 animate-spin-slow"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold",children:g?"Slectionnez un lment":"Bienvenue dans les paramtres"}),a.jsx("p",{className:"text-sm opacity-70 mt-1 max-w-xs mx-auto",children:g?"Cliquez sur un lment de la liste pour le modifier ou utilisez le bouton 'Ajouter'.":"Choisissez une catgorie dans le menu de gauche pour commencer."})]})]})})]})]}),a.jsx(Oi,{isOpen:!!oe,onClose:()=>ae(null),onConfirm:R,title:"Confirmer la suppression ?",message:"Cette action est irrversible dans Notion.",isDestructive:!0,isLoading:re})]})},rf=({isOpen:s,onClose:l,onConfirm:i,contexts:u,aiModels:f,actionType:p,onManageContexts:g,dataSummary:x})=>{const[N,y]=P.useState(""),[O,A]=P.useState(Xt.FAST),$=P.useMemo(()=>p==="analyze"?Ot.ANALYSTE:p==="interview"?Ot.INTERVIEWER:p==="carrousel"?Ot.ARTISTE:Ot.REDACTEUR,[p]),z=P.useMemo(()=>u.filter(ne=>ne.usage===$),[u,$]);P.useEffect(()=>{if(!s)return;if(z.length===0){y("");return}const ne=z.some(q=>q.id===N);(!N||!ne)&&y(z[0].id)},[s,z,N]),oa(s,l);const oe=P.useMemo(()=>{const q=[{id:"internal-fast",name:"Gemini Flash",apiCode:Xt.FAST,provider:"Google (Interne)",cost:"low",isInternal:!0},...f],se={};return q.forEach(W=>{const Ne=W.provider?W.provider.trim():"Autres";se[Ne]||(se[Ne]=[]),se[Ne].push(W)}),se},[f]),ae=ne=>{const q=ne?ne.toLowerCase():"medium";let se=2;return(q.includes("low")||q.includes("faible"))&&(se=1),q.includes("low_medium")&&(se=1.5),(q.includes("high")||q.includes("elev"))&&(se=3),(q.includes("very_high")||q.includes("trs"))&&(se=4),se<=1?a.jsxs("span",{className:"text-green-500 text-[10px] font-bold flex gap-0.5 items-center bg-green-100 dark:bg-green-900/30 px-1.5 py-0.5 rounded",children:[a.jsx(Gt,{className:"w-3 h-3"})," Eco"]}):se<=1.5?a.jsxs("span",{className:"text-teal-500 text-[10px] font-bold flex gap-0.5 items-center",children:[a.jsx(Gt,{className:"w-3 h-3"}),"+"]}):se===2?a.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400 text-[10px] font-bold flex gap-0.5 items-center",children:[a.jsx(Gt,{className:"w-3 h-3"}),a.jsx(Gt,{className:"w-3 h-3"})]}):se===3?a.jsxs("span",{className:"text-orange-500 text-[10px] font-bold flex gap-0.5 items-center",children:[a.jsx(Gt,{className:"w-3 h-3"}),a.jsx(Gt,{className:"w-3 h-3"}),a.jsx(Gt,{className:"w-3 h-3"})]}):a.jsxs("span",{className:"text-red-500 text-[10px] font-bold flex gap-0.5 items-center bg-red-100 dark:bg-red-900/30 px-1.5 py-0.5 rounded",children:[a.jsx(Gt,{className:"w-3 h-3"}),a.jsx(Gt,{className:"w-3 h-3"}),a.jsx(Gt,{className:"w-3 h-3"}),a.jsx(Gt,{className:"w-3 h-3"})]})};if(!s)return null;const re=()=>{switch(p){case"interview":return"Configuration de l'Interview";case"draft":return"Configuration de la Rdaction";case"analyze":return"Configuration de l'Analyse";case"carrousel":return"Configuration des Slides Carrousel";default:return"Configuration IA"}};return a.jsx("div",{className:"fixed inset-0 z-[80] bg-white/90 dark:bg-dark-surface/90 flex items-center justify-center animate-in fade-in zoom-in duration-200 p-4",onClick:l,children:a.jsxs("div",{className:"bg-white dark:bg-dark-bg rounded-xl shadow-2xl border border-brand-border dark:border-dark-sec-border w-full max-w-4xl max-h-[85vh] flex flex-col overflow-hidden",onClick:ne=>ne.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-brand-border dark:border-dark-sec-border bg-brand-light/50 dark:bg-dark-bg/50 space-y-3",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-brand-main dark:text-white flex items-center gap-3",children:[a.jsx(hi,{className:"w-6 h-6"}),re()]}),a.jsx("p",{className:"text-sm text-brand-main/60 dark:text-dark-text/60 mt-1",children:"Slectionnez le persona et le moteur d'intelligence artificielle."})]}),x&&x.length>0&&a.jsxs("div",{className:"flex items-start gap-2 bg-white dark:bg-dark-surface rounded-lg border border-brand-border dark:border-dark-sec-border px-4 py-2.5",children:[a.jsx(Rm,{className:"w-3.5 h-3.5 text-brand-main/40 dark:text-dark-text/40 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[a.jsx("span",{className:"text-[10px] font-bold text-brand-main/40 dark:text-dark-text/40 uppercase mr-1 self-center",children:"Donnes envoyes :"}),x.map((ne,q)=>a.jsx("span",{className:"text-[11px] font-medium px-2 py-0.5 rounded-full bg-brand-light dark:bg-dark-bg text-brand-main/70 dark:text-dark-text/70 border border-brand-border dark:border-dark-sec-border",children:ne},q))]})]})]}),a.jsxs("div",{className:"flex-1 overflow-hidden grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-brand-border dark:divide-dark-sec-border",children:[a.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-dark-surface border-b border-brand-border dark:border-dark-sec-border",children:a.jsxs("h4",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Uc,{className:"w-4 h-4"})," Choisir un Persona"]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:[z.map(ne=>a.jsxs("div",{onClick:()=>y(ne.id),className:`
                                        p-4 rounded-xl cursor-pointer transition-all border
                                        ${N===ne.id?"bg-brand-main text-white border-brand-main shadow-md transform scale-[1.02]":"bg-white dark:bg-dark-surface border-brand-border dark:border-dark-sec-border text-brand-main dark:text-white hover:bg-brand-light dark:hover:bg-dark-sec-bg"}
                                    `,children:[a.jsx("div",{className:"font-bold text-sm mb-1",children:ne.name}),a.jsx("div",{className:`text-xs line-clamp-2 ${N===ne.id?"text-white/80":"text-brand-main/60 dark:text-dark-text/60"}`,children:ne.description})]},ne.id)),z.length===0&&a.jsxs("div",{className:"text-center py-10 text-brand-main/40 dark:text-dark-text/40 text-sm",children:["Aucun persona pour cet usage.",a.jsx("br",{}),a.jsx("button",{onClick:()=>{l(),g()},className:"text-brand-main underline mt-2",children:"Crer un persona"})]})]})]}),a.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-brand-light/30 dark:bg-dark-bg/30",children:[a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-dark-surface border-b border-brand-border dark:border-dark-sec-border",children:a.jsxs("h4",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(lo,{className:"w-4 h-4"})," Choisir un Modle IA"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:Object.entries(oe).map(([ne,q])=>a.jsxs("div",{children:[a.jsx("div",{className:"text-[10px] font-bold text-brand-main/40 dark:text-dark-text/40 uppercase mb-2 ml-1",children:ne}),a.jsx("div",{className:"space-y-2",children:q.map(se=>a.jsxs("div",{onClick:()=>A(se.apiCode||""),className:`
                                                    flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border
                                                    ${O===se.apiCode?"bg-white dark:bg-dark-surface border-brand-main shadow-sm ring-1 ring-brand-main":"bg-white/50 dark:bg-dark-surface/50 border-transparent hover:bg-white dark:hover:bg-dark-surface"}
                                                `,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[se.isInternal?a.jsx(Kr,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}):a.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 dark:bg-gray-700"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-brand-main dark:text-white",children:se.name}),se.isInternal&&a.jsx("span",{className:"text-[10px] bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 px-1.5 py-0.5 rounded",children:"Recommand"})]})]}),a.jsx("div",{className:"flex flex-col items-end",children:ae(se.cost)})]},se.apiCode))})]},ne))})]})]}),a.jsxs("div",{className:"p-4 border-t border-brand-border dark:border-dark-sec-border bg-white dark:bg-dark-surface flex justify-end gap-3",children:[a.jsx("button",{onClick:l,className:"px-6 py-2.5 text-sm font-medium text-brand-main dark:text-dark-text hover:bg-brand-light dark:hover:bg-dark-sec-bg rounded-lg transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>i(N,O),disabled:!N,className:"px-8 py-2.5 text-sm font-bold bg-brand-main text-white rounded-lg hover:bg-brand-hover disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-brand-main/20 transition-all hover:-translate-y-0.5",children:"Valider & Lancer"})]})]})})},kh=({onClose:s,headerContent:l,footerContent:i,children:u})=>a.jsxs("div",{className:"w-full h-full flex flex-col bg-brand-light dark:bg-dark-bg animate-in fade-in slide-in-from-right-4 duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3 border-b border-brand-border dark:border-dark-sec-border bg-white dark:bg-dark-surface flex-shrink-0 z-20 shadow-sm",children:[a.jsxs("button",{onClick:s,className:"flex items-center gap-2 pr-4 mr-4 border-r border-brand-border dark:border-dark-sec-border text-brand-main/70 hover:text-brand-main dark:text-dark-text/70 dark:hover:text-white transition-colors font-medium text-sm",children:[a.jsx(zc,{className:"w-5 h-5"}),"Retour"]}),a.jsx("div",{className:"flex-1 min-w-0",children:l})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:u}),i&&a.jsx("div",{className:"flex items-center justify-end gap-3 px-4 md:px-6 py-4 border-t border-brand-border dark:border-dark-sec-border bg-white dark:bg-dark-surface flex-shrink-0 z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:i})]}),wh={A:"",B:"",C:"",D:"",E:"",F:"",G:"",H:"",I:"",J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},di=s=>s.split("").map(l=>wh[l]??l).join(""),Ec=s=>{if(!s)return"";try{const l=s.lastIndexOf("}"),i=l!==-1?s.slice(0,l+1):s,u=JSON.parse(i);if(u.edited_raw)return u.edited_raw;const f=u.format;if(!(f===Pe.POST_TEXTE_COURT||f==="Post Texte"))return"";const g=N=>typeof N=="string"?N.trim():"",x=[];return u.hook&&x.push(di(g(u.hook))),u.corps&&x.push(g(u.corps)),u.baffe&&x.push(di(g(u.baffe))),u.cta&&x.push(di(g(u.cta))),x.filter(Boolean).join(`

`)}catch{return s}},Ua={[ut.DIRECT]:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800",[ut.LEGERE]:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800",[ut.COMPLETE]:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800"},Nh=({item:s,onChange:l,onLaunchInterview:i,onLaunchDrafting:u,onLaunchCarrouselSlides:f,onChangeStatus:p,onSave:g,isGenerating:x,activeTab:N,onTabChange:y})=>{const[O,A]=P.useState(!1),[$,z]=P.useState(""),[oe,ae]=P.useState(!1),re=P.useRef(null),ne=D=>{if(!D)return null;try{const C=D.lastIndexOf("}"),V=C!==-1?D.slice(0,C+1):D;return JSON.parse(V)}catch{return null}},q=D=>{z(Zr(D)),A(!0)},se=()=>{const D=ne(s.body||"");let C;D&&D.format?C=JSON.stringify({...D,edited_raw:$}):C=$,l({...s,body:C}),A(!1)},W=D=>{const C=ne(D);if(!C||!C.format)return a.jsx("div",{className:"p-6 whitespace-pre-wrap text-sm leading-relaxed text-brand-main dark:text-dark-text",children:C?.edited_raw||D});if(C.edited_raw)return a.jsxs("div",{className:"p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-amber-600 dark:text-amber-400 uppercase",children:[a.jsx(bc,{className:"w-3 h-3"})," Contenu dit manuellement"]}),a.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed text-brand-main dark:text-dark-text",children:C.edited_raw})]});const V=J=>typeof J=="string"?J.trim():"",H=({label:J,color:K,children:me})=>a.jsxs("div",{className:`rounded-lg border-l-4 ${K} bg-brand-light dark:bg-dark-bg p-4`,children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60",children:J}),a.jsx("div",{className:"text-sm leading-relaxed text-brand-main dark:text-dark-text",children:me})]}),le=C.format,he=le===Pe.POST_TEXTE_COURT||le==="Post Texte",R=le===Pe.ARTICLE_LONG_SEO||le==="Article",S=le===Pe.SCRIPT_VIDEO_REEL_SHORT||le==="Script Reel",L=le===Pe.SCRIPT_VIDEO_YOUTUBE||le==="Script Youtube",v=le===Pe.CARROUSEL_SLIDE||le==="Carrousel",E=le===Pe.PROMPT_IMAGE||le==="Prompt Image";return he?a.jsxs("div",{className:"p-6 space-y-4",children:[C.hook&&a.jsx(H,{label:"Hook",color:"border-pink-400",children:V(C.hook)}),C.corps&&a.jsx(H,{label:"Corps",color:"border-brand-main dark:border-white",children:V(C.corps)}),C.baffe&&a.jsx(H,{label:"Baffe",color:"border-purple-400",children:V(C.baffe)}),C.cta&&a.jsx(H,{label:"CTA",color:"border-green-400",children:V(C.cta)})]}):R?a.jsxs("div",{className:"p-6 space-y-4",children:[C.titre_h1&&a.jsx("h2",{className:"text-xl font-bold text-brand-main dark:text-white",children:V(C.titre_h1)}),C.introduction&&a.jsx(H,{label:"Introduction",color:"border-blue-400",children:V(C.introduction)}),(C.sections||[]).map((J,K)=>a.jsxs("div",{className:"space-y-2",children:[J.sous_titre_h2&&a.jsx("h3",{className:"text-base font-bold text-brand-main dark:text-white",children:V(J.sous_titre_h2)}),J.contenu&&a.jsx("p",{className:"text-sm leading-relaxed text-brand-main dark:text-dark-text",children:V(J.contenu)})]},K)),C.conclusion&&a.jsx(H,{label:"Conclusion",color:"border-purple-400",children:V(C.conclusion)}),C.cta&&a.jsx(H,{label:"CTA",color:"border-green-400",children:V(C.cta)})]}):S?a.jsxs("div",{className:"p-6 space-y-4",children:[C.contrainte&&a.jsx("p",{className:"text-[10px] font-bold text-brand-main/40 dark:text-dark-text/40 uppercase",children:V(C.contrainte)}),C.hook&&a.jsx(H,{label:"Hook [03s]",color:"border-pink-400",children:V(C.hook)}),C.corps&&a.jsx(H,{label:"Corps [350s]",color:"border-brand-main dark:border-white",children:V(C.corps)}),C.cta&&a.jsx(H,{label:"CTA [5060s]",color:"border-green-400",children:V(C.cta)})]}):L?a.jsxs("div",{className:"p-6 space-y-4",children:[C.intro&&a.jsx(H,{label:"Intro",color:"border-pink-400",children:V(C.intro)}),(C.developpement||[]).map((J,K)=>a.jsxs("div",{className:"space-y-2",children:[J.point&&a.jsx("h3",{className:"text-sm font-bold text-brand-main dark:text-white",children:V(J.point)}),J.contenu&&a.jsx("p",{className:"text-sm leading-relaxed text-brand-main dark:text-dark-text",children:V(J.contenu)})]},K)),C.conclusion&&a.jsx(H,{label:"Conclusion",color:"border-purple-400",children:V(C.conclusion)})]}):v?a.jsxs("div",{className:"p-6 space-y-3",children:[(C.slides||[]).map((J,K)=>a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg rounded-lg p-3 border border-brand-border dark:border-dark-sec-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-pink-500 text-white text-[10px] font-bold flex items-center justify-center",children:J.numero??K+1}),J.titre&&a.jsx("span",{className:"text-sm font-bold text-brand-main dark:text-white",children:V(J.titre)})]}),J.texte&&a.jsx("p",{className:"text-sm text-brand-main dark:text-dark-text leading-relaxed",children:V(J.texte)})]},K)),C.slide_finale&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 uppercase mb-1",children:"Slide finale"}),C.slide_finale.titre&&a.jsx("p",{className:"text-sm font-bold text-brand-main dark:text-white",children:V(C.slide_finale.titre)}),C.slide_finale.texte&&a.jsx("p",{className:"text-sm text-brand-main dark:text-dark-text",children:V(C.slide_finale.texte)})]})]}):E?a.jsxs("div",{className:"p-6 space-y-4",children:[C.prompt&&a.jsx(H,{label:"Prompt (EN)",color:"border-amber-400",children:V(C.prompt)}),C.legende&&a.jsx(H,{label:"Lgende",color:"border-blue-400",children:V(C.legende)})]}):a.jsx("div",{className:"p-6 text-sm text-brand-main dark:text-dark-text whitespace-pre-wrap",children:D})},Ne=D=>{const C=ne(D),V=S=>typeof S=="string"?S.trim():"",H=({label:S,color:L,children:v})=>a.jsxs("div",{className:`rounded-lg border-l-4 ${L} bg-brand-light dark:bg-dark-bg p-4`,children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60",children:S}),a.jsx("div",{className:"text-sm leading-relaxed text-brand-main dark:text-dark-text whitespace-pre-wrap",children:v})]});if(!C||!C.format)return a.jsx("div",{className:"p-6 whitespace-pre-wrap text-sm leading-relaxed text-brand-main dark:text-dark-text",children:C?.edited_raw||D});const le=C.format,he=le===Pe.SCRIPT_VIDEO_REEL_SHORT||le==="Script Reel",R=le===Pe.SCRIPT_VIDEO_YOUTUBE||le==="Script Youtube";return he?a.jsxs("div",{className:"p-6 space-y-4",children:[C.contrainte&&a.jsx("p",{className:"text-[10px] font-bold text-amber-600/60 dark:text-amber-400/60 uppercase",children:V(C.contrainte)}),C.hook&&a.jsx(H,{label:"Hook [03s]",color:"border-amber-400",children:V(C.hook)}),C.corps&&a.jsx(H,{label:"Corps [350s]",color:"border-brand-main dark:border-white",children:V(C.corps)}),C.cta&&a.jsx(H,{label:"CTA [5060s]",color:"border-green-400",children:V(C.cta)})]}):R?a.jsxs("div",{className:"p-6 space-y-4",children:[C.intro&&a.jsx(H,{label:"Intro",color:"border-amber-400",children:V(C.intro)}),(C.developpement||[]).map((S,L)=>a.jsxs("div",{className:"space-y-2",children:[S.point&&a.jsx("h3",{className:"text-sm font-bold text-brand-main dark:text-white",children:V(S.point)}),S.contenu&&a.jsx("p",{className:"text-sm leading-relaxed text-brand-main dark:text-dark-text whitespace-pre-wrap",children:V(S.contenu)})]},L)),C.conclusion&&a.jsx(H,{label:"Conclusion",color:"border-purple-400",children:V(C.conclusion)})]}):a.jsx("div",{className:"p-6 text-sm text-brand-main dark:text-dark-text whitespace-pre-wrap",children:D})},xe=D=>{try{const C=D.lastIndexOf("}"),V=C!==-1?D.slice(0,C+1):D;return JSON.parse(V)}catch{return null}},B=D=>D?D.split(/(\*\*.*?\*\*)/g).map((V,H)=>V.startsWith("**")&&V.endsWith("**")?a.jsx("strong",{className:"font-bold",children:V.slice(2,-2)},H):a.jsx(Ya.Fragment,{children:V},H)):null,U=s.depth===ut.DIRECT;P.useEffect(()=>{if(N!=="postcourt"||s.targetFormat!==Pe.POST_TEXTE_COURT)return;const D=Ec(s.body||"");if(!D||re.current===D)return;re.current=D;const C={...s,postCourt:D};l(C),g(C)},[N,s.body]);const ye=s.targetFormat===Pe.SCRIPT_VIDEO_REEL_SHORT||s.targetFormat===Pe.SCRIPT_VIDEO_YOUTUBE,ve=[{id:"idea",label:"1. Ide",icon:$c,disabled:!1},{id:"interview",label:"2. Interview",icon:hi,disabled:U},{id:"content",label:"3. Rdaction",icon:gc,disabled:!1},...s.targetFormat===Pe.POST_TEXTE_COURT?[{id:"postcourt",label:"4. Post Court",icon:ro,disabled:!s.body}]:[],...s.targetFormat===Pe.CARROUSEL_SLIDE?[{id:"slides",label:"4. Slides",icon:no,disabled:!1}]:[],...ye?[{id:"script",label:"4. Script",icon:ri,disabled:!1}]:[]],ge=({onClick:D,disabled:C,icon:V,label:H,color:le="default"})=>{const he={default:"bg-white dark:bg-dark-surface hover:bg-brand-light dark:hover:bg-dark-bg text-brand-main/60 dark:text-dark-text/60 border-brand-border dark:border-dark-sec-border",pink:"bg-white dark:bg-pink-900/30 hover:bg-pink-50 dark:hover:bg-pink-900/50 text-pink-700 dark:text-pink-300 border-pink-200 dark:border-pink-800",blue:"bg-white dark:bg-blue-900/30 hover:bg-blue-50 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800",violet:"bg-white dark:bg-violet-900/30 hover:bg-violet-50 dark:hover:bg-violet-900/50 text-violet-700 dark:text-violet-300 border-violet-200 dark:border-violet-800"};return a.jsxs("button",{onClick:D,disabled:C,className:`flex items-center gap-1.5 text-[10px] font-medium px-3 py-1.5 rounded border shadow-sm transition-colors disabled:opacity-50 ${he[le]}`,children:[a.jsx(V,{className:`w-3 h-3 ${C&&H==="..."?"animate-spin":""}`}),H]})};return a.jsxs("div",{className:"flex-1 overflow-y-auto bg-brand-light dark:bg-dark-bg flex flex-col h-full relative scroll-smooth",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-brand-light/95 dark:bg-dark-bg/95 backdrop-blur border-b border-brand-border dark:border-dark-sec-border px-6 md:px-10 flex-shrink-0",children:a.jsx("div",{className:"max-w-6xl mx-auto w-full flex gap-6 overflow-x-auto scrollbar-hide",children:ve.map(D=>{const C=N===D.id,V=D.disabled,H=D.icon;return a.jsxs("button",{onClick:()=>!V&&y(D.id),disabled:V,title:V&&D.id==="interview"?"Non applicable (profondeur Direct)":V?"Gnre d'abord le contenu":void 0,className:`
                                    flex items-center gap-2 pb-3 pt-5 text-sm font-bold border-b-2 transition-all whitespace-nowrap
                                    ${V?"border-transparent text-brand-main/20 dark:text-dark-text/20 cursor-not-allowed line-through":C?"border-brand-main text-brand-main dark:text-white dark:border-white":"border-transparent text-brand-main/40 dark:text-dark-text/40 hover:text-brand-main/70"}
                                `,children:[a.jsx(H,{className:`w-4 h-4 ${C&&!V?"fill-current":""}`}),a.jsx("span",{children:D.label})]},D.id)})})}),a.jsxs("div",{className:"p-6 md:p-10 max-w-6xl mx-auto w-full flex-1 flex flex-col gap-6",children:[N==="idea"&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex-1 flex flex-col gap-6",children:[(s.analyzed||s.verdict||s.targetFormat||s.targetOffer||s.depth)&&a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 rounded-xl border border-purple-100 dark:border-purple-900/50 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-purple-700 dark:text-purple-300 uppercase tracking-wider",children:[a.jsx(Nn,{className:"w-3 h-3"})," Analyse IA"]}),s.verdict&&a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${s.verdict==="Valide"?"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":s.verdict==="Trop lisse"?"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800":"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800"}`,children:s.verdict}),s.targetOffer&&a.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full border bg-brand-light dark:bg-dark-bg text-brand-main dark:text-dark-text border-brand-border dark:border-dark-sec-border",children:[a.jsx(Lm,{className:"w-2.5 h-2.5 inline mr-1"}),s.targetOffer]}),s.targetFormat&&a.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full border bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 border-pink-200 dark:border-pink-800",children:s.targetFormat}),s.depth&&a.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${Ua[s.depth]||""}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5 inline mr-1"}),s.depth]}),s.platforms.length>0&&a.jsx("div",{className:"flex gap-1 flex-wrap",children:s.platforms.map(D=>a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-white dark:bg-purple-800/50 rounded border border-purple-200 dark:border-purple-800 text-purple-900 dark:text-purple-100",children:D},D))})]}),s.strategicAngle&&a.jsx("div",{className:"text-sm text-purple-900 dark:text-purple-100/80 leading-relaxed whitespace-pre-wrap border-t border-purple-200 dark:border-purple-800/50 pt-3",children:B(s.strategicAngle)}),(s.suggestedMetaphor||s.justification)&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 border-t border-purple-200 dark:border-purple-800/50 pt-3",children:[s.suggestedMetaphor&&a.jsxs("div",{className:"bg-white dark:bg-purple-900/20 rounded-lg p-3 border border-purple-100 dark:border-purple-900/40",children:[a.jsxs("p",{className:"text-[10px] font-bold text-purple-500 dark:text-purple-400 uppercase mb-1 flex items-center gap-1",children:[a.jsx(xi,{className:"w-2.5 h-2.5"})," Mtaphore"]}),a.jsx("p",{className:"text-xs text-purple-900 dark:text-purple-100/80 italic leading-relaxed",children:s.suggestedMetaphor})]}),s.justification&&a.jsxs("div",{className:"bg-white dark:bg-purple-900/20 rounded-lg p-3 border border-purple-100 dark:border-purple-900/40",children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-500 dark:text-purple-400 uppercase mb-1",children:"Justification"}),a.jsx("p",{className:"text-xs text-purple-900 dark:text-purple-100/80 leading-relaxed",children:s.justification})]})]}),!s.strategicAngle&&!s.suggestedMetaphor&&!s.justification&&a.jsx("p",{className:"text-xs text-purple-900/50 dark:text-purple-100/40 italic",children:"Aucun dtail d'analyse disponible."})]}),a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border overflow-hidden focus-within:ring-2 focus-within:ring-brand-main transition-shadow flex flex-col flex-1 min-h-[200px]",children:[a.jsx("div",{className:"bg-brand-light dark:bg-dark-bg px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border",children:a.jsxs("p",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase flex items-center gap-2",children:[a.jsx(mi,{className:"w-3 h-3"})," Notes"]})}),a.jsx(Qa,{value:s.notes,onChange:D=>l({...s,notes:D}),className:"w-full flex-1 p-4 text-sm",placeholder:"Tes notes brutes, ides, rfrences..."})]})]}),N==="interview"&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex-1 flex flex-col gap-6 pb-10",children:[(s.strategicAngle||s.suggestedMetaphor)&&a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 rounded-xl border border-purple-100 dark:border-purple-900/50 p-4 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase flex items-center gap-1",children:[a.jsx(Nn,{className:"w-3 h-3"})," Contexte de l'interview"]}),s.depth&&a.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${Ua[s.depth]||""}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5 inline mr-1"}),s.depth]})]}),s.strategicAngle&&a.jsx("p",{className:"text-sm text-purple-900 dark:text-purple-100/80 leading-relaxed",children:B(s.strategicAngle)}),s.suggestedMetaphor&&a.jsxs("p",{className:"text-xs text-purple-700 dark:text-purple-300 italic border-t border-purple-200 dark:border-purple-800/50 pt-2",children:[a.jsx(xi,{className:"w-3 h-3 inline mr-1 opacity-60"}),s.suggestedMetaphor]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/50 p-4 flex flex-col min-h-[400px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-xs font-bold text-blue-800 dark:text-blue-300 uppercase flex items-center gap-2",children:[a.jsx(hi,{className:"w-4 h-4"})," Questions"]}),s.interviewQuestions&&a.jsx(ge,{onClick:i,disabled:x,icon:Kn,label:x?"...":"Rgnrer",color:"blue"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.interviewQuestions?a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-blue-900 dark:text-blue-100 whitespace-pre-wrap leading-relaxed",children:B(s.interviewQuestions)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-4",children:[a.jsx("p",{className:"text-blue-900/60 dark:text-blue-100/60 text-sm max-w-xs leading-relaxed",children:"L'IA gnre des questions cibles pour enrichir ton contenu."}),a.jsxs("button",{onClick:i,disabled:x,className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium shadow-md transition-all disabled:opacity-50",children:[x?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsx(wn,{className:"w-4 h-4"}),"Gnrer les questions"]})]})})]}),a.jsxs("div",{className:"flex flex-col min-h-[400px] gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border overflow-hidden focus-within:ring-2 focus-within:ring-pink-500 transition-shadow flex flex-col flex-1",children:[a.jsx("div",{className:"bg-brand-light dark:bg-dark-bg px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border",children:a.jsxs("p",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase flex items-center gap-2",children:[a.jsx(mi,{className:"w-3 h-3"})," Rponses"]})}),a.jsx("div",{className:"bg-brand-light/30 dark:bg-dark-bg/30 p-2 border-b border-brand-border dark:border-dark-sec-border",children:a.jsx(mo,{})}),a.jsx(Qa,{value:s.interviewAnswers||"",onChange:D=>l({...s,interviewAnswers:D}),className:"w-full flex-1 p-4 text-sm",placeholder:"Rponds aux questions pour guider la rdaction..."})]}),a.jsxs("button",{onClick:u,disabled:x||!s.interviewAnswers,className:"flex items-center gap-2 px-6 py-3 bg-pink-600 hover:bg-pink-700 text-white rounded-xl font-bold shadow-lg shadow-pink-600/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:-translate-y-0.5 w-full justify-center",children:[x?a.jsx(st,{className:"w-5 h-5 animate-spin"}):a.jsx(wn,{className:"w-5 h-5"}),"Gnrer le contenu"]})]})]})]}),N==="content"&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex-1 flex flex-col gap-6 pb-10",children:[a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border shadow-md ring-1 ring-pink-500/20 overflow-hidden flex flex-col flex-1 min-h-[500px]",children:[a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("p",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase",children:"Brouillon"}),s.targetFormat&&a.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 border border-pink-200 dark:border-pink-800",children:s.targetFormat}),s.depth&&a.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${Ua[s.depth]||""}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5 inline mr-1"}),s.depth]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[O?a.jsxs(a.Fragment,{children:[a.jsx(ge,{onClick:()=>A(!1),icon:aa,label:"Annuler"}),a.jsxs("button",{onClick:se,className:"flex items-center gap-1.5 text-[10px] font-medium px-3 py-1.5 rounded border shadow-sm bg-green-600 hover:bg-green-700 text-white border-green-700 transition-colors",children:[a.jsx(fo,{className:"w-3 h-3"})," Enregistrer"]})]}):s.body&&a.jsx(ge,{onClick:()=>q(s.body),icon:bc,label:"Modifier"}),a.jsx(ge,{onClick:u,disabled:x,icon:Kn,label:x?"...":"Rgnrer",color:"pink"})]})]}),a.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto custom-scrollbar",children:O?a.jsx("textarea",{value:$,onChange:D=>z(D.target.value),className:"flex-1 w-full p-6 text-sm leading-relaxed bg-white dark:bg-dark-surface text-brand-main dark:text-dark-text outline-none resize-none font-mono",placeholder:"ditez le contenu..."}):s.body?W(s.body):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-4 p-8",children:[a.jsx(gc,{className:"w-10 h-10 text-pink-300 dark:text-pink-700 opacity-60"}),a.jsx("p",{className:"text-sm text-brand-main/50 dark:text-dark-text/50 max-w-xs leading-relaxed",children:U?"Lance la gnration depuis tes notes.":"Rponds aux questions de l'interview, puis gnre le contenu."}),a.jsxs("button",{onClick:u,disabled:x||!U&&!s.interviewAnswers,className:"flex items-center gap-2 px-5 py-2.5 bg-pink-600 hover:bg-pink-700 text-white rounded-lg text-sm font-medium shadow-md transition-all disabled:opacity-50",children:[x?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsx(wn,{className:"w-4 h-4"}),"Gnrer le contenu"]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>p(_e.READY),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl text-base font-bold shadow-lg shadow-green-600/20 transition-all hover:-translate-y-0.5",children:[a.jsx(pr,{className:"w-5 h-5"}),"Marquer comme Prt"]})})]}),N==="postcourt"&&(()=>{const D=Ec(s.body||""),C=()=>{navigator.clipboard.writeText(D),ae(!0),setTimeout(()=>ae(!1),2e3)},V=H=>H.split(`

`).map((le,he)=>a.jsx("p",{className:`leading-relaxed text-brand-main dark:text-dark-text ${he>0?"mt-4":""}`,children:le},he));return a.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex-1 flex flex-col pb-10",children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border shadow-md ring-1 ring-emerald-500/20 overflow-hidden flex flex-col flex-1 min-h-[400px]",children:[a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase flex items-center gap-2",children:[a.jsx(ro,{className:"w-3 h-3"})," Post Court  Prt  copier"]}),a.jsxs("button",{onClick:C,disabled:!D,className:`flex items-center gap-1.5 text-[10px] font-medium px-3 py-1.5 rounded border shadow-sm transition-colors disabled:opacity-40 ${oe?"bg-emerald-600 text-white border-emerald-700":"bg-white dark:bg-emerald-900/30 hover:bg-emerald-50 dark:hover:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800"}`,children:[oe?a.jsx(Sm,{className:"w-3 h-3"}):a.jsx(ro,{className:"w-3 h-3"}),oe?"Copi !":"Copier"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 max-w-2xl mx-auto w-full",children:D?a.jsx("div",{className:"text-sm select-text",children:V(D)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-3 opacity-50",children:[a.jsx(ro,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm",children:"Gnre d'abord le contenu dans l'onglet Rdaction."})]})})]})})})(),N==="slides"&&a.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex-1 flex flex-col pb-10",children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border shadow-md ring-1 ring-violet-500/20 overflow-hidden flex flex-col flex-1 min-h-[500px]",children:[a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("p",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase flex items-center gap-2",children:[a.jsx(no,{className:"w-3 h-3"})," Direction artistique"]}),s.depth&&a.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${Ua[s.depth]||""}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5 inline mr-1"}),s.depth]})]}),a.jsx(ge,{onClick:f,disabled:x,icon:Kn,label:x?"...":"Rgnrer",color:"violet"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.slides?(()=>{const D=xe(s.slides);if(!D)return a.jsx("pre",{className:"p-6 text-sm font-mono text-brand-main dark:text-dark-text whitespace-pre-wrap leading-relaxed",children:s.slides});const{direction_globale:C,slides:V}=D;return a.jsxs("div",{className:"p-6 space-y-8",children:[C&&a.jsxs("div",{className:"bg-violet-50 dark:bg-violet-900/10 rounded-xl border border-violet-200 dark:border-violet-800/50 p-5",children:[a.jsxs("h3",{className:"text-xs font-bold text-violet-700 dark:text-violet-300 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(no,{className:"w-3.5 h-3.5"})," Direction globale"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Style",value:C.style},{label:"Palette",value:C.palette},{label:"clairage",value:C.eclairage},{label:"Ambiance",value:C.ambiance}].map(({label:H,value:le})=>le&&a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-lg p-3 border border-violet-100 dark:border-violet-900/40",children:[a.jsx("p",{className:"text-[10px] font-bold text-violet-500 dark:text-violet-400 uppercase mb-1",children:H}),a.jsx("p",{className:"text-sm text-brand-main dark:text-dark-text leading-relaxed",children:le})]},H))})]}),a.jsx("div",{className:"space-y-4",children:Array.isArray(V)&&V.map(H=>a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border bg-brand-light dark:bg-dark-bg",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-violet-600 text-white text-xs font-bold flex items-center justify-center flex-shrink-0",children:H.numero}),a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${H.type==="ILLUSTRE"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:H.type}),H.titre&&a.jsx("span",{className:"text-sm font-bold text-brand-main dark:text-white truncate",children:H.titre})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[H.texte&&a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg rounded-lg p-3 border-l-4 border-violet-400",children:[a.jsx("p",{className:"text-[10px] font-bold text-violet-600 dark:text-violet-400 uppercase mb-1",children:"Texte slide"}),a.jsx("p",{className:"text-sm text-brand-main dark:text-dark-text leading-relaxed",children:H.texte})]}),H.prompt_dzine&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-amber-600 dark:text-amber-400 uppercase mb-1",children:"Prompt Dzine"}),a.jsx("p",{className:"text-sm text-brand-main dark:text-dark-text leading-relaxed italic",children:H.prompt_dzine})]}),H.indication_typo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-blue-600 dark:text-blue-400 uppercase mb-1",children:"Indication Typo"}),a.jsx("p",{className:"text-sm text-brand-main dark:text-dark-text leading-relaxed",children:H.indication_typo})]}),H.note_composition&&a.jsxs("div",{className:"border-t border-brand-border dark:border-dark-sec-border pt-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-brand-main/40 dark:text-dark-text/40 uppercase mb-1",children:"Composition"}),a.jsx("p",{className:"text-sm text-brand-main/70 dark:text-dark-text/70 leading-relaxed",children:H.note_composition})]})]})]},H.numero))})]})})():a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-4 p-8",children:[a.jsx(no,{className:"w-10 h-10 text-violet-300 dark:text-violet-600"}),a.jsx("p",{className:"text-sm text-brand-main/50 dark:text-dark-text/50 max-w-xs leading-relaxed",children:"Gnre la direction artistique et les prompts Dzine pour chaque slide."}),a.jsxs("button",{onClick:f,disabled:x,className:"flex items-center gap-2 px-5 py-2.5 bg-violet-600 hover:bg-violet-700 text-white rounded-lg text-sm font-medium shadow-md transition-all disabled:opacity-50",children:[x?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsx(wn,{className:"w-4 h-4"}),"Gnrer les slides"]})]})})]})}),N==="script"&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 flex-1 flex flex-col gap-6 pb-10",children:[a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-xl border border-brand-border dark:border-dark-sec-border shadow-md ring-1 ring-amber-500/20 overflow-hidden flex flex-col flex-1 min-h-[500px]",children:[a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg px-4 py-2.5 border-b border-brand-border dark:border-dark-sec-border flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("p",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase flex items-center gap-2",children:[a.jsx(ri,{className:"w-3 h-3"})," Script vido"]}),s.targetFormat&&a.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 border border-amber-200 dark:border-amber-800",children:s.targetFormat}),s.depth&&a.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${Ua[s.depth]||""}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5 inline mr-1"}),s.depth]})]}),a.jsx(ge,{onClick:u,disabled:x,icon:Kn,label:x?"...":"Rgnrer",color:"pink"})]}),a.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto custom-scrollbar",children:s.scriptVideo?Ne(s.scriptVideo):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-4 p-8",children:[a.jsx(ri,{className:"w-10 h-10 text-amber-300 dark:text-amber-700 opacity-60"}),a.jsx("p",{className:"text-sm text-brand-main/50 dark:text-dark-text/50 max-w-xs leading-relaxed",children:U?"Lance la gnration du script depuis tes notes.":"Rponds aux questions de l'interview, puis gnre le script."}),a.jsxs("button",{onClick:u,disabled:x||!U&&!s.interviewAnswers,className:"flex items-center gap-2 px-5 py-2.5 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium shadow-md transition-all disabled:opacity-50",children:[x?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsx(wn,{className:"w-4 h-4"}),"Gnrer le script"]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>p(_e.READY),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl text-base font-bold shadow-lg shadow-green-600/20 transition-all hover:-translate-y-0.5",children:[a.jsx(pr,{className:"w-5 h-5"}),"Marquer comme Prt"]})})]})]})]})},jh=({item:s,onChangeStatus:l})=>{const i=u=>{const f=Zr(u);if(!f)return a.jsx("span",{className:"italic opacity-50",children:"Pas de contenu rdig."});try{const p=u.lastIndexOf("}"),g=p!==-1?u.slice(0,p+1):u;JSON.parse(g)}catch{return a.jsx("span",{className:"whitespace-pre-wrap",children:u})}return a.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:f})};return a.jsx("div",{className:"flex-1 overflow-y-auto bg-brand-light dark:bg-dark-bg p-4 md:p-8 flex justify-center",children:a.jsx("div",{className:"w-full max-w-4xl flex flex-col gap-8",children:a.jsxs("div",{className:"flex-1 bg-white dark:bg-dark-surface shadow-xl border border-brand-border dark:border-dark-sec-border rounded-xl p-6 md:p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-6 border-b border-brand-border dark:border-dark-sec-border pb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cm,{className:"w-5 h-5 text-brand-main/50 dark:text-dark-text/50"}),a.jsx("h3",{className:"text-sm font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-wider",children:"Aperu Publication"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s.status===_e.READY&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>l(_e.DRAFTING),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-brand-main/60 hover:text-brand-main dark:text-dark-text/60 dark:hover:text-white bg-brand-light dark:bg-dark-bg hover:bg-brand-border/50 dark:hover:bg-dark-sec-border/50 rounded-lg transition-colors",children:[a.jsx(Pm,{className:"w-3.5 h-3.5"}),"Retour brouillon"]}),a.jsxs("button",{onClick:()=>l(_e.PUBLISHED),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-green-600 hover:bg-green-700 rounded-lg shadow-sm transition-colors",children:[a.jsx(pr,{className:"w-3.5 h-3.5"}),"Marquer publi"]})]}),s.status===_e.PUBLISHED&&a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/30 px-3 py-1.5 rounded-full border border-green-200 dark:border-green-800",children:[a.jsx(pr,{className:"w-3.5 h-3.5"}),"Publi"]})]})]}),a.jsx("div",{className:"prose dark:prose-invert max-w-none leading-relaxed text-lg",children:s.targetFormat===Pe.SCRIPT_VIDEO_REEL_SHORT||s.targetFormat===Pe.SCRIPT_VIDEO_YOUTUBE?i(s.scriptVideo||s.body):i(s.body)})]})})})},nf=s=>{if(!s)return"";let l=s.replace(/```json\s?/g,"").replace(/```\s?/g,"").trim();l=l.replace(/^json\s*/i,"").trim();const i=l.indexOf("{"),u=l.lastIndexOf("}");return i!==-1&&u!==-1&&u>i&&(l=l.slice(i,u+1)),l},Sh=s=>{const l=nf(s);if(!l)throw new Error("Rponse IA vide ou invalide.");let i;try{i=JSON.parse(l)}catch{throw new Error("La rponse IA n'est pas un JSON valide.")}if(!i||typeof i!="object"||Array.isArray(i))throw new Error("Format de rponse invalide (objet JSON attendu).");const u=i.format,f=["Post Texte","Article","Script Reel","Script Youtube","Carrousel","Prompt Image"];if(!wi(u)&&!f.includes(u))throw new Error(`Format de sortie invalide : "${u}". Vrifie la valeur du champ 'format'.`);return l},Zr=s=>{if(!s)return"";try{const l=s.lastIndexOf("}"),i=l!==-1?s.slice(0,l+1):s,u=JSON.parse(i);if(u.edited_raw)return u.edited_raw;const f=z=>typeof z=="string"?z.trim():"",p=[],g=u.format,x=g===Pe.POST_TEXTE_COURT||g==="Post Texte",N=g===Pe.ARTICLE_LONG_SEO||g==="Article",y=g===Pe.SCRIPT_VIDEO_REEL_SHORT||g==="Script Reel",O=g===Pe.SCRIPT_VIDEO_YOUTUBE||g==="Script Youtube",A=g===Pe.CARROUSEL_SLIDE||g==="Carrousel",$=g===Pe.PROMPT_IMAGE||g==="Prompt Image";if(x)u.hook&&p.push(f(u.hook)),u.corps&&p.push(f(u.corps)),u.baffe&&p.push(f(u.baffe)),u.cta&&p.push(f(u.cta));else if(N)u.titre_h1&&p.push(f(u.titre_h1)),u.introduction&&p.push(f(u.introduction)),(u.sections||[]).forEach(z=>{z.sous_titre_h2&&p.push(f(z.sous_titre_h2)),z.contenu&&p.push(f(z.contenu))}),u.conclusion&&p.push(f(u.conclusion));else if(y)u.hook&&p.push(f(u.hook)),u.corps&&p.push(f(u.corps)),u.cta&&p.push(f(u.cta));else if(O)u.intro&&p.push(f(u.intro)),(u.developpement||[]).forEach(z=>{z.contenu&&p.push(f(z.contenu))}),u.conclusion&&p.push(f(u.conclusion));else if(A)(u.slides||[]).forEach(z=>{z.titre&&p.push(f(z.titre)),z.texte&&p.push(f(z.texte))});else if($)u.prompt&&p.push(f(u.prompt)),u.legende&&p.push(f(u.legende));else return s;return p.filter(Boolean).join(" ")}catch{return s}},Ch=({item:s,contexts:l,aiModels:i=[],onClose:u,onSave:f,onDelete:p,onManageContexts:g,activeStep:x,onStepChange:N})=>{const[y,O]=P.useState(null),[A,$]=P.useState(!1),[z,oe]=P.useState(!1),[ae,re]=P.useState("idle"),[ne,q]=P.useState(!1),se=P.useRef(null),W=Ya.useRef(!0);Ya.useEffect(()=>(W.current=!0,()=>{W.current=!1,se.current&&clearTimeout(se.current)}),[]);const[Ne,xe]=P.useState(!1),[B,U]=P.useState(null),[ye,ve]=P.useState({isOpen:!1,title:"",message:"",type:"info"});P.useEffect(()=>{s&&(!y||s.id!==y.id?(O({...s}),$(!1),xe(!1),x==="idea"&&(s.body&&s.body.trim().length>0?N("content"):s.interviewAnswers&&s.interviewAnswers.length>0&&N("interview"))):O(ee=>ee?{...ee,...s}:s))},[s,x]);const ge=!!y&&!!s&&JSON.stringify(y)!==JSON.stringify(s);if(!y)return null;const D=ee=>{W.current&&(re(ee),se.current&&clearTimeout(se.current),se.current=setTimeout(()=>{W.current&&re("idle")},2500))},C=async ee=>{if(W.current){re("saving"),oe(!0);try{await f(ee),D("saved")}catch(ue){throw D("error"),ue}finally{W.current&&oe(!1)}}},V=async()=>{z||!y||await C(y)},H=async ee=>{if(z||!y)return;const ue={...y,status:ee};O(ue),await C(ue)},le=async()=>{p&&y&&await p(y),u()},he=async(ee,ue,Oe,ft)=>_i(ee,i)?await Ti({model:ee,systemInstruction:ue,prompt:Oe}):await Ei({model:ee,systemInstruction:ue,prompt:Oe,generationConfig:ft}),R=async(ee,ue)=>{xe(!1),B==="interview"?await S(ee,ue):B==="draft"?await L(ee,ue):B==="carrousel"&&await v(ee,ue)},S=async(ee,ue)=>{if(W.current){$(!0);try{const Oe=l.find(Ue=>Ue.id===ee),ft=qa.GENERATE_INTERVIEW,tt=y?.depth||ut.COMPLETE,jt=ft.getSystemInstruction(Oe?.description||"Journaliste.",tt),St={titre:y?.title,notes:y?.notes,angle_strategique:y?.strategicAngle||"",metaphore_suggeree:y?.suggestedMetaphor||"",justification:y?.justification||"",plateformes:y?.platforms,profondeur:tt},Ft=(await he(ue,jt,JSON.stringify(St),ft.generationConfig)).replace(/```json\s?/g,"").replace(/```\s?/g,"").trim();let rt="",xt;try{const Ue=JSON.parse(Ft);Ue.skip===!0?rt=`_${Ue.raison||"Profondeur Direct : interview non ncessaire."}_`:(typeof Ue.draft_zero=="string"&&Ue.draft_zero.trim()&&(xt=Ue.draft_zero.trim()),Array.isArray(Ue.questions)&&Ue.questions.length>0&&(rt=Ue.questions.map((Ge,Sn)=>`**Question ${Sn+1}**
${Ge}`).join(`

`)))}catch{rt=Ft}const pt=Oe?.name||"Contexte par dfaut",$t=`

_Gnr par : ${i.find(Ue=>Ue.apiCode===ue)?.name||(ue===Xt.FAST?"Gemini Flash":ue)} - ${pt} - le ${new Date().toLocaleString("fr-FR")}_`,rr={...y,interviewQuestions:rt+$t,...xt?{body:xt+$t}:{}};W.current&&(O(rr),await C(rr))}catch(Oe){W.current&&ve({isOpen:!0,title:"Erreur IA",message:Oe.message,type:"error"})}finally{W.current&&($(!1),U(null))}}},L=async(ee,ue)=>{if(W.current){$(!0);try{const Oe=l.find(Ge=>Ge.id===ee)||l[0],ft=qa.DRAFT_CONTENT,tt=ft.getSystemInstruction(Oe?.description||"Rdacteur."),jt=y?.depth===ut.DIRECT;let St="";!jt&&y?.body&&((()=>{try{return JSON.parse(y.body)}catch{return null}})()?.format||(St=y.body));const Dt={titre:y?.title||"Non dfini",format_cible:y?.targetFormat||"Non dfini",cible_offre:y?.targetOffer||"Non dfini",angle_strategique:y?.strategicAngle||"Non dfini",metaphore_suggeree:y?.suggestedMetaphor||"Non dfini",profondeur:y?.depth||"Non dfini",notes:y?.notes||""};jt||(St&&(Dt.draft_zero=St),y?.interviewQuestions&&(Dt.questions_interview=y.interviewQuestions),y?.interviewAnswers&&(Dt.reponses_interview=y.interviewAnswers));const Ft=await he(ue,tt,JSON.stringify(Dt),ft.generationConfig),rt=Sh(Ft),xt=Oe?.name||"Contexte par dfaut",Mt=`

_Gnr par : ${i.find(Ge=>Ge.apiCode===ue)?.name||(ue===Xt.FAST?"Gemini Flash":ue)} - ${xt} - le ${new Date().toLocaleString("fr-FR")}_`,$t=y?.targetFormat===Pe.SCRIPT_VIDEO_REEL_SHORT||y?.targetFormat===Pe.SCRIPT_VIDEO_YOUTUBE,rr=$t?{...y,scriptVideo:rt+Mt}:{...y,body:rt+Mt},Ue=$t?"script":"content";W.current&&(O(rr),await C(rr),N(Ue))}catch(Oe){W.current&&ve({isOpen:!0,title:"Erreur Rdaction",message:Oe.message,type:"error"})}finally{W.current&&($(!1),U(null))}}},v=async(ee,ue)=>{if(W.current){$(!0);try{const Oe=l.find(pt=>pt.id===ee)||l[0],ft=qa.GENERATE_CARROUSEL_SLIDES,tt=ft.getSystemInstruction(Oe?.description||"Directeur artistique.",y?.targetOffer||"Non dfini",y?.suggestedMetaphor||"Non dfinie",Zr(y?.body||"")||"Non dfini"),jt=await he(ue,tt,"",ft.generationConfig),St=nf(jt);if(!St)throw new Error("Rponse IA vide ou invalide.");const Dt=Oe?.name||"Contexte par dfaut",rt=`

_Gnr par : ${i.find(pt=>pt.apiCode===ue)?.name||(ue===Xt.FAST?"Gemini Flash":ue)} - ${Dt} - le ${new Date().toLocaleString("fr-FR")}_`,xt={...y,slides:St+rt};W.current&&(O(xt),await C(xt))}catch(Oe){W.current&&ve({isOpen:!0,title:"Erreur Slides",message:Oe.message,type:"error"})}finally{W.current&&($(!1),U(null))}}},E=()=>{U("interview"),xe(!0)},J=()=>{if(!(y?.depth===ut.DIRECT)&&!y?.interviewAnswers){ve({isOpen:!0,title:"Rponses manquantes",message:"Veuillez rpondre aux questions d'interview, ou passer en profondeur Direct.",type:"error"});return}U("draft"),xe(!0)},K=()=>{U("carrousel"),xe(!0)},me=ee=>{switch(ee){case Ie.VALID:return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case Ie.TOO_BLAND:return"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case Ie.NEEDS_WORK:return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-gray-100 text-gray-600 border-gray-200"}},be=()=>ae==="saving"?a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-brand-main/60 dark:text-dark-text/60 animate-pulse",children:[a.jsx(st,{className:"w-3.5 h-3.5 animate-spin"}),"Sauvegarde"]}):ae==="saved"?a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-green-600 dark:text-green-400",children:[a.jsx(pr,{className:"w-3.5 h-3.5"}),"Enregistr"]}):ae==="error"?a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-red-500 dark:text-red-400",children:[a.jsx(ea,{className:"w-3.5 h-3.5"}),"Erreur sauvegarde"]}):null,je=a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 flex-1",children:[y.status===_e.DRAFTING?a.jsx("input",{type:"text",value:y.title,onChange:ee=>O({...y,title:ee.target.value}),className:"text-lg md:text-xl font-bold text-brand-main dark:text-white bg-transparent outline-none w-full md:max-w-2xl",placeholder:"Titre..."}):a.jsx("h2",{className:"text-lg md:text-xl font-bold text-brand-main dark:text-white flex items-center gap-2 truncate",children:a.jsx("span",{className:"truncate",children:y.title})}),a.jsxs("div",{className:"flex items-center gap-3 md:ml-auto",children:[a.jsx(be,{}),y.verdict&&a.jsx("div",{className:`hidden md:block px-3 py-1 rounded-full border text-xs font-bold uppercase tracking-wider ${me(y.verdict)}`,children:y.verdict}),a.jsx("div",{className:`hidden md:block px-3 py-1 rounded-full border text-sm font-medium ${Hc[y.status]}`,children:y.status})]})]}),Se=()=>{const ee=ge&&!z;return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>q(!0),className:"text-red-500 p-2 rounded hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-sm font-medium mr-auto",children:[a.jsx(yi,{className:"w-4 h-4"})," Supprimer"]}),a.jsxs("button",{onClick:V,disabled:!ee,title:ge?void 0:"Aucune modification  enregistrer",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors font-medium text-sm ${ee?"text-brand-main dark:text-dark-text hover:bg-brand-light dark:hover:bg-dark-bg cursor-pointer":"text-brand-main/30 dark:text-dark-text/30 cursor-not-allowed"}`,children:[z?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsx(fo,{className:"w-4 h-4"}),"Enregistrer"]})]})};return a.jsxs(a.Fragment,{children:[a.jsxs(kh,{onClose:u,headerContent:je,footerContent:Se(),children:[y.status===_e.DRAFTING&&a.jsx(Nh,{item:y,onChange:O,onLaunchInterview:E,onLaunchDrafting:J,onLaunchCarrouselSlides:K,onChangeStatus:H,onSave:f,isGenerating:A,activeTab:x,onTabChange:N}),(y.status===_e.READY||y.status===_e.PUBLISHED)&&a.jsx(jh,{item:y,onChangeStatus:H})]}),a.jsx(ef,{isOpen:ye.isOpen,onClose:()=>ve({...ye,isOpen:!1}),title:ye.title,message:ye.message,type:ye.type}),a.jsx(Oi,{isOpen:ne,onClose:()=>q(!1),onConfirm:le,title:"Supprimer ?",message:"Action irrversible (archive Notion).",isDestructive:!0,confirmLabel:"Supprimer"}),a.jsx(rf,{isOpen:Ne,onClose:()=>xe(!1),onConfirm:R,contexts:l,aiModels:i,actionType:B||"draft",onManageContexts:g,dataSummary:(()=>{if(!y)return[];const ee=B;if(ee==="interview"){const ue=["Titre","Notes","Profondeur"];return y.strategicAngle&&ue.push("Angle stratgique"),y.suggestedMetaphor&&ue.push("Mtaphore suggre"),y.justification&&ue.push("Justification"),y.platforms.length>0&&ue.push("Plateformes"),ue}if(ee==="draft"){const ue=y.depth===ut.DIRECT,Oe=["Titre","Format cible","Offre cible","Angle stratgique","Mtaphore suggre","Profondeur","Notes"];return ue||(y.body&&Oe.push("Draft 0"),y.interviewQuestions&&Oe.push("Questions interview"),y.interviewAnswers&&Oe.push("Rponses interview")),Oe}return ee==="carrousel"?["Offre cible","Mtaphore suggre","Contenu rdig"]:[]})()})]})},Eh={[ut.DIRECT]:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800",[ut.LEGERE]:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800",[ut.COMPLETE]:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800"},_h=({item:s,onClose:l,onChange:i,onDelete:u,onTransformToDraft:f,onAnalyze:p,isReanalyzing:g})=>{const[x,N]=P.useState(s),[y,O]=P.useState(!1),[A,$]=P.useState("idle"),[z,oe]=P.useState(!1),ae=P.useRef(!0),re=P.useRef(null);P.useEffect(()=>(ae.current=!0,()=>{ae.current=!1,re.current&&clearTimeout(re.current)}),[]);const ne=JSON.stringify(x)!==JSON.stringify(s);P.useEffect(()=>{N(U=>({...U,title:s.title,analyzed:s.analyzed,verdict:s.verdict,strategicAngle:s.strategicAngle,platforms:s.platforms,targetFormat:s.targetFormat,targetOffer:s.targetOffer,justification:s.justification,suggestedMetaphor:s.suggestedMetaphor,depth:s.depth}))},[s.title,s.analyzed,s.verdict,s.strategicAngle,s.targetFormat,s.targetOffer,s.justification,s.suggestedMetaphor,s.platforms,s.depth]),oa(!0,l,y||g||z);const q=U=>{ae.current&&($(U),re.current&&clearTimeout(re.current),re.current=setTimeout(()=>{ae.current&&$("idle")},2500))},se=async()=>{if(!(y||!ne)){O(!0),$("saving");try{await i(x),q("saved")}catch{q("error")}finally{ae.current&&O(!1)}}},W=async()=>{O(!0);const U={...x,status:_e.DRAFTING};await f(U),O(!1)},Ne=async()=>{await u(x),l()},xe=U=>{switch(U){case Ie.VALID:return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case Ie.TOO_BLAND:return"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case Ie.NEEDS_WORK:return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-gray-100 text-gray-600"}},B=()=>A==="saving"?a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-brand-main/60 dark:text-dark-text/60 animate-pulse",children:[a.jsx(st,{className:"w-3.5 h-3.5 animate-spin"}),"Sauvegarde"]}):A==="saved"?a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-green-600 dark:text-green-400",children:[a.jsx(pr,{className:"w-3.5 h-3.5"}),"Enregistr"]}):A==="error"?a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-red-500 dark:text-red-400",children:[a.jsx(ea,{className:"w-3.5 h-3.5"}),"Erreur sauvegarde"]}):null;return a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-brand-main/20 dark:bg-black/60 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",onClick:l,children:[a.jsxs("div",{className:"bg-white dark:bg-dark-surface w-full max-w-4xl h-[90vh] rounded-2xl shadow-2xl border border-brand-border dark:border-dark-sec-border flex flex-col overflow-hidden",onClick:U=>U.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-brand-border dark:border-dark-sec-border bg-white dark:bg-dark-surface z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 p-2 rounded-xl text-yellow-600 dark:text-yellow-400 flex-shrink-0",children:a.jsx(Nn,{className:"w-5 h-5"})}),a.jsx("input",{type:"text",value:x.title,onChange:U=>N({...x,title:U.target.value}),className:"text-lg md:text-xl font-bold text-brand-main dark:text-white bg-transparent outline-none w-full placeholder-brand-main/30",placeholder:"Titre de l'ide..."})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 ml-3",children:[a.jsx(B,{}),a.jsx("button",{onClick:l,className:"p-2 hover:bg-brand-light dark:hover:bg-dark-sec-bg rounded-full transition-colors text-brand-main dark:text-white",children:a.jsx(aa,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col border border-brand-border dark:border-dark-sec-border rounded-xl overflow-hidden bg-brand-light dark:bg-dark-bg focus-within:ring-2 focus-within:ring-brand-main transition-shadow min-h-[200px]",children:[a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg p-2 flex justify-between items-center border-b border-brand-border dark:border-dark-sec-border",children:[a.jsx("label",{className:"block text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase px-2",children:"Notes & Inspiration"}),a.jsx(mo,{className:"border-none bg-transparent p-0"})]}),a.jsx(Qa,{value:x.notes,onChange:U=>N({...x,notes:U}),className:"w-full flex-1 p-4",placeholder:"Dtaillez votre ide, vos sources, vos inspirations..."}),a.jsx("div",{className:"p-2 flex justify-end border-t border-brand-border/50 dark:border-dark-sec-border/50",children:a.jsx(tf,{current:x.notes.length,max:5e3})})]}),a.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 p-5 rounded-xl border border-purple-100 dark:border-purple-900/30 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-purple-200 dark:border-purple-800/50",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:"text-xs font-bold text-purple-800 dark:text-purple-300 uppercase flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),x.analyzed?"Analyse Stratgique":"Analyser avec l'IA"]}),x.verdict&&a.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border font-bold ${xe(x.verdict)}`,children:x.verdict}),x.depth&&a.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border flex items-center gap-1 ${Eh[x.depth]||""}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5"}),x.depth]})]}),a.jsxs("button",{onClick:p,disabled:g,className:"flex items-center gap-1.5 text-xs px-3 py-1.5 rounded bg-white dark:bg-purple-900/40 hover:bg-purple-100 dark:hover:bg-purple-800 text-purple-700 dark:text-purple-200 transition-colors border border-purple-200 dark:border-purple-700 shadow-sm disabled:opacity-50 flex-shrink-0",children:[a.jsx(Kn,{className:`w-3 h-3 ${g?"animate-spin":""}`}),g?"Analyse en cours...":x.analyzed?"R-analyser":"Lancer l'analyse"]})]}),x.analyzed?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-2",children:[a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx("p",{className:"text-xs font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Angle Recommand"}),a.jsx("div",{className:"text-sm leading-relaxed text-purple-900 dark:text-purple-100 whitespace-pre-wrap",children:x.strategicAngle})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-bold text-purple-900/50 dark:text-purple-100/50 uppercase flex items-center gap-1 mb-2",children:[a.jsx(Fc,{className:"w-3 h-3"})," Plateformes"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.platforms.length>0?x.platforms.map((U,ye)=>a.jsx("span",{className:"px-2 py-1 bg-white dark:bg-purple-800/30 text-purple-800 dark:text-purple-200 rounded-md text-xs font-medium border border-purple-200 dark:border-purple-700",children:U},ye)):a.jsx("span",{className:"text-xs text-purple-800/50 italic",children:"Aucune"})})]}),x.targetFormat&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-bold text-purple-900/50 dark:text-purple-100/50 uppercase flex items-center gap-1 mb-2",children:[a.jsx(wm,{className:"w-3 h-3"})," Format cible"]}),a.jsx("span",{className:"px-2 py-1 font-bold text-xs rounded-md border bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-200 dark:border-purple-700",children:x.targetFormat})]}),(x.targetOffer||x.justification||x.suggestedMetaphor)&&a.jsxs("div",{className:"space-y-3 pt-1",children:[x.targetOffer&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Cible Offre"}),a.jsx("span",{className:"inline-flex mt-1 text-[10px] px-2 py-1 rounded-full border font-bold bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-200 dark:border-purple-700",children:x.targetOffer})]}),x.justification&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Justification"}),a.jsx("div",{className:"text-xs text-purple-900/80 dark:text-purple-100/80 whitespace-pre-wrap",children:x.justification})]}),x.suggestedMetaphor&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Mtaphore Suggre"}),a.jsx("div",{className:"text-xs text-purple-900/80 dark:text-purple-100/80 whitespace-pre-wrap italic",children:x.suggestedMetaphor})]})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-center py-6 text-purple-800/40 dark:text-purple-200/40 text-sm italic",children:`Cliquez sur "Lancer l'analyse" pour obtenir un avis stratgique et des suggestions de plateformes.`}),(x.targetOffer||x.justification||x.suggestedMetaphor)&&a.jsxs("div",{className:"rounded-xl border border-purple-200/60 dark:border-purple-800/50 bg-white/70 dark:bg-purple-900/10 p-4 space-y-3",children:[x.targetOffer&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Cible Offre"}),a.jsx("span",{className:"inline-flex mt-1 text-[10px] px-2 py-1 rounded-full border font-bold bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-200 dark:border-purple-700",children:x.targetOffer})]}),x.justification&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Justification"}),a.jsx("div",{className:"text-xs text-purple-900/80 dark:text-purple-100/80 whitespace-pre-wrap",children:x.justification})]}),x.suggestedMetaphor&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-purple-900/50 dark:text-purple-100/50 uppercase",children:"Mtaphore Suggre"}),a.jsx("div",{className:"text-xs text-purple-900/80 dark:text-purple-100/80 whitespace-pre-wrap italic",children:x.suggestedMetaphor})]})]})]})]})]}),a.jsxs("div",{className:"p-4 px-6 bg-brand-light/50 dark:bg-dark-bg/50 border-t border-brand-border dark:border-dark-sec-border flex justify-between items-center",children:[a.jsx("button",{onClick:()=>oe(!0),className:"text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition-colors",title:"Supprimer l'ide",children:a.jsx(yi,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsxs("button",{onClick:se,disabled:!ne||y,title:ne?void 0:"Aucune modification  enregistrer",className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-colors ${ne&&!y?"text-brand-main dark:text-dark-text hover:bg-brand-border/50 dark:hover:bg-dark-sec-border/50 cursor-pointer":"text-brand-main/30 dark:text-dark-text/30 cursor-not-allowed"}`,children:[y?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsx(fo,{className:"w-4 h-4"}),"Enregistrer"]}),a.jsx("button",{onClick:W,disabled:y,className:"flex items-center gap-2 px-6 py-2 bg-brand-main hover:bg-brand-hover text-white rounded-lg font-bold shadow-lg shadow-brand-main/20 transition-all disabled:opacity-50",children:y?a.jsx(st,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:["Travailler cette ide ",a.jsx(Nm,{className:"w-4 h-4"})]})})]})]})]}),a.jsx(Oi,{isOpen:z,onClose:()=>oe(!1),onConfirm:Ne,title:"Supprimer cette ide ?",message:"Elle sera archive dans Notion.",isDestructive:!0})]})},Th=({isOpen:s,onClose:l,itemsToAnalyze:i,contexts:u,aiModels:f,selectedContextId:p,selectedModelId:g,onAnalysisComplete:x})=>{const[N,y]=P.useState(!1),[O,A]=P.useState(""),[$,z]=P.useState(null),oe=P.useRef(!0);if(P.useEffect(()=>(oe.current=!0,()=>{oe.current=!1}),[]),oa(s,l,N),!s)return null;const ae=u.find(q=>q.id===p)?.name||"Contexte par dfaut",re=f.find(q=>q.apiCode===g)?.name||g,ne=async()=>{if(oe.current){y(!0),z(null),A("Prparation des donnes...");try{const q=qa.ANALYZE_BATCH,se=u.find(ge=>ge.id===p),W=se?se.description:"Analyse marketing standard.",Ne=q.getSystemInstruction(W),xe=i.map(ge=>({id:ge.id,titre:ge.title,notes:ge.notes}));oe.current&&A(`Interrogation de l'IA (${re})...`);let B="";_i(g,f)?B=await Ti({model:g,systemInstruction:Ne,prompt:JSON.stringify(xe)}):B=await Ei({model:g,systemInstruction:Ne,prompt:JSON.stringify(xe),generationConfig:q.generationConfig}),oe.current&&A("Traitement des rponses...");let U=[];try{const ge=B.replace(/```json\s?/g,"").replace(/```\s?/g,"").trim();U=JSON.parse(ge)}catch{throw console.error("Erreur parsing JSON IA:",B),new Error("L'IA a renvoy un format invalide.")}oe.current&&A(`Mise  jour de Notion (0/${U.length})...`);const ye=`

_Gnr par : ${re} - ${ae} - le ${new Date().toLocaleString("fr-FR")}_`;let ve=0;for(let ge=0;ge<U.length;ge++){const D=U[ge],C=D.id?i.find(V=>V.id===D.id):i[ge];if(C){const H=(Array.isArray(D.plateformes)?D.plateformes:[]).map(be=>be).filter(be=>Object.values(ki).includes(be)),le=D.format_cible??D.format_suggere,he=wi(le)?le:void 0,R=Ni(D.cible_offre)?D.cible_offre:void 0,S=typeof D.justification=="string"?D.justification:void 0,L=typeof D.metaphore_suggeree=="string"?D.metaphore_suggeree:void 0,v=typeof D.titre=="string"?D.titre:void 0,E=ji(D.profondeur)?D.profondeur:void 0,J=D.angle_strategique??D.angle??"",K=v?`**Titre suggr :** ${v}

${J}`:J,me={...C,verdict:D.verdict,strategicAngle:K+ye,platforms:H.length>0?H:C.platforms,targetFormat:he,targetOffer:R||C.targetOffer,justification:S??C.justification,suggestedMetaphor:L??C.suggestedMetaphor,depth:E??C.depth,analyzed:!0};await Jc(me),ve++,oe.current&&A(`Mise  jour de Notion (${ve}/${U.length})...`)}}if(ve===0)throw new Error(`Aucune ide n'a pu tre mise  jour. L'IA a renvoy ${U.length} rsultats mais aucun n'a pu tre associ aux ides d'origine.`);oe.current&&(A(`Termin ! ${ve}/${U.length} ides mises  jour.`),x(),l())}catch(q){console.error(q),oe.current&&z(q.message||"Une erreur est survenue pendant l'analyse.")}finally{oe.current&&y(!1)}}};return a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-brand-main/20 dark:bg-black/50 backdrop-blur-sm p-4 animate-fade-in",onClick:N?void 0:l,children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface w-full max-w-lg rounded-xl shadow-2xl border border-brand-border dark:border-dark-sec-border flex flex-col overflow-hidden",onClick:q=>q.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b border-brand-border dark:border-dark-sec-border bg-brand-light/30 dark:bg-dark-bg/30 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-2 rounded-lg text-purple-600 dark:text-purple-300",children:a.jsx(Nn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-brand-main dark:text-white",children:"Analyse IA en lot"}),a.jsx("p",{className:"text-xs text-brand-main/60 dark:text-dark-text/60",children:"Optimisez vos ides automatiquement"})]})]}),!N&&a.jsx("button",{onClick:l,className:"text-brand-main/50 hover:text-brand-main dark:text-dark-text/50 dark:hover:text-white transition-colors",children:a.jsx(aa,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 space-y-6",children:N?a.jsxs("div",{className:"py-8 flex flex-col items-center justify-center text-center",children:[a.jsx(st,{className:"w-12 h-12 text-brand-main dark:text-brand-light animate-spin mb-4"}),a.jsx("h4",{className:"text-lg font-semibold text-brand-main dark:text-white mb-2",children:"Analyse en cours..."}),a.jsx("p",{className:"text-brand-main/60 dark:text-dark-text/60 text-sm animate-pulse",children:O})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-brand-light dark:bg-dark-bg p-4 rounded-lg border border-brand-border dark:border-dark-sec-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-brand-main dark:text-white",children:"Ides  analyser"}),a.jsx("span",{className:"bg-brand-main text-white text-xs px-2 py-0.5 rounded-full font-bold",children:i.length})]}),a.jsx("p",{className:"text-xs text-brand-main/60 dark:text-dark-text/60",children:"Ces ides seront envoyes  l'IA pour valuation, suggestion d'angle stratgique et choix des plateformes."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-white dark:bg-dark-surface border border-brand-border dark:border-dark-sec-border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1 text-brand-main/50 dark:text-dark-text/50 text-[10px] uppercase font-bold",children:[a.jsx(Uc,{className:"w-3 h-3"})," Persona"]}),a.jsx("div",{className:"text-sm font-semibold text-brand-main dark:text-white truncate",title:ae,children:ae})]}),a.jsxs("div",{className:"p-3 bg-white dark:bg-dark-surface border border-brand-border dark:border-dark-sec-border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1 text-brand-main/50 dark:text-dark-text/50 text-[10px] uppercase font-bold",children:[a.jsx(lo,{className:"w-3 h-3"})," Modle"]}),a.jsx("div",{className:"text-sm font-semibold text-brand-main dark:text-white truncate",title:re,children:re})]})]}),$&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[a.jsx(ea,{className:"w-4 h-4 flex-shrink-0"}),$]})]})}),!N&&a.jsxs("div",{className:"p-6 border-t border-brand-border dark:border-dark-sec-border flex justify-end gap-3 bg-brand-light/30 dark:bg-dark-bg/30",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-sm font-medium text-brand-main dark:text-dark-text hover:bg-brand-border/50 dark:hover:bg-dark-sec-border/50 rounded-lg transition-colors",children:"Annuler"}),a.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-6 py-2 bg-brand-main hover:bg-brand-hover dark:bg-brand-light dark:text-brand-hover dark:hover:bg-white text-white rounded-lg font-medium shadow-lg shadow-brand-main/20 dark:shadow-none transition-all hover:-translate-y-0.5",children:[a.jsx(wn,{className:"w-4 h-4"}),"Confirmer & Lancer"]})]})]})})},af=6048e5,Oh=864e5,sf=6e4,of=36e5,_c=Symbol.for("constructDateFrom");function mr(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&_c in s?s[_c](l):s instanceof Date?new s.constructor(l):new Date(l)}function ct(s,l){return mr(l||s,s)}let Dh={};function ho(){return Dh}function na(s,l){const i=ho(),u=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=ct(s,l?.in),p=f.getDay(),g=(p<u?7:0)+p-u;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function uo(s,l){return na(s,{...l,weekStartsOn:1})}function lf(s,l){const i=ct(s,l?.in),u=i.getFullYear(),f=mr(i,0);f.setFullYear(u+1,0,4),f.setHours(0,0,0,0);const p=uo(f),g=mr(i,0);g.setFullYear(u,0,4),g.setHours(0,0,0,0);const x=uo(g);return i.getTime()>=p.getTime()?u+1:i.getTime()>=x.getTime()?u:u-1}function Tc(s){const l=ct(s),i=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return i.setUTCFullYear(l.getFullYear()),+s-+i}function xo(s,...l){const i=mr.bind(null,l.find(u=>typeof u=="object"));return l.map(i)}function co(s,l){const i=ct(s,l?.in);return i.setHours(0,0,0,0),i}function Mh(s,l,i){const[u,f]=xo(i?.in,s,l),p=co(u),g=co(f),x=+p-Tc(p),N=+g-Tc(g);return Math.round((x-N)/Oh)}function Ih(s,l){const i=lf(s,l),u=mr(s,0);return u.setFullYear(i,0,4),u.setHours(0,0,0,0),uo(u)}function Oc(s,l,i){const[u,f]=xo(i?.in,s,l);return+co(u)==+co(f)}function Ph(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Ah(s){return!(!Ph(s)&&typeof s!="number"||isNaN(+ct(s)))}function Rh(s,l){const i=ct(s,l?.in),u=i.getMonth();return i.setFullYear(i.getFullYear(),u+1,0),i.setHours(23,59,59,999),i}function Lh(s,l){const[i,u]=xo(s,l.start,l.end);return{start:i,end:u}}function zh(s,l){const{start:i,end:u}=Lh(l?.in,s);let f=+i>+u;const p=f?+i:+u,g=f?u:i;g.setHours(0,0,0,0);let x=1;const N=[];for(;+g<=p;)N.push(mr(i,g)),g.setDate(g.getDate()+x),g.setHours(0,0,0,0);return f?N.reverse():N}function Fh(s,l){const i=ct(s,l?.in);return i.setDate(1),i.setHours(0,0,0,0),i}function $h(s,l){const i=ct(s,l?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}function Bh(s,l){const i=l?.weekStartsOn,u=ct(s,l?.in),f=u.getDay(),p=(f<i?-7:0)+6-(f-i);return u.setDate(u.getDate()+p),u.setHours(23,59,59,999),u}const Vh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uh=(s,l,i)=>{let u;const f=Vh[s];return typeof f=="string"?u=f:l===1?u=f.one:u=f.other.replace("{{count}}",l.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+u:u+" ago":u};function Zn(s){return(l={})=>{const i=l.width?String(l.width):s.defaultWidth;return s.formats[i]||s.formats[s.defaultWidth]}}const Wh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yh={date:Zn({formats:Wh,defaultWidth:"full"}),time:Zn({formats:Hh,defaultWidth:"full"}),dateTime:Zn({formats:qh,defaultWidth:"full"})},Qh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jh=(s,l,i,u)=>Qh[s];function cr(s){return(l,i)=>{const u=i?.context?String(i.context):"standalone";let f;if(u==="formatting"&&s.formattingValues){const g=s.defaultFormattingWidth||s.defaultWidth,x=i?.width?String(i.width):g;f=s.formattingValues[x]||s.formattingValues[g]}else{const g=s.defaultWidth,x=i?.width?String(i.width):s.defaultWidth;f=s.values[x]||s.values[g]}const p=s.argumentCallback?s.argumentCallback(l):l;return f[p]}}const Gh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rx=(s,l)=>{const i=Number(s),u=i%100;if(u>20||u<10)switch(u%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},nx={ordinalNumber:rx,era:cr({values:Gh,defaultWidth:"wide"}),quarter:cr({values:Xh,defaultWidth:"wide",argumentCallback:s=>s-1}),month:cr({values:Kh,defaultWidth:"wide"}),day:cr({values:Zh,defaultWidth:"wide"}),dayPeriod:cr({values:ex,defaultWidth:"wide",formattingValues:tx,defaultFormattingWidth:"wide"})};function fr(s){return(l,i={})=>{const u=i.width,f=u&&s.matchPatterns[u]||s.matchPatterns[s.defaultMatchWidth],p=l.match(f);if(!p)return null;const g=p[0],x=u&&s.parsePatterns[u]||s.parsePatterns[s.defaultParseWidth],N=Array.isArray(x)?sx(x,A=>A.test(g)):ax(x,A=>A.test(g));let y;y=s.valueCallback?s.valueCallback(N):N,y=i.valueCallback?i.valueCallback(y):y;const O=l.slice(g.length);return{value:y,rest:O}}}function ax(s,l){for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i)&&l(s[i]))return i}function sx(s,l){for(let i=0;i<s.length;i++)if(l(s[i]))return i}function df(s){return(l,i={})=>{const u=l.match(s.matchPattern);if(!u)return null;const f=u[0],p=l.match(s.parsePattern);if(!p)return null;let g=s.valueCallback?s.valueCallback(p[0]):p[0];g=i.valueCallback?i.valueCallback(g):g;const x=l.slice(f.length);return{value:g,rest:x}}}const ox=/^(\d+)(th|st|nd|rd)?/i,lx=/\d+/i,ix={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dx={any:[/^b/i,/^(a|c)/i]},ux={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cx={any:[/1/i,/2/i,/3/i,/4/i]},fx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},px={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bx={ordinalNumber:df({matchPattern:ox,parsePattern:lx,valueCallback:s=>parseInt(s,10)}),era:fr({matchPatterns:ix,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any"}),quarter:fr({matchPatterns:ux,defaultMatchWidth:"wide",parsePatterns:cx,defaultParseWidth:"any",valueCallback:s=>s+1}),month:fr({matchPatterns:fx,defaultMatchWidth:"wide",parsePatterns:px,defaultParseWidth:"any"}),day:fr({matchPatterns:mx,defaultMatchWidth:"wide",parsePatterns:hx,defaultParseWidth:"any"}),dayPeriod:fr({matchPatterns:xx,defaultMatchWidth:"any",parsePatterns:gx,defaultParseWidth:"any"})},vx={code:"en-US",formatDistance:Uh,formatLong:Yh,formatRelative:Jh,localize:nx,match:bx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yx(s,l){const i=ct(s,l?.in);return Mh(i,$h(i))+1}function kx(s,l){const i=ct(s,l?.in),u=+uo(i)-+Ih(i);return Math.round(u/af)+1}function uf(s,l){const i=ct(s,l?.in),u=i.getFullYear(),f=ho(),p=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,g=mr(l?.in||s,0);g.setFullYear(u+1,0,p),g.setHours(0,0,0,0);const x=na(g,l),N=mr(l?.in||s,0);N.setFullYear(u,0,p),N.setHours(0,0,0,0);const y=na(N,l);return+i>=+x?u+1:+i>=+y?u:u-1}function wx(s,l){const i=ho(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,f=uf(s,l),p=mr(l?.in||s,0);return p.setFullYear(f,0,u),p.setHours(0,0,0,0),na(p,l)}function Nx(s,l){const i=ct(s,l?.in),u=+na(i,l)-+wx(i,l);return Math.round(u/af)+1}function Me(s,l){const i=s<0?"-":"",u=Math.abs(s).toString().padStart(l,"0");return i+u}const Xr={y(s,l){const i=s.getFullYear(),u=i>0?i:1-i;return Me(l==="yy"?u%100:u,l.length)},M(s,l){const i=s.getMonth();return l==="M"?String(i+1):Me(i+1,2)},d(s,l){return Me(s.getDate(),l.length)},a(s,l){const i=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(s,l){return Me(s.getHours()%12||12,l.length)},H(s,l){return Me(s.getHours(),l.length)},m(s,l){return Me(s.getMinutes(),l.length)},s(s,l){return Me(s.getSeconds(),l.length)},S(s,l){const i=l.length,u=s.getMilliseconds(),f=Math.trunc(u*Math.pow(10,i-3));return Me(f,l.length)}},Xn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dc={G:function(s,l,i){const u=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return i.era(u,{width:"abbreviated"});case"GGGGG":return i.era(u,{width:"narrow"});default:return i.era(u,{width:"wide"})}},y:function(s,l,i){if(l==="yo"){const u=s.getFullYear(),f=u>0?u:1-u;return i.ordinalNumber(f,{unit:"year"})}return Xr.y(s,l)},Y:function(s,l,i,u){const f=uf(s,u),p=f>0?f:1-f;if(l==="YY"){const g=p%100;return Me(g,2)}return l==="Yo"?i.ordinalNumber(p,{unit:"year"}):Me(p,l.length)},R:function(s,l){const i=lf(s);return Me(i,l.length)},u:function(s,l){const i=s.getFullYear();return Me(i,l.length)},Q:function(s,l,i){const u=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(u);case"QQ":return Me(u,2);case"Qo":return i.ordinalNumber(u,{unit:"quarter"});case"QQQ":return i.quarter(u,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(u,{width:"narrow",context:"formatting"});default:return i.quarter(u,{width:"wide",context:"formatting"})}},q:function(s,l,i){const u=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(u);case"qq":return Me(u,2);case"qo":return i.ordinalNumber(u,{unit:"quarter"});case"qqq":return i.quarter(u,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(u,{width:"narrow",context:"standalone"});default:return i.quarter(u,{width:"wide",context:"standalone"})}},M:function(s,l,i){const u=s.getMonth();switch(l){case"M":case"MM":return Xr.M(s,l);case"Mo":return i.ordinalNumber(u+1,{unit:"month"});case"MMM":return i.month(u,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(u,{width:"narrow",context:"formatting"});default:return i.month(u,{width:"wide",context:"formatting"})}},L:function(s,l,i){const u=s.getMonth();switch(l){case"L":return String(u+1);case"LL":return Me(u+1,2);case"Lo":return i.ordinalNumber(u+1,{unit:"month"});case"LLL":return i.month(u,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(u,{width:"narrow",context:"standalone"});default:return i.month(u,{width:"wide",context:"standalone"})}},w:function(s,l,i,u){const f=Nx(s,u);return l==="wo"?i.ordinalNumber(f,{unit:"week"}):Me(f,l.length)},I:function(s,l,i){const u=kx(s);return l==="Io"?i.ordinalNumber(u,{unit:"week"}):Me(u,l.length)},d:function(s,l,i){return l==="do"?i.ordinalNumber(s.getDate(),{unit:"date"}):Xr.d(s,l)},D:function(s,l,i){const u=yx(s);return l==="Do"?i.ordinalNumber(u,{unit:"dayOfYear"}):Me(u,l.length)},E:function(s,l,i){const u=s.getDay();switch(l){case"E":case"EE":case"EEE":return i.day(u,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(u,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(u,{width:"short",context:"formatting"});default:return i.day(u,{width:"wide",context:"formatting"})}},e:function(s,l,i,u){const f=s.getDay(),p=(f-u.weekStartsOn+8)%7||7;switch(l){case"e":return String(p);case"ee":return Me(p,2);case"eo":return i.ordinalNumber(p,{unit:"day"});case"eee":return i.day(f,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(f,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(f,{width:"short",context:"formatting"});default:return i.day(f,{width:"wide",context:"formatting"})}},c:function(s,l,i,u){const f=s.getDay(),p=(f-u.weekStartsOn+8)%7||7;switch(l){case"c":return String(p);case"cc":return Me(p,l.length);case"co":return i.ordinalNumber(p,{unit:"day"});case"ccc":return i.day(f,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(f,{width:"narrow",context:"standalone"});case"cccccc":return i.day(f,{width:"short",context:"standalone"});default:return i.day(f,{width:"wide",context:"standalone"})}},i:function(s,l,i){const u=s.getDay(),f=u===0?7:u;switch(l){case"i":return String(f);case"ii":return Me(f,l.length);case"io":return i.ordinalNumber(f,{unit:"day"});case"iii":return i.day(u,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(u,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(u,{width:"short",context:"formatting"});default:return i.day(u,{width:"wide",context:"formatting"})}},a:function(s,l,i){const f=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return i.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(f,{width:"narrow",context:"formatting"});default:return i.dayPeriod(f,{width:"wide",context:"formatting"})}},b:function(s,l,i){const u=s.getHours();let f;switch(u===12?f=Xn.noon:u===0?f=Xn.midnight:f=u/12>=1?"pm":"am",l){case"b":case"bb":return i.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(f,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(f,{width:"narrow",context:"formatting"});default:return i.dayPeriod(f,{width:"wide",context:"formatting"})}},B:function(s,l,i){const u=s.getHours();let f;switch(u>=17?f=Xn.evening:u>=12?f=Xn.afternoon:u>=4?f=Xn.morning:f=Xn.night,l){case"B":case"BB":case"BBB":return i.dayPeriod(f,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(f,{width:"narrow",context:"formatting"});default:return i.dayPeriod(f,{width:"wide",context:"formatting"})}},h:function(s,l,i){if(l==="ho"){let u=s.getHours()%12;return u===0&&(u=12),i.ordinalNumber(u,{unit:"hour"})}return Xr.h(s,l)},H:function(s,l,i){return l==="Ho"?i.ordinalNumber(s.getHours(),{unit:"hour"}):Xr.H(s,l)},K:function(s,l,i){const u=s.getHours()%12;return l==="Ko"?i.ordinalNumber(u,{unit:"hour"}):Me(u,l.length)},k:function(s,l,i){let u=s.getHours();return u===0&&(u=24),l==="ko"?i.ordinalNumber(u,{unit:"hour"}):Me(u,l.length)},m:function(s,l,i){return l==="mo"?i.ordinalNumber(s.getMinutes(),{unit:"minute"}):Xr.m(s,l)},s:function(s,l,i){return l==="so"?i.ordinalNumber(s.getSeconds(),{unit:"second"}):Xr.s(s,l)},S:function(s,l){return Xr.S(s,l)},X:function(s,l,i){const u=s.getTimezoneOffset();if(u===0)return"Z";switch(l){case"X":return Ic(u);case"XXXX":case"XX":return kn(u);default:return kn(u,":")}},x:function(s,l,i){const u=s.getTimezoneOffset();switch(l){case"x":return Ic(u);case"xxxx":case"xx":return kn(u);default:return kn(u,":")}},O:function(s,l,i){const u=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+Mc(u,":");default:return"GMT"+kn(u,":")}},z:function(s,l,i){const u=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+Mc(u,":");default:return"GMT"+kn(u,":")}},t:function(s,l,i){const u=Math.trunc(+s/1e3);return Me(u,l.length)},T:function(s,l,i){return Me(+s,l.length)}};function Mc(s,l=""){const i=s>0?"-":"+",u=Math.abs(s),f=Math.trunc(u/60),p=u%60;return p===0?i+String(f):i+String(f)+l+Me(p,2)}function Ic(s,l){return s%60===0?(s>0?"-":"+")+Me(Math.abs(s)/60,2):kn(s,l)}function kn(s,l=""){const i=s>0?"-":"+",u=Math.abs(s),f=Me(Math.trunc(u/60),2),p=Me(u%60,2);return i+f+l+p}const Pc=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},cf=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},jx=(s,l)=>{const i=s.match(/(P+)(p+)?/)||[],u=i[1],f=i[2];if(!f)return Pc(s,l);let p;switch(u){case"P":p=l.dateTime({width:"short"});break;case"PP":p=l.dateTime({width:"medium"});break;case"PPP":p=l.dateTime({width:"long"});break;default:p=l.dateTime({width:"full"});break}return p.replace("{{date}}",Pc(u,l)).replace("{{time}}",cf(f,l))},Sx={p:cf,P:jx},Cx=/^D+$/,Ex=/^Y+$/,_x=["D","DD","YY","YYYY"];function Tx(s){return Cx.test(s)}function Ox(s){return Ex.test(s)}function Dx(s,l,i){const u=Mx(s,l,i);if(console.warn(u),_x.includes(s))throw new RangeError(u)}function Mx(s,l,i){const u=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${u} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ix=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Px=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ax=/^'([^]*?)'?$/,Rx=/''/g,Lx=/[a-zA-Z]/;function bi(s,l,i){const u=ho(),f=i?.locale??u.locale??vx,p=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,g=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,x=ct(s,i?.in);if(!Ah(x))throw new RangeError("Invalid time value");let N=l.match(Px).map(O=>{const A=O[0];if(A==="p"||A==="P"){const $=Sx[A];return $(O,f.formatLong)}return O}).join("").match(Ix).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const A=O[0];if(A==="'")return{isToken:!1,value:zx(O)};if(Dc[A])return{isToken:!0,value:O};if(A.match(Lx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:O}});f.localize.preprocessor&&(N=f.localize.preprocessor(x,N));const y={firstWeekContainsDate:p,weekStartsOn:g,locale:f};return N.map(O=>{if(!O.isToken)return O.value;const A=O.value;(!i?.useAdditionalWeekYearTokens&&Ox(A)||!i?.useAdditionalDayOfYearTokens&&Tx(A))&&Dx(A,l,String(s));const $=Dc[A[0]];return $(x,A,f.localize,y)}).join("")}function zx(s){const l=s.match(Ax);return l?l[1].replace(Rx,"'"):s}function Fx(s,l,i){const[u,f]=xo(i?.in,s,l);return u.getFullYear()===f.getFullYear()&&u.getMonth()===f.getMonth()}function ff(s,l){const i=()=>mr(l?.in,NaN),f=Ux(s);let p;if(f.date){const y=Wx(f.date,2);p=Hx(y.restDateString,y.year)}if(!p||isNaN(+p))return i();const g=+p;let x=0,N;if(f.time&&(x=qx(f.time),isNaN(x)))return i();if(f.timezone){if(N=Yx(f.timezone),isNaN(N))return i()}else{const y=new Date(g+x),O=ct(0,l?.in);return O.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),O.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),O}return ct(g+x+N,l?.in)}const so={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$x=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Vx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ux(s){const l={},i=s.split(so.dateTimeDelimiter);let u;if(i.length>2)return l;if(/:/.test(i[0])?u=i[0]:(l.date=i[0],u=i[1],so.timeZoneDelimiter.test(l.date)&&(l.date=s.split(so.timeZoneDelimiter)[0],u=s.substr(l.date.length,s.length))),u){const f=so.timezone.exec(u);f?(l.time=u.replace(f[1],""),l.timezone=f[1]):l.time=u}return l}function Wx(s,l){const i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),u=s.match(i);if(!u)return{year:NaN,restDateString:""};const f=u[1]?parseInt(u[1]):null,p=u[2]?parseInt(u[2]):null;return{year:p===null?f:p*100,restDateString:s.slice((u[1]||u[2]).length)}}function Hx(s,l){if(l===null)return new Date(NaN);const i=s.match($x);if(!i)return new Date(NaN);const u=!!i[4],f=Wa(i[1]),p=Wa(i[2])-1,g=Wa(i[3]),x=Wa(i[4]),N=Wa(i[5])-1;if(u)return Kx(l,x,N)?Qx(l,x,N):new Date(NaN);{const y=new Date(0);return!Gx(l,p,g)||!Xx(l,f)?new Date(NaN):(y.setUTCFullYear(l,p,Math.max(f,g)),y)}}function Wa(s){return s?parseInt(s):1}function qx(s){const l=s.match(Bx);if(!l)return NaN;const i=ui(l[1]),u=ui(l[2]),f=ui(l[3]);return Zx(i,u,f)?i*of+u*sf+f*1e3:NaN}function ui(s){return s&&parseFloat(s.replace(",","."))||0}function Yx(s){if(s==="Z")return 0;const l=s.match(Vx);if(!l)return 0;const i=l[1]==="+"?-1:1,u=parseInt(l[2]),f=l[3]&&parseInt(l[3])||0;return e0(u,f)?i*(u*of+f*sf):NaN}function Qx(s,l,i){const u=new Date(0);u.setUTCFullYear(s,0,4);const f=u.getUTCDay()||7,p=(l-1)*7+i+1-f;return u.setUTCDate(u.getUTCDate()+p),u}const Jx=[31,null,31,30,31,30,31,31,30,31,30,31];function pf(s){return s%400===0||s%4===0&&s%100!==0}function Gx(s,l,i){return l>=0&&l<=11&&i>=1&&i<=(Jx[l]||(pf(s)?29:28))}function Xx(s,l){return l>=1&&l<=(pf(s)?366:365)}function Kx(s,l,i){return l>=1&&l<=53&&i>=0&&i<=6}function Zx(s,l,i){return s===24?l===0&&i===0:i>=0&&i<60&&l>=0&&l<60&&s>=0&&s<25}function e0(s,l){return l>=0&&l<=59}const t0={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},r0=(s,l,i)=>{let u;const f=t0[s];return typeof f=="string"?u=f:l===1?u=f.one:u=f.other.replace("{{count}}",String(l)),i?.addSuffix?i.comparison&&i.comparison>0?"dans "+u:"il y a "+u:u},n0={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},a0={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},s0={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o0={date:Zn({formats:n0,defaultWidth:"full"}),time:Zn({formats:a0,defaultWidth:"full"}),dateTime:Zn({formats:s0,defaultWidth:"full"})},l0={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},i0=(s,l,i,u)=>l0[s],d0={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},u0={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},c0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},f0={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},p0={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},m0=(s,l)=>{const i=Number(s),u=l?.unit;if(i===0)return"0";const f=["year","week","hour","minute","second"];let p;return i===1?p=u&&f.includes(u)?"re":"er":p="me",i+p},h0=["MMM","MMMM"],x0={preprocessor:(s,l)=>s.getDate()===1||!l.some(u=>u.isToken&&h0.includes(u.value))?l:l.map(u=>u.isToken&&u.value==="do"?{isToken:!0,value:"d"}:u),ordinalNumber:m0,era:cr({values:d0,defaultWidth:"wide"}),quarter:cr({values:u0,defaultWidth:"wide",argumentCallback:s=>s-1}),month:cr({values:c0,defaultWidth:"wide"}),day:cr({values:f0,defaultWidth:"wide"}),dayPeriod:cr({values:p0,defaultWidth:"wide"})},g0=/^(\d+)(ime|re|me|er|e)?/i,b0=/\d+/i,v0={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},y0={any:[/^av/i,/^ap/i]},k0={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},w0={any:[/1/i,/2/i,/3/i,/4/i]},N0={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},j0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},S0={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},C0={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},E0={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},_0={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},T0={ordinalNumber:df({matchPattern:g0,parsePattern:b0,valueCallback:s=>parseInt(s)}),era:fr({matchPatterns:v0,defaultMatchWidth:"wide",parsePatterns:y0,defaultParseWidth:"any"}),quarter:fr({matchPatterns:k0,defaultMatchWidth:"wide",parsePatterns:w0,defaultParseWidth:"any",valueCallback:s=>s+1}),month:fr({matchPatterns:N0,defaultMatchWidth:"wide",parsePatterns:j0,defaultParseWidth:"any"}),day:fr({matchPatterns:S0,defaultMatchWidth:"wide",parsePatterns:C0,defaultParseWidth:"any"}),dayPeriod:fr({matchPatterns:E0,defaultMatchWidth:"any",parsePatterns:_0,defaultParseWidth:"any"})},mf={code:"fr",formatDistance:r0,formatLong:o0,formatRelative:i0,localize:x0,match:T0,options:{weekStartsOn:1,firstWeekContainsDate:4}},O0=({items:s,onItemClick:l})=>{const i=new Date,[u,f]=Ya.useState(i),p=Fh(u),g=Rh(p),x=na(p,{weekStartsOn:1}),N=Bh(g,{weekStartsOn:1}),y="d",O=zh({start:x,end:N}),A=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],$=z=>s.filter(oe=>oe.scheduledDate?Oc(ff(oe.scheduledDate),z):!1);return a.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-dark-surface rounded-xl shadow-sm border border-brand-border dark:border-dark-sec-border transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-brand-border dark:border-dark-sec-border flex-shrink-0",children:[a.jsx("h2",{className:"text-lg font-bold text-brand-main dark:text-white capitalize",children:bi(u,"MMMM yyyy",{locale:mf})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>f(z=>new Date(z.getFullYear(),z.getMonth()-1,1)),className:"p-1 px-3 bg-brand-light dark:bg-dark-bg hover:bg-brand-border dark:hover:bg-dark-sec-border rounded-md text-sm font-medium text-brand-main dark:text-dark-text transition-colors",children:""}),a.jsx("button",{onClick:()=>f(i),className:"p-1 px-3 bg-brand-light dark:bg-dark-bg text-brand-main dark:text-white hover:bg-brand-border dark:hover:bg-dark-sec-border rounded-md text-sm font-medium transition-colors",children:"Aujourd'hui"}),a.jsx("button",{onClick:()=>f(z=>new Date(z.getFullYear(),z.getMonth()+1,1)),className:"p-1 px-3 bg-brand-light dark:bg-dark-bg hover:bg-brand-border dark:hover:bg-dark-sec-border rounded-md text-sm font-medium text-brand-main dark:text-dark-text transition-colors",children:""})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("div",{className:"min-w-[800px] h-full flex flex-col",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-brand-border dark:border-dark-sec-border bg-brand-light dark:bg-dark-bg",children:A.map(z=>a.jsx("div",{className:"py-2 text-center text-xs font-semibold text-brand-main/60 dark:text-dark-text/60 uppercase tracking-wide",children:z},z))}),a.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 lg:grid-rows-6",children:O.map((z,oe)=>{const ae=$(z),re=Fx(z,p),ne=Oc(z,i);return a.jsxs("div",{className:`
                        min-h-[100px] border-b border-r border-brand-border dark:border-dark-sec-border p-2 relative transition-colors
                        ${re?"bg-white dark:bg-dark-surface":"bg-brand-light/50 dark:bg-dark-bg/50 text-brand-main/30 dark:text-dark-text/30"}
                        ${ne?"bg-brand-light dark:bg-dark-sec-bg":""}
                      `,children:[a.jsx("div",{className:`
                        text-xs font-medium mb-1 w-6 h-6 flex items-center justify-center rounded-full transition-colors
                        ${ne?"bg-brand-main text-white dark:bg-brand-light dark:text-brand-hover":"text-brand-main dark:text-dark-text"}
                      `,children:bi(z,y)}),a.jsx("div",{className:"space-y-1 overflow-y-auto max-h-[80px] custom-scrollbar",children:ae.map(q=>a.jsx("div",{onClick:()=>l(q),className:`
                                    text-[10px] p-1 rounded border truncate cursor-pointer hover:opacity-80 transition-colors
                                    ${Hc[q.status]}
                                `,title:q.title,children:q.title},q.id))})]},z.toString())})})]})})]})},D0=({onLoginSuccess:s})=>{const[l,i]=P.useState(""),[u,f]=P.useState(""),[p,g]=P.useState(""),[x,N]=P.useState(!1),y=async O=>{O.preventDefault(),g(""),N(!0);const A=await Wm(l,u);N(!1),A?s():(g("Identifiants incorrects"),f(""))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-light dark:bg-dark-bg",children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface p-8 rounded-xl shadow-lg border border-brand-border dark:border-dark-sec-border max-w-md w-full",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-brand-main dark:text-white",children:" Gestion Luminose"}),p&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:p}),a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-brand-main dark:text-dark-text text-sm font-bold mb-2",children:"Identifiant"}),a.jsx("input",{type:"text",value:l,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-brand-border dark:border-dark-sec-border bg-white dark:bg-dark-bg text-brand-main dark:text-white rounded-lg focus:outline-none focus:border-brand-main dark:focus:border-brand-light",required:!0,autoComplete:"username",disabled:x})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-brand-main dark:text-dark-text text-sm font-bold mb-2",children:"Mot de passe"}),a.jsx("input",{type:"password",value:u,onChange:O=>f(O.target.value),className:"w-full px-3 py-2 border border-brand-border dark:border-dark-sec-border bg-white dark:bg-dark-bg text-brand-main dark:text-white rounded-lg focus:outline-none focus:border-brand-main dark:focus:border-brand-light",required:!0,autoComplete:"current-password",disabled:x})]}),a.jsx("button",{type:"submit",disabled:x,className:"w-full bg-brand-main hover:bg-brand-hover dark:bg-brand-light dark:text-brand-hover dark:hover:bg-white text-white py-3 rounded-lg font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Connexion...":"Se connecter"})]})]})})},Ha=({active:s,onClick:l,icon:i,label:u,count:f})=>a.jsxs("button",{onClick:l,className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 group
            ${s?"bg-brand-main text-white shadow-md dark:bg-white dark:text-brand-main":"text-brand-main/70 hover:bg-brand-light hover:text-brand-main dark:text-dark-text/70 dark:hover:bg-dark-sec-bg dark:hover:text-white"}
        `,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(i,{className:`w-4 h-4 ${s?"text-white dark:text-brand-main":"text-brand-main/50 group-hover:text-brand-main dark:text-dark-text/50 dark:group-hover:text-white"}`}),a.jsx("span",{children:u})]}),f!==void 0&&a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${s?"bg-white/20 text-white dark:bg-brand-main/10 dark:text-brand-main":"bg-brand-light text-brand-main/50 dark:bg-dark-bg dark:text-dark-text/50"}`,children:f})]}),M0=({currentSpace:s,currentSocialTab:l,onNavigate:i,counts:u,isMobileOpen:f,onMobileClose:p,onOpenSettings:g})=>a.jsxs(a.Fragment,{children:[f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden backdrop-blur-sm",onClick:p}),a.jsxs("aside",{className:`
                fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-dark-surface border-r border-brand-border dark:border-dark-sec-border flex flex-col transition-transform duration-300 ease-in-out md:translate-x-0 md:static
                ${f?"translate-x-0":"-translate-x-full"}
            `,children:[a.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b border-brand-border dark:border-dark-sec-border",children:[a.jsx("span",{className:"font-bold text-brand-main dark:text-white",children:"Menu"}),a.jsx("button",{onClick:p,children:a.jsx(aa,{className:"w-5 h-5 text-brand-main dark:text-white"})})]}),s==="social"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto space-y-1",children:[a.jsx("div",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-wider mb-3 px-3 mt-2",children:"Navigation"}),a.jsx(Ha,{active:l==="ideas",onClick:()=>i("social","ideas"),icon:$c,label:"Bote  Ides",count:u.ideas}),a.jsx(Ha,{active:l==="drafts",onClick:()=>i("social","drafts"),icon:Bc,label:"En cours",count:u.drafts}),a.jsx(Ha,{active:l==="ready",onClick:()=>i("social","ready"),icon:pr,label:"Prt  publier",count:u.ready}),a.jsx("div",{className:"my-3 border-t border-brand-light dark:border-dark-sec-border mx-2"}),a.jsx(Ha,{active:l==="calendar",onClick:()=>i("social","calendar"),icon:Lc,label:"Calendrier",count:u.calendar}),a.jsx(Ha,{active:l==="archive",onClick:()=>i("social","archive"),icon:Rc,label:"Archives",count:u.archive}),a.jsxs("div",{className:"md:hidden pt-4 mt-4 border-t border-brand-light dark:border-dark-sec-border",children:[a.jsx("div",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-wider mb-3 px-3",children:"Espaces"}),a.jsxs("button",{onClick:()=>{i("social",l),p()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium bg-brand-light dark:bg-dark-sec-bg text-brand-main dark:text-white",children:[a.jsx(fi,{className:"w-5 h-5"})," Contenus"]}),a.jsxs("button",{onClick:()=>{i("clients","ideas"),p()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-brand-main/70 dark:text-dark-text/70",children:[a.jsx(io,{className:"w-5 h-5"})," Clients"]})]})]}),a.jsx("div",{className:"p-4 border-t border-brand-border dark:border-dark-sec-border",children:a.jsxs("button",{onClick:()=>{g(),p()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm font-medium text-brand-main dark:text-dark-text hover:bg-brand-light dark:hover:bg-dark-sec-bg rounded-lg transition-colors group",children:[a.jsx(gi,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),a.jsx("span",{children:"Paramtres IA"})]})})]}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto space-y-1",children:[a.jsx("div",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-wider mb-3 px-3 mt-2",children:"Menu Clients"}),a.jsx("div",{className:"px-3 py-2 text-sm text-brand-main/50 dark:text-dark-text/50 italic",children:"Modules  venir..."}),a.jsxs("div",{className:"md:hidden pt-4 mt-4 border-t border-brand-light dark:border-dark-sec-border",children:[a.jsx("div",{className:"text-xs font-bold text-brand-main/50 dark:text-dark-text/50 uppercase tracking-wider mb-3 px-3",children:"Espaces"}),a.jsxs("button",{onClick:()=>{i("social","ideas"),p()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-brand-main/70 dark:text-dark-text/70",children:[a.jsx(fi,{className:"w-5 h-5"})," Contenus"]}),a.jsxs("button",{onClick:()=>{i("clients","ideas"),p()},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium bg-brand-light dark:bg-dark-sec-bg text-brand-main dark:text-white",children:[a.jsx(io,{className:"w-5 h-5"})," Clients"]})]})]})})]})]}),I0=({items:s,searchQuery:l,onSearchChange:i,onEdit:u,onQuickAdd:f,onGlobalAnalyze:p,isSyncing:g,isInitializing:x})=>{const[N,y]=P.useState(""),[O,A]=P.useState(""),[$,z]=P.useState("ALL"),oe=async B=>{B.preventDefault(),N.trim()&&(await f(N,O),y(""),A(""))},ae=s.filter(B=>$==="ALL"||$==="TO_ANALYZE"&&!B.analyzed||$===Ie.VALID&&B.verdict===Ie.VALID||$===Ie.TOO_BLAND&&B.verdict===Ie.TOO_BLAND||$===Ie.NEEDS_WORK&&B.verdict===Ie.NEEDS_WORK),{countAll:re,countToAnalyze:ne,countValid:q,countBland:se,countWork:W}=P.useMemo(()=>({countAll:s.length,countToAnalyze:s.filter(B=>!B.analyzed).length,countValid:s.filter(B=>B.verdict===Ie.VALID).length,countBland:s.filter(B=>B.verdict===Ie.TOO_BLAND).length,countWork:s.filter(B=>B.verdict===Ie.NEEDS_WORK).length}),[s]),Ne=B=>{switch(B){case Ie.VALID:return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case Ie.TOO_BLAND:return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300";case Ie.NEEDS_WORK:return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}},xe=({text:B,highlight:U})=>{if(!U||!U.trim())return a.jsx(a.Fragment,{children:B});const ye=U.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ve=B.split(new RegExp(`(${ye})`,"gi"));return a.jsx(a.Fragment,{children:ve.map((ge,D)=>ge.toLowerCase()===U.toLowerCase()?a.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-900/50 text-gray-900 dark:text-white font-medium rounded px-0.5",children:ge},D):ge)})};return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"bg-white dark:bg-dark-surface shadow-sm rounded-xl p-6 border border-brand-border dark:border-dark-sec-border",children:[a.jsx("h3",{className:"text-sm font-semibold text-brand-main dark:text-white mb-3",children:"Ajout rapide"}),a.jsxs("form",{onSubmit:oe,className:"space-y-3",children:[a.jsx("input",{type:"text",value:N,onChange:B=>y(B.target.value),placeholder:"Titre de l'ide...",className:"w-full px-4 py-2 bg-brand-light dark:bg-dark-bg border border-brand-border dark:border-dark-sec-border rounded-lg outline-none focus:border-brand-main dark:focus:border-brand-light text-brand-main dark:text-white placeholder-brand-main/40 dark:placeholder-dark-text/40 font-bold"}),a.jsxs("div",{className:"flex-1 flex flex-col w-full border border-brand-border dark:border-dark-sec-border rounded-lg bg-brand-light dark:bg-dark-bg focus-within:ring-2 focus-within:ring-brand-main dark:focus:ring-brand-light overflow-hidden transition-shadow",children:[a.jsx(mo,{}),a.jsx(Qa,{value:O,onChange:A,className:"w-full h-24 p-3",placeholder:"Dtails, notes, liens..."}),O.length>80&&a.jsx("div",{className:"p-1 px-3 border-t border-brand-border/50 dark:border-dark-sec-border/50",children:a.jsx(tf,{current:O.length,max:2e3})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:!N.trim()||g,className:"bg-brand-main hover:bg-brand-hover dark:bg-brand-light dark:text-brand-hover dark:hover:bg-white text-white px-6 py-2.5 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm",children:[g?a.jsx(st,{className:"w-5 h-5 animate-spin"}):a.jsx(Vc,{className:"w-5 h-5"}),"Ajouter"]})})]})]}),a.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 pt-4",children:[a.jsxs("div",{className:"relative group w-full xl:w-72 flex-shrink-0 animate-in fade-in slide-in-from-left-4 duration-300",children:[a.jsx(Am,{className:"absolute left-3 top-2.5 w-4 h-4 text-brand-main/50 dark:text-dark-text/50 group-focus-within:text-brand-main transition-colors"}),a.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:B=>i(B.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-dark-surface border border-brand-border dark:border-dark-sec-border focus:border-brand-main dark:focus:border-brand-light rounded-lg text-sm outline-none transition-all shadow-sm text-brand-main dark:text-white placeholder-brand-main/40 dark:placeholder-dark-text/40"})]}),a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 xl:pb-0 scrollbar-hide max-w-full",children:[a.jsxs("button",{onClick:()=>z("ALL"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors whitespace-nowrap ${$==="ALL"?"bg-brand-main text-white border-brand-main dark:bg-brand-light dark:text-brand-main":"bg-white dark:bg-dark-surface text-brand-main/70 dark:text-dark-text/70 border-brand-border dark:border-dark-sec-border hover:border-brand-main"}`,children:["Tout ",a.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] ${$==="ALL"?"bg-white/20":"bg-brand-light dark:bg-dark-bg"}`,children:re})]}),a.jsxs("button",{onClick:()=>z("TO_ANALYZE"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors whitespace-nowrap ${$==="TO_ANALYZE"?"bg-brand-hover text-white border-brand-hover dark:bg-dark-sec-bg":"bg-white dark:bg-dark-surface text-brand-main/70 dark:text-dark-text/70 border-brand-border dark:border-dark-sec-border hover:border-brand-hover"}`,children:[" analyser ",a.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] ${$==="TO_ANALYZE"?"bg-white/20":"bg-brand-light dark:bg-dark-bg"}`,children:ne})]}),a.jsxs("button",{onClick:()=>z(Ie.VALID),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors whitespace-nowrap ${$===Ie.VALID?"bg-green-600 text-white border-green-600":"bg-white dark:bg-dark-surface text-brand-main/70 dark:text-dark-text/70 border-brand-border dark:border-dark-sec-border hover:border-green-500"}`,children:["Valide ",a.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] ${$===Ie.VALID?"bg-white/20":"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:q})]}),a.jsxs("button",{onClick:()=>z(Ie.TOO_BLAND),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors whitespace-nowrap ${$===Ie.TOO_BLAND?"bg-yellow-500 text-white border-yellow-500":"bg-white dark:bg-dark-surface text-brand-main/70 dark:text-dark-text/70 border-brand-border dark:border-dark-sec-border hover:border-yellow-500"}`,children:["Trop lisse ",a.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] ${$===Ie.TOO_BLAND?"bg-white/20":"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300"}`,children:se})]}),a.jsxs("button",{onClick:()=>z(Ie.NEEDS_WORK),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors whitespace-nowrap ${$===Ie.NEEDS_WORK?"bg-red-500 text-white border-red-500":"bg-white dark:bg-dark-surface text-brand-main/70 dark:text-dark-text/70 border-brand-border dark:border-dark-sec-border hover:border-red-500"}`,children:[" revoir ",a.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] ${$===Ie.NEEDS_WORK?"bg-white/20":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:W})]})]}),a.jsxs("button",{onClick:p,className:"w-full xl:w-auto flex items-center gap-2 text-xs sm:text-sm bg-purple-50 hover:bg-purple-100 dark:bg-purple-900/20 dark:hover:bg-purple-900/40 text-purple-700 dark:text-purple-300 px-4 py-2 rounded-lg font-medium transition-colors border border-purple-200 dark:border-purple-800 shadow-sm whitespace-nowrap justify-center animate-in fade-in slide-in-from-right-4 duration-300",title:"Analyser toutes les nouvelles ides avec l'IA",children:[a.jsx(wn,{className:"w-4 h-4"}),"Analyser"]})]}),a.jsxs("div",{className:"space-y-2",children:[!x&&ae.length===0&&a.jsx("div",{className:"p-12 text-center text-brand-main/50 dark:text-dark-text/50 italic bg-white dark:bg-dark-surface rounded-xl border border-dashed border-brand-border dark:border-dark-sec-border",children:l?"Aucune ide trouve pour cette recherche.":"La bote  ides est vide pour ce filtre."}),ae.map(B=>a.jsxs("div",{onClick:()=>u(B),className:"group bg-white dark:bg-dark-surface p-4 rounded-xl border border-brand-border dark:border-dark-sec-border hover:border-brand-main dark:hover:border-white hover:shadow-md cursor-pointer transition-all flex flex-col md:flex-row md:items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:B.verdict&&a.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium ${Ne(B.verdict)}`,children:B.verdict})}),a.jsx("h4",{className:"font-medium text-brand-main dark:text-white group-hover:text-brand-hover dark:group-hover:text-brand-light transition-colors whitespace-normal break-words leading-snug",children:a.jsx(xe,{text:B.title||"Ide sans titre",highlight:l})}),B.strategicAngle&&a.jsxs("p",{className:"text-xs text-brand-main/50 dark:text-dark-text/50 italic mt-1 line-clamp-2",children:["Angle : ",B.strategicAngle]}),B.notes&&!B.strategicAngle&&a.jsx("p",{className:"text-sm text-brand-main/60 dark:text-dark-text/70 line-clamp-2 mt-1",children:a.jsx(xe,{text:B.notes,highlight:l})})]}),B.analyzed&&(B.platforms.length>0||B.targetFormat)&&a.jsxs("div",{className:"flex flex-row md:flex-col items-end md:items-end gap-2 flex-shrink-0",children:[B.platforms.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:B.platforms.map((U,ye)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-md text-[11px] font-medium border border-purple-200 dark:border-purple-800",children:[ye===0&&a.jsx(Fc,{className:"w-3 h-3"}),U]},ye))}),B.targetFormat&&a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold bg-purple-100 text-purple-700 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-200 dark:border-purple-700 whitespace-nowrap",children:B.targetFormat})]})]},B.id))]})]})},P0={[ut.DIRECT]:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",[ut.LEGERE]:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",[ut.COMPLETE]:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"},A0=({item:s,onClick:l,highlight:i})=>{const u=s.scheduledDate?bi(ff(s.scheduledDate),"d MMM",{locale:mf}):null,f=(p,g)=>{if(!g||!g.trim())return p;const x=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return p.split(new RegExp(`(${x})`,"gi")).map((y,O)=>y.toLowerCase()===g.toLowerCase()?a.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-900/50 text-gray-900 dark:text-white font-medium rounded px-0.5",children:y},O):y)};return a.jsxs("div",{onClick:()=>l(s),className:`
        bg-white dark:bg-dark-surface rounded-lg p-4 shadow-sm border border-brand-border dark:border-dark-sec-border cursor-pointer 
        hover:shadow-md hover:border-brand-main dark:hover:border-white transition-all duration-200 group
      `,children:[a.jsx("div",{className:"flex justify-between items-start mb-2",children:a.jsx("h4",{className:"font-semibold text-brand-main dark:text-white line-clamp-2 leading-tight group-hover:text-brand-hover dark:group-hover:text-brand-light transition-colors",children:f(s.title||"Nouvelle ide",i)})}),a.jsx("p",{className:"text-xs text-brand-main/60 dark:text-dark-text/60 mb-3 line-clamp-2 min-h-[1.5em]",children:f((s.targetFormat===Pe.SCRIPT_VIDEO_REEL_SHORT||s.targetFormat===Pe.SCRIPT_VIDEO_YOUTUBE)&&Zr(s.scriptVideo||"")||Zr(s.body)||"Pas de contenu...",i)}),a.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-hidden flex-1 min-w-0",children:s.platforms.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.platforms.slice(0,2).map((p,g)=>a.jsx("span",{className:"text-[10px] uppercase font-bold text-brand-main/50 dark:text-dark-text/50 bg-brand-light dark:bg-dark-bg px-1.5 py-0.5 rounded",children:p},g)),s.platforms.length>2&&a.jsxs("span",{className:"text-[10px] text-brand-main/40 dark:text-dark-text/40 px-1",children:["+",s.platforms.length-2]})]}):a.jsx("div",{className:"flex items-center text-xs font-medium",children:s.status===_e.READY?a.jsxs("div",{className:"text-green-600 dark:text-green-400 flex items-center",children:[a.jsx(pr,{className:"w-3 h-3 mr-1"}),"Prt"]}):a.jsxs("div",{className:"text-brand-main/40 dark:text-dark-text/40 flex items-center",children:[a.jsx(mi,{className:"w-3 h-3 mr-1"}),"Brouillon"]})})}),a.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[s.depth&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold px-1.5 py-0.5 rounded ${P0[s.depth]||"bg-gray-100 text-gray-500"}`,children:[a.jsx(Kr,{className:"w-2.5 h-2.5"}),s.depth]}),u&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-brand-main/60 dark:text-dark-text/60 bg-brand-light dark:bg-dark-bg px-2 py-1 rounded-md",children:[a.jsx(Lc,{className:"w-3 h-3"}),a.jsx("span",{children:u})]})]})]})]})},ci=({items:s,type:l,searchQuery:i,isInitializing:u,onEdit:f,onNavigateToIdeas:p})=>{const x={drafts:{icon:Bc,emptyTitle:"Aucun brouillon en cours",emptyText:"Vous n'avez aucun post en rdaction.",emptySearch:"Aucun brouillon ne correspond  votre recherche.",showIdeaButton:!0,iconBg:"bg-white dark:bg-dark-surface",iconColor:"text-brand-main/50 dark:text-dark-text/50",iconBorder:"border-brand-border dark:border-dark-sec-border"},ready:{icon:pr,emptyTitle:"Rien  valider",emptyText:"Tous vos posts sont soit en brouillon, soit dj publis.",emptySearch:"Aucun post prt ne correspond  votre recherche.",showIdeaButton:!1,iconBg:"bg-green-50 dark:bg-green-900/20",iconColor:"text-green-500 dark:text-green-400",iconBorder:"border-green-200 dark:border-green-800"},archive:{icon:Rc,emptyTitle:"Aucune archive",emptyText:"Vos publications passes apparatront ici.",emptySearch:"Aucune archive ne correspond  votre recherche.",showIdeaButton:!1,iconBg:"bg-white dark:bg-dark-surface",iconColor:"text-brand-main/50 dark:text-dark-text/50",iconBorder:"border-brand-border dark:border-dark-sec-border"}}[l],N=x.icon;return a.jsx("div",{className:"space-y-6 animate-fade-in",children:!u&&s.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 border shadow-sm ${x.iconBg} ${x.iconBorder}`,children:a.jsx(N,{className:`w-8 h-8 ${x.iconColor}`})}),a.jsx("h3",{className:"text-lg font-medium text-brand-main dark:text-white",children:x.emptyTitle}),a.jsx("p",{className:"text-brand-main/60 dark:text-dark-text/60 max-w-xs mx-auto mt-2",children:i?x.emptySearch:x.emptyText}),x.showIdeaButton&&a.jsxs("button",{onClick:p,className:"mt-6 text-brand-main dark:text-white font-medium hover:underline flex items-center justify-center gap-1 mx-auto",children:["Choisir une ide ",a.jsx(pi,{className:"w-4 h-4"})]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(y=>a.jsx(A0,{item:y,onClick:f,highlight:i},y.id))})})},R0=()=>{const l=window.location.hash.replace("#","").split("/");let i="social";l[0]==="clients"&&(i="clients");let u="ideas";l[1]&&["drafts","ready","ideas","calendar","archive"].includes(l[1])&&(u=l[1]);const f=l[2]&&l[2].trim()!==""?l[2]:null;let p="idea";return l[3]&&["idea","interview","content","slides","postcourt","script"].includes(l[3])&&(p=l[3]),{space:i,tab:u,itemId:f,step:p}};function L0(){const[s,l]=P.useState(!1),[i,u]=P.useState(!0),[f,p]=P.useState([]),[g,x]=P.useState([]),[N,y]=P.useState([]),[O,A]=P.useState(!0),[$,z]=P.useState(!1),[oe,ae]=P.useState(!1),[re,ne]=P.useState(null),[q,se]=P.useState("social"),[W,Ne]=P.useState("ideas"),[xe,B]=P.useState(null),[U,ye]=P.useState("idea"),[ve,ge]=P.useState(""),[D,C]=P.useState(!1),[V,H]=P.useState(!1),[le,he]=P.useState({isOpen:!1,mode:"single"}),[R,S]=P.useState({isOpen:!1,contextId:"",modelId:""}),[L,v]=P.useState({isOpen:!1,title:"",message:"",type:"info"}),E=(F,Q)=>{if(Q.length===0)return F;const ce=new Map(F.map(ke=>[ke.id,ke]));return Q.forEach(ke=>ce.set(ke.id,ke)),Array.from(ce.values())},J=F=>[...F].sort((Q,ce)=>{const ke=Q.lastEdited?new Date(Q.lastEdited).getTime():0;return(ce.lastEdited?new Date(ce.lastEdited).getTime():0)-ke});P.useEffect(()=>{const F=()=>{const{space:Q,tab:ce,itemId:ke,step:qe}=R0();se(Q),Q==="social"&&Ne(ce),B(ke),ye(qe)};return F(),window.addEventListener("hashchange",F),()=>window.removeEventListener("hashchange",F)},[]);const K=(F,Q,ce=null,ke="idea")=>{let qe=`${F}`;F==="social"&&(qe+=`/${Q}`,ce&&(qe+=`/${ce}`,qe+=`/${ke}`)),window.location.hash!==`#${qe}`&&(window.location.hash=qe)},me=xe&&f.find(F=>F.id===xe)||null;P.useEffect(()=>{l(qm()),u(!1)},[]);const be=async()=>{let F=[],Q=[],ce=[];try{[F,Q,ce]=await Promise.all([hh(),gh(),bh()]),F.length>0&&p(F),Q.length>0&&x(Q),ce.length>0&&y(ce)}catch(ke){console.error("Erreur lecture cache:",ke)}finally{A(!1),je(!1,{items:F,contexts:Q,models:ce})}},je=async(F=!1,Q)=>{if(!$){z(!0),ne(null);try{const ce=new Date().toISOString(),ke=1440*60*1e3,qe=si("content"),_r=si("contexts"),Tr=si("models"),Or=li("content"),nr=li("contexts"),Bt=li("models"),Te=Vt=>{if(!Vt)return!0;const gr=Date.parse(Vt);return Number.isNaN(gr)?!0:Date.now()-gr>ke},gt=F||Te(Or)?void 0:qe||void 0,ar=F||Te(nr)?void 0:_r||void 0,sr=F||Te(Bt)?void 0:Tr||void 0,[rn,nn,an]=await Promise.all([th(gt),ah(ar),ih(sr)]),sn=gt?Q?.items??f:[],on=ar?Q?.contexts??g:[],hr=sr?Q?.models??N:[],Dr=J(gt?E(sn,rn):rn),xr=ar?E(on,nn):nn,En=sr?E(hr,an):an;p(Dr),x(xr),y(En),await Promise.all([ai(Dr),Nc(xr),jc(En)]),oi("content",ce),oi("contexts",ce),oi("models",ce),gt||ii("content",ce),ar||ii("contexts",ce),sr||ii("models",ce)}catch(ce){console.error("Sync Error:",ce);let ke=ce.message||"Impossible de synchroniser avec Notion.";ne(ke)}finally{z(!1)}}};P.useEffect(()=>{s&&be()},[s]),P.useEffect(()=>{ge(""),C(!1)},[W]);const Se=()=>{l(!0)},ee=()=>{Hm(),l(!1),p([]),x([]),y([]),A(!0)},ue=F=>{x(F),Nc(F)},Oe=F=>{y(F),jc(F)},ft=async(F,Q)=>{z(!0);try{const ke=[await rh(F,Q),...f];p(ke),await ai(ke)}catch(ce){throw v({isOpen:!0,title:"Erreur Notion",message:ce.message||"Erreur lors de la cration.",type:"error"}),ce}finally{z(!1)}},tt=F=>{K(q,W,F.id,"idea")},jt=()=>{K(q,W,null,"idea")},St=F=>{xe&&K(q,W,xe,F)},Dt=()=>{if(f.filter(Q=>Q.status===_e.IDEA&&!Q.analyzed).length===0){v({isOpen:!0,title:"Dj  jour",message:"Toutes vos ides ont dj t analyses !",type:"success"});return}he({isOpen:!0,mode:"batch"})},Ft=()=>{je()},rt=async F=>{p(Q=>Q.map(ce=>ce.id===F.id?F:ce)),xh(F).catch(console.error);try{await Jc(F)}catch(Q){console.error("Erreur update Notion:",Q),ne("chec de la sauvegarde sur Notion. "+Q.message)}},xt=async F=>{await rt(F),K("social","drafts",F.id,"idea")},pt=async F=>{const Q=f.filter(ce=>ce.id!==F.id);p(Q),K(q,W,null,"idea"),ai(Q).catch(console.error);try{await nh(F.id),v({isOpen:!0,title:"Suppression russie",message:"L'lment a t archiv dans Notion.",type:"success"})}catch(ce){console.error("Erreur delete Notion:",ce),ne("Impossible de supprimer sur Notion. "+ce.message)}},Mt=F=>{he({isOpen:!0,mode:"single",itemId:F.id})},$t=async(F,Q)=>{const ce=le.mode,ke=le.itemId;he({isOpen:!1,mode:"single"}),ce==="single"?await rr(F,Q,ke):S({isOpen:!0,contextId:F,modelId:Q})},rr=async(F,Q,ce)=>{const ke=f.find(qe=>qe.id===ce);if(ke){ae(!0);try{const qe=qa.ANALYZE_BATCH,_r=g.find(Te=>Te.id===F),Tr=qe.getSystemInstruction(_r?.description||"Expert Marketing."),Or=[{id:ke.id,titre:ke.title,notes:ke.notes}];let nr="";_i(Q,N)?nr=await Ti({model:Q,systemInstruction:Tr,prompt:JSON.stringify(Or)}):nr=await Ei({model:Q,systemInstruction:Tr,prompt:JSON.stringify(Or),generationConfig:qe.generationConfig});let Bt=[];try{Bt=JSON.parse(nr)}catch{const gt=nr.replace(/```json\s?/g,"").replace(/```\s?/g,"").trim();Bt=JSON.parse(gt)}if(Array.isArray(Bt)&&Bt.length>0){const Te=Bt[0],ar=(Array.isArray(Te.plateformes)?Te.plateformes:[]).map(br=>br).filter(br=>Object.values(ki).includes(br)),sr=Te.format_cible??Te.format_suggere,rn=wi(sr)?sr:void 0,nn=Ni(Te.cible_offre)?Te.cible_offre:void 0,an=typeof Te.justification=="string"?Te.justification:void 0,sn=typeof Te.metaphore_suggeree=="string"?Te.metaphore_suggeree:void 0,on=typeof Te.titre=="string"?Te.titre:void 0,hr=ji(Te.profondeur)?Te.profondeur:void 0,Dr=_r?.name||"Contexte par dfaut",En=`

_Gnr par : ${N.find(br=>br.apiCode===Q)?.name||(Q===Xt.FAST?"Gemini Flash":Q)} - ${Dr} - le ${new Date().toLocaleString("fr-FR")}_`,Vt=Te.angle_strategique??Te.angle??"",gr=on?`**Titre suggr :** ${on}

${Vt}`:Vt,_n={...ke,verdict:Te.verdict,strategicAngle:gr+En,platforms:ar.length>0?ar:ke.platforms,targetFormat:rn,targetOffer:nn||ke.targetOffer,justification:an??ke.justification,suggestedMetaphor:sn??ke.suggestedMetaphor,depth:hr??ke.depth,analyzed:!0};await rt(_n)}}catch(qe){v({isOpen:!0,title:"Erreur Analyse",message:qe.message,type:"error"})}finally{ae(!1)}}},Ue=()=>{H(!0)},Ge=P.useMemo(()=>f.filter(F=>F.title.toLowerCase().includes(ve.toLowerCase())||Zr(F.body).toLowerCase().includes(ve.toLowerCase())||Zr(F.scriptVideo||"").toLowerCase().includes(ve.toLowerCase())||F.notes.toLowerCase().includes(ve.toLowerCase())),[f,ve]),Sn=P.useMemo(()=>Ge.filter(F=>F.status===_e.IDEA),[Ge]),la=P.useMemo(()=>Ge.filter(F=>F.status===_e.DRAFTING),[Ge]),Cn=P.useMemo(()=>Ge.filter(F=>F.status===_e.READY),[Ge]),Ja=P.useMemo(()=>{const F=new Date;return Ge.filter(Q=>Q.status===_e.PUBLISHED&&!!Q.scheduledDate&&new Date(Q.scheduledDate)<F).sort((Q,ce)=>{const ke=Q.scheduledDate?new Date(Q.scheduledDate).getTime():0;return(ce.scheduledDate?new Date(ce.scheduledDate).getTime():0)-ke})},[Ge]),tn=P.useMemo(()=>{const F=new Date;return{ideas:f.filter(Q=>Q.status===_e.IDEA).length,drafts:f.filter(Q=>Q.status===_e.DRAFTING).length,ready:f.filter(Q=>Q.status===_e.READY).length,calendar:f.filter(Q=>!!Q.scheduledDate&&new Date(Q.scheduledDate)>F).length,archive:f.filter(Q=>Q.status===_e.PUBLISHED&&!!Q.scheduledDate&&new Date(Q.scheduledDate)<F).length}},[f]);return i?a.jsx("div",{className:"h-screen flex items-center justify-center bg-brand-light dark:bg-dark-bg",children:a.jsx(st,{className:"w-8 h-8 text-brand-main dark:text-dark-text animate-spin"})}):s?a.jsxs("div",{className:"h-screen bg-brand-light dark:bg-dark-bg text-brand-main dark:text-dark-text font-sans flex flex-col transition-colors duration-200 overflow-hidden",children:[a.jsx("header",{className:"bg-white dark:bg-dark-surface border-b border-brand-border dark:border-dark-sec-border flex-shrink-0 z-30",children:a.jsxs("div",{className:"h-14 px-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-8",children:[a.jsx("button",{onClick:()=>C(!0),className:"md:hidden p-2 text-brand-main dark:text-white",children:a.jsx(Mm,{className:"w-6 h-6"})}),a.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-brand-main to-brand-hover rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-md flex-shrink-0",children:"L"}),a.jsxs("div",{className:"hidden md:flex space-x-2",children:[a.jsxs("button",{onClick:()=>K("social",W),className:`
                        px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-2
                        ${q==="social"?"bg-brand-light text-brand-main dark:bg-dark-sec-bg dark:text-white border-2 border-brand-border dark:border-dark-sec-border":"text-gray-500 hover:text-brand-main dark:text-dark-text/70 dark:hover:text-white hover:bg-brand-light dark:hover:bg-dark-sec-bg border-2 border-transparent"}
                    `,children:[a.jsx(fi,{className:"w-4 h-4"}),"Contenus"]}),a.jsxs("button",{onClick:()=>K("clients","ideas"),className:`
                        px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-2
                        ${q==="clients"?"bg-brand-light text-brand-main dark:bg-dark-sec-bg dark:text-white border-2 border-brand-border dark:border-dark-sec-border":"text-gray-500 hover:text-brand-main dark:text-dark-text/70 dark:hover:text-white hover:bg-brand-light dark:hover:bg-dark-sec-bg border-2 border-transparent"}
                    `,children:[a.jsx(io,{className:"w-4 h-4"}),"Clients"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>je(!0),disabled:$,className:"p-2 text-brand-main/70 hover:text-brand-main dark:text-dark-text/70 dark:hover:text-white transition-colors rounded-full hover:bg-brand-light dark:hover:bg-dark-sec-bg disabled:opacity-50 disabled:animate-spin",title:"Synchroniser avec Notion",children:a.jsx(Kn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:ee,className:"p-2 text-brand-main/70 hover:text-red-600 dark:text-dark-text/70 dark:hover:text-red-400 transition-colors rounded-full hover:bg-brand-light dark:hover:bg-dark-sec-bg",title:"Dconnexion",children:a.jsx(Dm,{className:"w-4 h-4"})})]})]})}),re&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border-b border-red-200 dark:border-red-800 p-2 text-center text-xs flex-shrink-0 animate-fade-in",children:a.jsxs("span",{className:"text-red-700 dark:text-red-300 flex items-center justify-center gap-3 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ea,{className:"w-4 h-4"}),re]}),a.jsx("button",{onClick:je,className:"underline font-bold hover:text-red-900 dark:hover:text-white ml-2",children:"Ressayer"})]})}),a.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[$&&a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/60 dark:bg-dark-bg/60 backdrop-blur-[1px]",children:a.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-dark-surface rounded-2xl shadow-xl border border-brand-border dark:border-dark-sec-border animate-in fade-in zoom-in duration-200",children:[a.jsx(st,{className:"w-10 h-10 text-brand-main dark:text-dark-text animate-spin mb-3"}),a.jsx("p",{className:"text-sm font-semibold text-brand-main dark:text-dark-text",children:"Synchronisation Notion..."})]})}),O&&a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-brand-light dark:bg-dark-bg",children:a.jsx(st,{className:"w-8 h-8 text-brand-main dark:text-dark-text animate-spin"})}),a.jsx(M0,{currentSpace:q,currentSocialTab:W,onNavigate:(F,Q)=>K(F,Q),counts:tn,isMobileOpen:D,onMobileClose:()=>C(!1),onOpenSettings:()=>H(!0)}),q==="clients"&&a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-brand-main/50 dark:text-dark-text/50 relative overflow-y-auto",children:a.jsxs("div",{className:"bg-white dark:bg-dark-surface p-12 rounded-2xl shadow-sm border border-brand-border dark:border-dark-sec-border text-center max-w-md mx-4",children:[a.jsx(io,{className:"w-16 h-16 mx-auto mb-6 text-brand-200 dark:text-dark-text/30"}),a.jsx("h2",{className:"text-xl font-bold text-brand-main dark:text-white mb-2",children:"Espace Clients"}),a.jsx("p",{className:"text-sm",children:"Cet espace est en cours de construction. Bientt, vous pourrez grer vos CRM et vos projets clients ici."})]})}),q==="social"&&a.jsxs("main",{className:"flex-1 overflow-hidden relative flex flex-col",children:[me&&me.status!==_e.IDEA?a.jsx(Ch,{item:me,contexts:g,aiModels:N,onClose:jt,onSave:rt,onDelete:pt,onManageContexts:Ue,activeStep:U,onStepChange:St}):a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-brand-light/95 dark:bg-dark-bg/95 backdrop-blur z-10 px-4 md:px-6 py-4 flex flex-col md:flex-row md:items-center justify-between gap-4 border-b md:border-none border-brand-border dark:border-dark-sec-border",children:a.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-brand-main dark:text-white flex items-center gap-2",children:[W==="drafts"&&"Brouillons en cours",W==="ready"&&"Prts pour publication",W==="ideas"&&"Ides & Inspiration",W==="calendar"&&"Planning",W==="archive"&&"Archives"]})}),a.jsxs("div",{className:"px-4 md:px-6 pb-12 max-w-6xl mx-auto mt-4 md:mt-0",children:[W==="ideas"&&a.jsx(I0,{items:Sn,searchQuery:ve,onSearchChange:ge,onEdit:tt,onQuickAdd:ft,onGlobalAnalyze:Dt,isSyncing:$,isInitializing:O,onNavigateToIdeas:()=>{}}),W==="drafts"&&a.jsx(ci,{items:la,type:"drafts",searchQuery:ve,isInitializing:O,onEdit:tt,onNavigateToIdeas:()=>K("social","ideas")}),W==="ready"&&a.jsx(ci,{items:Cn,type:"ready",searchQuery:ve,isInitializing:O,onEdit:tt,onNavigateToIdeas:()=>K("social","ideas")}),W==="archive"&&a.jsx(ci,{items:Ja,type:"archive",searchQuery:ve,isInitializing:O,onEdit:tt,onNavigateToIdeas:()=>K("social","ideas")}),W==="calendar"&&a.jsx("div",{className:"h-[calc(100vh-250px)] animate-fade-in",children:a.jsx(O0,{items:f,onItemClick:tt})})]})]}),me&&me.status===_e.IDEA&&a.jsx(_h,{item:me,onClose:jt,onChange:rt,onDelete:pt,onTransformToDraft:xt,onAnalyze:()=>Mt(me),isReanalyzing:oe}),a.jsx(yh,{isOpen:V,onClose:()=>H(!1),contexts:g,onContextsChange:ue,aiModels:N,onModelsChange:Oe}),a.jsx(Th,{isOpen:R.isOpen,onClose:()=>S({...R,isOpen:!1}),itemsToAnalyze:f.filter(F=>F.status===_e.IDEA&&!F.analyzed),contexts:g,aiModels:N,selectedContextId:R.contextId,selectedModelId:R.modelId,onAnalysisComplete:Ft}),a.jsx(ef,{isOpen:L.isOpen,onClose:()=>v({...L,isOpen:!1}),title:L.title,message:L.message,type:L.type}),a.jsx(rf,{isOpen:le.isOpen,onClose:()=>he({...le,isOpen:!1}),onConfirm:$t,contexts:g,aiModels:N,actionType:"analyze",onManageContexts:Ue,dataSummary:(()=>{const F=["Titre","Notes"];if(le.mode==="batch"){const Q=f.filter(ce=>!ce.analyzed&&ce.status===_e.IDEA).length;F.push(`${Q} ide${Q>1?"s":""}  analyser`)}return F})()})]})]})]}):a.jsx(D0,{onLoginSuccess:Se})}const hf=document.getElementById("root");if(!hf)throw new Error("Could not find root element to mount to");const z0=bm.createRoot(hf);z0.render(a.jsx(Ya.StrictMode,{children:a.jsx(L0,{})}));
